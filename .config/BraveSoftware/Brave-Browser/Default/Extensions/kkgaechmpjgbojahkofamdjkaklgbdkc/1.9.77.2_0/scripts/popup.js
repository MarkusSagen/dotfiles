!function(e){function webpackJsonpCallback(t){for(var a,n,o=t[0],l=t[1],d=t[2],c=0,u=[];c<o.length;c++)n=o[c],Object.prototype.hasOwnProperty.call(r,n)&&r[n]&&u.push(r[n][0]),r[n]=0;for(a in l)Object.prototype.hasOwnProperty.call(l,a)&&(e[a]=l[a]);for(s&&s(t);u.length;)u.shift()();return i.push.apply(i,d||[]),checkDeferredModules()}function checkDeferredModules(){for(var e,t=0;t<i.length;t++){for(var a=i[t],n=!0,o=1;o<a.length;o++){var s=a[o];0!==r[s]&&(n=!1)}n&&(i.splice(t--,1),e=__webpack_require__(__webpack_require__.s=a[0]))}return e}var t={},r={7:0},i=[];function __webpack_require__(r){if(t[r])return t[r].exports;var i=t[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,__webpack_require__),i.l=!0,i.exports}__webpack_require__.m=e,__webpack_require__.c=t,__webpack_require__.d=function(e,t,r){__webpack_require__.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},__webpack_require__.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},__webpack_require__.t=function(e,t){if(1&t&&(e=__webpack_require__(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(__webpack_require__.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)__webpack_require__.d(r,i,function(t){return e[t]}.bind(null,i));return r},__webpack_require__.n=function(e){var t=e&&e.__esModule?function getDefault(){return e.default}:function getModuleExports(){return e};return __webpack_require__.d(t,"a",t),t},__webpack_require__.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},__webpack_require__.p="";var a=window.webpackJsonp=window.webpackJsonp||[],n=a.push.bind(a);a.push=webpackJsonpCallback,a=a.slice();for(var o=0;o<a.length;o++)webpackJsonpCallback(a[o]);var s=n;i.push([1487,0,2,1,6]),checkDeferredModules()}({0:function(e,t,r){"use strict";r.d(t,"n",(function(){return p})),r.d(t,"p",(function(){return E})),r.d(t,"o",(function(){return f})),r.d(t,"L",(function(){return y})),r.d(t,"F",(function(){return C})),r.d(t,"P",(function(){return T})),r.d(t,"G",(function(){return g})),r.d(t,"J",(function(){return S})),r.d(t,"a",(function(){return D})),r.d(t,"sb",(function(){return v})),r.d(t,"I",(function(){return A})),r.d(t,"B",(function(){return b})),r.d(t,"E",(function(){return I})),r.d(t,"A",(function(){return R})),r.d(t,"z",(function(){return k})),r.d(t,"N",(function(){return O})),r.d(t,"M",(function(){return w})),r.d(t,"C",(function(){return L})),r.d(t,"O",(function(){return N})),r.d(t,"j",(function(){return P})),r.d(t,"ib",(function(){return M})),r.d(t,"D",(function(){return B})),r.d(t,"gb",(function(){return F})),r.d(t,"hb",(function(){return G})),r.d(t,"fb",(function(){return U})),r.d(t,"R",(function(){return H})),r.d(t,"Q",(function(){return Y})),r.d(t,"g",(function(){return W})),r.d(t,"x",(function(){return $})),r.d(t,"y",(function(){return z})),r.d(t,"l",(function(){return V})),r.d(t,"v",(function(){return x})),r.d(t,"w",(function(){return j})),r.d(t,"d",(function(){return K})),r.d(t,"q",(function(){return X})),r.d(t,"s",(function(){return q})),r.d(t,"r",(function(){return J})),r.d(t,"rb",(function(){return Z})),r.d(t,"mb",(function(){return Q})),r.d(t,"lb",(function(){return ee})),r.d(t,"kb",(function(){return te})),r.d(t,"jb",(function(){return re})),r.d(t,"nb",(function(){return ie})),r.d(t,"h",(function(){return ae})),r.d(t,"ob",(function(){return ne})),r.d(t,"t",(function(){return oe})),r.d(t,"u",(function(){return se})),r.d(t,"qb",(function(){return le})),r.d(t,"i",(function(){return de})),r.d(t,"pb",(function(){return ce})),r.d(t,"m",(function(){return ue})),r.d(t,"b",(function(){return he})),r.d(t,"c",(function(){return _e})),r.d(t,"f",(function(){return me})),r.d(t,"k",(function(){return pe})),r.d(t,"e",(function(){return Ee})),r.d(t,"tb",(function(){return fe})),r.d(t,"H",(function(){return ye})),r.d(t,"K",(function(){return Ce})),r.d(t,"S",(function(){return Te})),r.d(t,"X",(function(){return ge})),r.d(t,"cb",(function(){return Se})),r.d(t,"eb",(function(){return De})),r.d(t,"Z",(function(){return ve})),r.d(t,"ab",(function(){return Ae})),r.d(t,"Y",(function(){return be})),r.d(t,"T",(function(){return Ie})),r.d(t,"W",(function(){return Re})),r.d(t,"db",(function(){return ke})),r.d(t,"U",(function(){return Oe})),r.d(t,"V",(function(){return we})),r.d(t,"bb",(function(){return Le}));var i=r(22),a=r.n(i),n=r(16),o=r.n(n),s=r(43),l=r.n(s),d=r(17),c=r.n(d),u=r(4),h=r.n(u),_=r(10),m=r(7);function wrapEnum(e){return h()(e,"hasValue",{value:t=>{var r;return c()(r=l()(e)).call(r,t)},enumerable:!1,writable:!1}),new Proxy(e,{get(e,t){if(!e[t])throw new Error(`Enum member ${t} not found`);return e[t]},set(e,t){throw new Error(`Enum member ${t} set not allowed`)}})}const p=wrapEnum({TrelloAuthorized:"planywayTrelloAuthorized",BoardInitialized:"planywayBoardInitialized",BoardChanged:"planywayBoardChanged",ResizerContentResized:"planywayResizerContentResized",ResizerInitialSizeUpdated:"planywayResizerInitialSizeUpdated",ResizeListenerWindowResized:"planywayResizeListenerWindowResized",ResizeListenerElementResized:"planywayResizeListenerElementResized",AutosizeTextareaResizeRequested:"planywayAutosizeTextareaResizeRequested",SwitchSchedulerShownRequested:"planywaySwitchSchedulerShownRequested",SchedulerShowing:"planywaySchedulerShowing",SchedulerShown:"planywaySchedulerShown",SchedulerOrientationChanged:"planywaySchedulerOrientationChanged",ScrollSchedulerViewRequested:"planywayScrollSchedulerViewRequested",ChangeSchedulerViewRequested:"planywayChangeSchedulerViewRequested",TaskListsToggled:"planywayTaskListsToggled",TrelloFiltersChanged:"planywayTrelloFiltersChanged",TrelloSyncSubscribeRequested:"planywayTrelloSyncSubscribeRequested",TrelloSyncUpdate:"planywayTrelloSyncUpdate",TrelloSyncDelete:"planywayTrelloSyncDelete",TrelloFireKeyRequested:"planywayTrelloFireKeyRequested",TrelloContextError:"planywayTrelloContextError",SettingsChanged:"planywaySettingsChanged",CardsLoaded:"planywayCardsLoaded",CardKeydown:"planywayCardKeydown",CardDragStarted:"planywayCardDragStarted",CardDragEnded:"planywayCardDragEnded",CardTypeChanged:"planywayCardTypeChanged",CardsFieldsSettingsChanged:"planywayCardsFieldsSettingsChanged",CloseDialogsRequested:"planywayCloseDialogsRequested",CardsReloadRequested:"planywayCardsReloadRequested",CardsReloaded:"planywayCardsReloaded",OpenMemberInviteDialogRequested:"planywayOpenMemberInviteDialogRequested",OpenBoardsMenuRequested:"planywayOpenBoardsMenuRequested",SelectTrelloBoardRequested:"planywaySelectTrelloBoardRequested",TrelloBoardSelectionChanged:"planywayTrelloBoardSelectionChanged",SelectGoogleCalendarRequested:"planywaySelectGoogleCalendarRequested",GoogleCalendarSelectionChanged:"planywayGoogleCalendarSelectionChanged",SelectICalCalendarRequested:"planywaySelectICalCalendarRequested",OpenNestedContextMenuRequested:"planywayOpenNestedContextMenuRequested",TaskListsOrientationChanged:"planywayTaskListsOrientationChanged",TimelineResourcesReloaded:"planywayTimelineResourcesReloaded",TimelineResourcesReordered:"planywayTimelineResourcesReordered",TimelineResourceRemoveRequested:"planywayTimelineResourceRemoveRequested",TimelineScrolled:"planywayTimelineScrolled",FilterByCurrentMemberRequested:"planywayFilterByCurrentMemberRequested",FiltersChanged:"planywayFiltersChanged",PrintRequested:"planywayPrintRequested"}),E=wrapEnum({ClearBackgroundStorage:"planywayClearBackgroundStorage",CloseTrelloTabs:"planywayCloseTrelloTabs",ReloadTrelloTabs:"planywayReloadTrelloTabs",GetTelemetryData:"planywayGetTelemetryData",SetTelemetryData:"planywaySetTelemetryData",GetAppStorageData:"planywayGetAppStorageData",SetAppStorageData:"planywaySetAppStorageData",GetTrelloToken:"planywayGetTrelloToken",SetTrelloToken:"planywaySetTrelloToken",SetMemberInfo:"planywaySetMemberInfo",GetGoogleCredentials:"planywayGetGoogleCredentials",SetGoogleCredentials:"planywaySetGoogleCredentials",Rest:"planywayRest",OnProgress:"planywayOnProgress",SwitchSchedulerShown:"planywaySwitchSchedulerShown"}),f=wrapEnum({LoadTelemetryData:"load_telemetry_data",SaveTelemetryData:"save_telemetry_data",LoadTrelloToken:"load_trello_token",SaveTrelloToken:"save_trello_token",GetGoogleAuthCode:"get_google_auth_code",SubscribeNotifications:"subscribe_notifications",LoadPushNotificationsSubscriptions:"load_push_notifications_subscriptions",SavePushNotificationsSubscriptions:"save_push_notifications_subscriptions"}),y=wrapEnum({Get:"get",Patch:"patch",Put:"put",PutForm:"putForm",Post:"post",PostForm:"post_form",PostFile:"post_file",Delete:"delete"}),C=[m.G,m.N,m.c,m.x,m.Q],T=wrapEnum({Trello:"Trello",ThirdParty:"ThirdParty"}),g=wrapEnum({Maximized:"maximized",Minimized:"minimized",Fullscreen:"fullscreen",ShareBoard:"shareBoard",ShareCard:"shareCard",PlanCardByTrelloPopup:"planCardByTrelloPopup",PlanCardByPowerupButton:"planCardByPowerupButton",ViewCardByTrelloPopup:"viewCardByTrelloPopup",ViewCardByPowerupButton:"viewCardByPowerupButton",PushNotificationRemindStart:"pushNotificationRemindStart",InviteEmail:"inviteEmail",InviteLink:"inviteLink"}),S=wrapEnum({Disabled:"disabled",Disabling:"disabling",Enabled:"enabled",Enabling:"enabling"}),D=wrapEnum({}),v=wrapEnum({Skipped:"skipped",MonthlySchedule:"monthlySchedule",TeamManagement:"teamManagement",TimeTracking:"timeTracking",NoLanes:"noLanes"}),A=(wrapEnum({Top:{arrowPosition:"bottom",attachment:"bottom center",targetAttachment:"top center"},Right:{arrowPosition:"left",attachment:"center left",targetAttachment:"center right"},Bottom:{arrowPosition:"top",attachment:"top center",targetAttachment:"bottom center"},Left:{arrowPosition:"right",attachment:"center right",targetAttachment:"center left"},Absolute:{arrowPosition:"absolute",attachment:"bottom right",targetAttachment:"top right"}}),wrapEnum({Small:"small",Large:"large"})),b=wrapEnum({MultiBoard:"multiBoard",RecurringCards:"recurringCards",Filters:"filters",GoogleSync:"googleSync",GoogleConnect:"googleConnect",Milestones:"milestones",PushNotifications:"pushNotifications",Dependencies:"dependencies",Timeline:"timeline",TimelineBoard:"timelineBoard",TimelineLabel:"timelineLabel",TimelineList:"timelineList",TimelineMember:"timelineMember",TimelineScales:"timelineScales",TimeRecords:"timeRecords",CustomFields:"customFields",CsvReport:"csvReport"}),I={[_.g.Trial]:new o.a(l()(b)),[_.g.Pro]:new o.a([b.MultiBoard,b.RecurringCards,b.Filters,b.GoogleSync,b.GoogleConnect,b.Milestones,b.PushNotifications,b.Dependencies,b.Timeline]),[_.g.Team]:new o.a([b.MultiBoard,b.RecurringCards,b.Filters,b.GoogleSync,b.GoogleConnect,b.Milestones,b.PushNotifications,b.Dependencies,b.Timeline,b.TimelineBoard,b.TimelineLabel,b.TimelineList,b.TimelineMember,b.TimelineScales,b.TimeRecords,b.CustomFields,b.CsvReport]),[_.g.Free]:new o.a},R=wrapEnum({Info:"info",Success:"success",Warning:"warning",Error:"error",Reload:"reload",Progress:"progress"}),k=wrapEnum({PushNotifications:"pushNotifications"}),O=wrapEnum({Top:"top",Left:"left",Right:"right",Bottom:"bottom"}),w=wrapEnum({Calendar:"calendar",Timeline:"timeline",TimeTracking:"timeTracking"}),L={[w.Timeline]:b.Timeline,[w.TimeTracking]:b.TimeRecords},N=wrapEnum({Week:"scrollWeek",OneDay:"oneDay",ThreeDay:"threeDay",Month:"month",Timeline:"timeline"}),P=wrapEnum({Completed:"completed",Incompleted:"incompleted",All:"all"}),M=wrapEnum({None:"none",Member:"member",Board:"board",List:"list",Label:"label"}),B={[M.Board]:b.TimelineBoard,[M.Label]:b.TimelineLabel,[M.List]:b.TimelineList,[M.Member]:b.TimelineMember},F=wrapEnum({Min:3e8,Max:29e10,Default:675e6,Week:1728e6}),G=wrapEnum({Day:"day",Week:"week",Month:"month",Quarter:"quarter",Year:"year"}),U=wrapEnum({NoResources:"noResources",Members:"members",Calendars:"calendars",Lists:"lists",Labels:"labels"}),H=wrapEnum({List:"list",Kanban:"kanban"}),Y=wrapEnum({Bottom:"bottom",Left:"left",Right:"right"}),W=(new o.a([Y.Right,Y.Left]),wrapEnum({Light:"light",Colorful:"colorful"})),$=wrapEnum({Today:"today",DateSelect:"dateSelect",PreviousDay:"previousDay",NextDay:"nextDay",PreviousWeek:"previousWeek",NextWeek:"nextWeek",PreviousMonth:"previousMonth",NextMonth:"nextMonth",PreviousQuarter:"previousQuarter",NextQuarter:"nextQuarter",PreviousYear:"previousYear",NextYear:"nextYear"}),z=wrapEnum({Internal:"internal",ClosestVisible:"closestVisible",DayScroll:"day",WeekScroll:"week",MonthScroll:"month",QuarterScroll:"quarter",YearScroll:"year",DateSelect:"dateSelect",Today:"today"}),V=wrapEnum({RemoveFromCalendar:"removeFromCalendar"}),x=wrapEnum({Open:"open",Edit:"edit",Remove:"remove",Delete:"delete"}),j=wrapEnum({OnlyOccurrence:"onlyOccurrence",ThisAndFollowing:"thisAndFollowing",AllSeries:"allSeries"}),K=wrapEnum({TrelloBoard:"trelloBoard",GoogleCalendar:"googleCalendar",ICalCalendar:"iCalCalendar"}),X=wrapEnum({Calendar:m.o,User:m.q}),q=wrapEnum({Google:"google",Outlook:"microsoft",Apple:"apple",Other:"other"}),J=["red","pink","purple","deep-purple","indigo","blue","light-blue","cyan","teal","green","light-green","lime","yellow","amber","orange","deep-orange","brown","gray","hoki","default"],Z=wrapEnum({Admin:"admin",Normal:"normal"}),Q=wrapEnum({Private:"private",Organization:"org",Public:"public"}),ee=wrapEnum({Admins:"admins",Members:"members"}),te=wrapEnum({Small:"small",Medium:"medium"}),re=wrapEnum({Blue:"blue",Orange:"orange",Green:"green",Red:"red",Purple:"purple",Pink:"pink",Lime:"lime",Sky:"sky",Grey:"grey"}),ie=wrapEnum({AdvancedChecklists:"advancedChecklists"}),ae=wrapEnum({TrelloCard:"trelloCard",TrelloCustomField:"trelloCustomFieldCard",TrelloCheckItem:"trelloCheckItemCard",TrelloTimeRecord:"trelloTimeRecordCard",GoogleEvent:"googleEvent",ICalEvent:"iCalEvent"}),ne=new o.a([ae.TrelloCard,ae.TrelloCustomField,ae.TrelloCheckItem,ae.TrelloTimeRecord]),oe=wrapEnum({Escape:27,Enter:13,Enter2:10,Left:37,Right:39,C:67,D:68,L:76,M:77,Q:81,S:83,T:84,Space:32,Delete:46,Backspace:8,Key0:48,Key9:57}),se=wrapEnum({48:"black",49:"green",50:"yellow",51:"orange",52:"red",53:"purple",54:"blue",55:"sky",56:"lime",57:"pink"}),le=new o.a([oe.C,oe.D,oe.L,...a()(new Array(oe.Key9-oe.Key0+1),((e,t)=>oe.Key0+t)),oe.M,oe.Space,oe.S,oe.Delete,oe.Backspace]),de={[ae.TrelloCard]:[oe.C,oe.D,oe.L,...a()(new Array(oe.Key9-oe.Key0+1),((e,t)=>oe.Key0+t)),oe.M,oe.Space,oe.S,oe.Delete,oe.Backspace],[ae.TrelloCustomField]:[oe.L,...a()(new Array(oe.Key9-oe.Key0+1),((e,t)=>oe.Key0+t)),oe.M,oe.Space,oe.S,oe.Delete,oe.Backspace],[ae.TrelloCheckItem]:[oe.L,...a()(new Array(oe.Key9-oe.Key0+1),((e,t)=>oe.Key0+t)),oe.M,oe.Space,oe.Delete,oe.Backspace],[ae.TrelloTimeRecord]:[oe.L,...a()(new Array(oe.Key9-oe.Key0+1),((e,t)=>oe.Key0+t)),oe.M,oe.Space,oe.Delete,oe.Backspace],[ae.GoogleEvent]:[oe.Delete,oe.Backspace]},ce=wrapEnum({Checkbox:"checkbox",Date:"date",List:"list",Number:"number",Text:"text"}),ue=wrapEnum({CustomField:"customField"}),he=wrapEnum({File:"file",Link:"link"}),_e=new o.a(["bmp","gif","ico","jpeg","jpg","png","svg","webp"]),me=wrapEnum({Blocks:"blocks",IsBlockedBy:"isBlockedBy"}),pe={[me.Blocks]:me.IsBlockedBy,[me.IsBlockedBy]:me.Blocks},Ee=wrapEnum({NoCard:"noCard",NoLink:"noLink",LinksDisabled:"linksDisabled"}),fe={[v.MonthlySchedule]:{schedulerOrientation:O.Top,schedulerMode:w.Calendar,schedulerView:N.Month,isMilestonesShown:!0,taskListsView:H.List,taskListsOrientation:Y.Right},[v.TeamManagement]:{schedulerOrientation:O.Top,schedulerMode:w.Timeline,timelineView:M.Member,timelineScale:F.Default,isMilestonesShown:!0,taskListsView:H.Kanban,taskListsOrientation:Y.Right},[v.TimeTracking]:{schedulerOrientation:O.Top,schedulerMode:w.TimeTracking,timelineView:M.None,timelineScale:F.Default,isMilestonesShown:!0,taskListsView:H.Kanban,taskListsOrientation:Y.Right},[v.NoLanes]:{schedulerOrientation:O.Top,schedulerMode:w.Timeline,timelineView:M.None,timelineScale:F.Default,isMilestonesShown:!0,taskListsView:H.Kanban,taskListsOrientation:Y.Right}},ye=wrapEnum({Free:"free",Trial:"trial"}),Ce=wrapEnum({TimeRecords:"timeRecords",AllCards:"allCards"}),Te=wrapEnum({[_.a.Chrome]:"Chrome Extension",[_.a.Safari]:"Safari Extension",[_.a.PowerUp]:"PowerUp",[_.a.Standalone]:"Standalone",[_.a.Teams]:"MS Teams"}),ge=wrapEnum({GeneralEvents:wrapEnum({Installed:"Installed",FeedbackOpened:"Feedback Opened",FeedbackSent:"Feedback Sent",LiveChatOpened:"Live Chat Opened",ShortcutsOpened:"Shortcuts Opened",QuickStartClicked:"Quick Start Clicked",HelpClicked:"Help Clicked",UpgradeClicked:"Upgrade Clicked",BillingClicked:"Billing Clicked",UsersClicked:"Users Clicked",UpgradeOffered:"Upgrade Offered",UpgradeOfferLearnClicked:"Upgrade Offer Learn More Clicked",UpgradeOfferUpgradeClicked:"Upgrade Offer Upgrade Now Clicked",TrialStarted:"Trial Started",AuthRequested:"Auth Requested",AuthConfirmed:"Auth Confirmed",AuthRejected:"Auth Rejected",NewsShown:"News Shown",NewsHidden:"News Hidden",NewsLearnMoreClicked:"News Learn More Clicked",NewsBlogClicked:"News Blog Clicked",NewsHelpClicked:"News Help Clicked",NewsClicked:"What's New Clicked",TimeZoneChanged:"Time Zone Changed",LogInClicked:"Log In Clicked",LogOutClicked:"Log Out Clicked",GetTrelloTokenLinkClicked:"Get Trello Token Link Clicked",SignedInWithTrelloToken:"Signed In With Trello Token",HomeScreenShown:"Home Page Shown",NoBoardsScreenShown:"No Boards Page Shown",CreateBoardClicked:"Create Board Clicked",EditBoardClicked:"Edit Board Clicked",RemoveBoardClicked:"Remove Board Clicked",AccountClicked:"Account Clicked",AppsStoreIconClicked:"Apps Store Icon Clicked",TrialExpiredShown:"Trial Expired Dialog Shown",TrialExpiredClosed:"Trial Expired Dialog Closed",TrialExpiredStayFreeClicked:"Pricing Stay Free Clicked",TrialExpiredPaymentPeriodChanged:"Pricing Payment Period Changed",TrialExpiredQuantityChanged:"Pricing Quantity Changed",TrialExpiredPurchaseNowClicked:"Pricing Purchase Button Clicked",TrialExpiredContactUsClicked:"Pricing Enterprise Contact Us Clicked",ContactUsClosed:"Contact Us Dialog Closed",ContactUsSubmitClicked:"Contact Us Dialog Submit Clicked",ImportICalHowToLinkClicked:"Import iCal Help Link Clicked",ExportICalHowToLinkClicked:"Export iCal Help Link Clicked",WindowMaximized:"Window Maximized",WindowMinimized:"Window Minimized",OpenedByLink:"Opened By Link",StandaloneOpenedByLink:"Standalone Opened By Link",PushNotificationsEnabled:"Notifications Enabled",PushNotificationsDisabled:"Notifications Disabled",PushNotificationsBannerShown:"Notifications Banner Shown",PushNotificationsBannerClosed:"Notifications Banner Closed",ReportDialogOpened:"Report Dialog Opened",ReportParametersChanged:"Report Parameters Changed",ReportBuilt:"Report Built"}),PopupEvents:wrapEnum({Loaded:"Popup Loaded",SignInWithTrelloClicked:"Sign In With Trello Clicked",GoToTrelloClicked:"Go To Trello Clicked",RateUsClicked:"Rate Us Clicked"}),TrelloEvents:wrapEnum({BoardSwitched:"Trello Board Switched",PlanywayPowerUpClicked:"Planyway PowerUp Clicked"}),CalendarEvents:wrapEnum({Shown:"Calendar Shown",Hidden:"Calendar Hidden",Opened:"Opened",CalendarOpened:"Calendar Opened",TimelineOpened:"Timeline Opened",TimeTrackingOpened:"Time Tracking Opened",OrientationChanged:"Orientation Changed",ViewModeChanged:"View Mode Changed",CalendarNavigated:"Calendar Navigated",TimelineNavigated:"Timeline Navigated",TimelineScaleChanged:"Timeline Scale Changed",Refreshed:"Cards Refreshed",Multiselected:"Cards Multiselected",CurrentBoardChanged:"Current Board Changed",PublicBoardAdded:"Public Board Added",PublicBoardRemoved:"Public Board Removed",AddCalendarsDialogOpened:"Add Calendars Dialog Opened",GoogleConnectEnabled:"Google Connect Enabled",GoogleConnectDisabled:"Google Connect Disabled",MultiBoardChanged:"MultiBoard Changed",MultiBoardSelectedAll:"MultiBoard Selected All",MultiBoardSelectedOnlyCurrent:"MultiBoard Selected Only Current",AddBoardByUrlDialogOpened:"Add Board By URL Dialog Opened",GoogleCalendarsSelectionChanged:"Google Calendars Selection Changed",GoogleCalendarsSelectedAll:"Google Calendars Selected All",GoogleCalendarsSelectedNone:"Google Calendars Selected None",IntegrationsDialogOpened:"Integrations Opened",IntegrationsEnableGoogleSyncClicked:"Integrations Enable Google Sync Clicked",IntegrationsEnableGoogleConnectClicked:"Integrations Enable Google Connect Clicked",IntegrationsExportByURLClicked:"Integrations Export by URL Clicked",ImportByURLClicked:"Import by URL Clicked",ICalChanged:"iCal Changed",ICalsSelectedAll:"iCal Selected All",ICalsSelectedNone:"iCal Selected None",ICalEditOpened:"iCal Edit Opened",ICalAdded:"iCal Added",ICalColorChanged:"iCal Color Changed",ICalRemoved:"iCal Removed",TimelineMilestoneLaneChanged:"Timeline Milestone Lane Changed",TimelineMembersChanged:"Timeline Members Changed",TimelineMembersSelectedAll:"Timeline Members Selected All",TimelineMembersSelectedOnlyCurrent:"Timeline Members Selected Only Current",TimelineMembersReordered:"Timeline Members Reordered",TimelineInviteMembersClicked:"Timeline Invite Members Clicked",TimelineCalendarsChanged:"Timeline Boards Changed",TimelineCalendarsSelectedAll:"Timeline Boards Selected All",TimelineCalendarsSelectedOnlyCurrent:"Timeline Boards Selected Only Current",TimelineCalendarsReordered:"Timeline Boards Reordered",TimelineAddBoardsClicked:"Timeline Add Boards Clicked",TimelineListsChanged:"Timeline Lists Changed",TimelineListsSelectedAll:"Timeline Lists Selected All",TimelineListsSelectedOnlyDefault:"Timeline Lists Selected Only Default",TimelineListsReordered:"Timeline Lists Reordered",TimelineLabelsChanged:"Timeline Labels Changed",TimelineLabelsSelectedAll:"Timeline Labels Selected All",TimelineLabelsSelectedOnlyDefault:"Timeline Labels Selected Only None",TimelineLabelsReordered:"Timeline Labels Reordered",SyncStarted:"Sync Started",SyncStopped:"Sync Stopped",SidebarOpened:"Sidebar Opened",SidebarClosed:"Sidebar Closed",ShareBoardDialogOpened:"Share Board Dialog Opened",ShareBoardPermissionChanged:"Share Board Permission Changed",ShareBoardLinkCopied:"Share Board Link Copied",TaskListsOpened:"Task List Opened",TaskListsClosed:"Task List Closed",TaskListsBoardSwitched:"Task List Board Switched",TaskListsFiltersChanged:"Task List Filters Changed",TaskListsViewModeChanged:"Task List View Mode Changed",Print:"Print",BoardCreated:"Board Created",BoardEdited:"Board Edited",BoardRemoved:"Board Removed",MemberInviteDialogOpened:"Invite Members Dialog Opened",MemberManageDialogOpened:"Manage Member Dialog Opened",MemberAdded:"Member Added",MemberRemoved:"Member Removed"}),SettingsEvents:wrapEnum({SettingsDialogOpened:"Settings Dialog Opened",WorkHoursChanged:"Work Hours Changed",FirstWeekDayChanged:"First Week Day Changed",WorkDaysChanged:"Work Days Changed",LocaleChanged:"Locale Changed",DueLinkAllDayChanged:"Due Link Date Changed",DueLinkChanged:"Due Link Time Changed",DefaultDurationChanged:"Default Duration Changed",DefaultListChanged:"Default List Changed",DefaultCardPositionChanged:"Default Card Position Changed",EnableTrelloFiltersChanged:"Enable Trello Filters Changed",CardAppearanceDialogOpened:"Card Appearance Dialog Opened",CardThemeChanged:"Card Theme Changed",CardsVisibilityChanged:"Cards Visibility Changed",ShowTrelloBoardChanged:"Show Trello Board Changed",ShowTrelloCardNumberChanged:"Show Trello Card Number Changed",ShowDateTimeChanged:"Show Date Time Changed",CustomFieldsSettingsDialogOpened:"Custom Fields Settings Dialog Opened",CustomFieldsAsCardsChanged:"Show Custom Field Cards Changed",HighlightTodayChanged:"Highlight Today Changed",ShowWeekNumbersChanged:"Show Week Numbers Changed",ShowOnlyWorkDaysChanged:"Show Weekends Changed",ShowOnlyWorkHoursChanged:"Show Non-working Hours Changed",ShowArchivedCardsChanged:"Show Archived Cards Changed",ShowCheckItemCardsChanged:"Show Check Item Cards Changed",ShowMilestonesChanged:"Show Milestones Changed",ShowTimeRecordCardsChanged:"Show Time Entry Cards Changed"}),FiltersEvents:wrapEnum({AddCustomFilterClicked:"Filters Add Filter Clicked",CustomFilterAdded:"Filters Custom Filter Added",CustomFilterRemoved:"Filters Custom Filter Removed",FilterByCurrentMemberToggled:"Filter By Current Member Toggled",Cleared:"Filters Cleared",MembersChanged:"Filters Members Changed",LabelsChanged:"Filters Labels Changed",ListsChanged:"Filters Lists Changed",CustomFieldsChanged:"Filters Custom Fields Changed",CustomFiltersChanged:"Filters Custom Filters Changed"}),CardEvents:wrapEnum({OpenedByUrl:"Card Opened By URL",CreateDialogOpened:"Card Create Dialog Opened",CreateDialogClosed:"Card Create Dialog Closed",EditDialogOpened:"Card Edit Dialog Opened",EditDialogClosed:"Card Edit Dialog Closed",EditDialogModeChanged:"Card Edit Dialog Mode Changed",CreatedFromTaskLists:"Card Created From Task List",Scheduled:"Card Scheduled",Reordered:"Card Reordered",ContextMenuOpened:"Card Context Menu Opened",MarkedCompleted:"Card Marked Completed",MarkedIncompleted:"Card Marked Incompleted",Archived:"Card Archived",Unarchived:"Card Unarchived",Duplicated:"Card Duplicated",Subscribed:"Card Subscribed",Unsubscribed:"Card Unsubscribed",Deleted:"Card Deleted",UrlCopied:"Card URL Copied",TitleChanged:"Card Name Changed",TypeChanged:"Card Type Changed",DatesRemoved:"Card Dates Removed",IsAllDaySet:"Card Is All Day Set",IsAllDayUnset:"Card Is All Day Unset",StartChanged:"Card Start Changed",EndChanged:"Card End Changed",TimeAdded:"Card Time Added",TimeRemoved:"Card Time Removed",DurationChanged:"Card Duration Changed",DailyEstimateChanged:"Card Daily Estimate Changed",DailyEstimateFieldVisibilityChanged:"Card Daily Estimate Field Visibility Changed",Moved:"Card Moved",Resized:"Card Resized",RecurrenceRuleChanged:"Card Recurrence Rule Changed",PriorityChanged:"Card Priority Changed",BoardChanged:"Card Board Changed",GoogleCalendarChanged:"Card Google Calendar Changed",ListChanged:"Card List Changed",ParentCardChanged:"Card Parent Changed",ParentCardOpened:"Card Parent Opened",PositionChanged:"Card Position Changed",MemberAssigned:"Card Member Assigned",MemberAssignedSelf:"Card Assigned To Me",MemberUnassigned:"Card Member Unassigned",MemberUnassignedSelf:"Card Unassigned From Me",MemberChanged:"Card Member Changed",LabelAdded:"Card Label Added",LabelRemoved:"Card Label Removed",LabelChanged:"Card Label Changed",DescriptionChanged:"Card Description Changed",CustomFieldChanged:"Card Custom Field Changed",ReminderAdded:"Card Reminder Added",ReminderChanged:"Card Reminder Changed",ReminderDeleted:"Card Reminder Deleted",CardLinkAdded:"Card Dependency Added",CardLinkTypeChanged:"Card Dependency Type Changed",CardLinkLinkedCardOpened:"Card Dependency Dependent Card Opened",CardLinkRemoved:"Card Dependency Removed",ChecklistAdded:"Card Checklist Added",ChecklistNameChanged:"Card Checklist Name Changed",ChecklistOrderChanged:"Card Checklist Order Changed",ChecklistCollapsed:"Card Checklist Collapsed",ChecklistExpanded:"Card Checklist Expanded",ChecklistCompletedHidden:"Card Checklist Completed Items Hidden",ChecklistCompletedShown:"Card Checklist Completed Items Shown",ChecklistDeleted:"Card Checklist Deleted",CheckItemAdded:"Card Check Item Added",CheckItemNameChanged:"Card Check Item Name Changed",CheckItemOrderChanged:"Card Check Item Order Changed",CheckItemChecklistChanged:"Card Check Item Checklist Changed",CheckItemMarkedCompleted:"Card Check Item Marked Completed",CheckItemMarkedIncompleted:"Card Check Item Marked Incompleted",CheckItemDeleted:"Card Check Item Deleted",CheckItemDatesSet:"Card Check Item Dates Set",CheckItemDatesRemoved:"Card Check Item Dates Removed",CheckItemIsAllDaySet:"Card Check Item Is All Day Set",CheckItemIsAllDayUnset:"Card Check Item Is All Day Unset",CheckItemStartChanged:"Card Check Item Start Changed",CheckItemEndChanged:"Card Check Item End Changed",CheckItemMemberAssigned:"Card Check Item Member Assigned",CheckItemMemberUnassigned:"Card Check Item Member Unassigned",CheckItemContextMenuOpened:"Card Check Item Context Menu Opened",TimeRecordAdded:"Card Time Entry Added",TimeRecordCommentChanged:"Card Time Entry Comment Changed",TimeRecordDeleted:"Card Time Entry Deleted",TimeRecordFromChanged:"Card Time Entry Start Changed",TimeRecordToChanged:"Card Time Entry End Changed",TimeRecordDurationChanged:"Card Time Entry Duration Changed",TimeRecordTimeAdded:"Card Time Entry Time Added",TimeRecordTimeRemoved:"Card Time Entry Time Removed",TimeRecordMemberChanged:"Card Time Entry Member Changed",AttachmentAdded:"Card Attachment Added",AttachmentClicked:"Card Attachment Clicked",AttachmentLinkChanged:"Card Attachment Link Changed",AttachmentNameChanged:"Card Attachment Name Changed",AttachmentDeleted:"Card Attachment Deleted",CommentAdded:"Card Comment Added",CommentEdited:"Card Comment Edited",CommentDeleted:"Card Comment Deleted",CommentReplyClicked:"Card Comment Reply Clicked",CardOpenClicked:"Card Open Clicked",CardDoubleClicked:"Card Double Clicked",CardViewOnTimelineClicked:"Card View On Timeline Clicked"}),OnboardingEvents:wrapEnum({SignInStepShown:"Sign In Onboarding Step Shown",OpenBoardStepShown:"Open Board Onboarding Step Shown",ShowButtonShown:"Show Button Onboarding Shown",ShowButtonPassed:"Show Button Onboarding Passed",ShowButtonSkipped:"Show Button Onboarding Skipped",LoginDialogOpened:"Onboarding Login Dialog Opened",LoginDialogClosed:"Onboarding Login Dialog Closed",SurveyShown:"Onboarding Survey Shown",SurveyPassed:"Onboarding Survey Passed",ChooseModeShown:"Onboarding Choose View Shown",ChooseModePassed:"Onboarding Choose View Passed",TourClicked:"Onboarding Tour Clicked",TourStepShown:"Onboarding Tour Step Shown",TourMinimized:"Onboarding Tour Minimized",TourMaximized:"Onboarding Tour Maximized",TourClosed:"Onboarding Tour Closed",TourDone:"Onboarding Tour Done"}),TaskListEvents:wrapEnum({ContextMenuOpened:"List Context Menu Opened",Created:"List Created",NameChanged:"List Name Changed",PositionChanged:"List Position Changed",Deleted:"List Deleted"})}),Se=wrapEnum({PaidFeatureOfferDialog:"Upgrade Offer Dialog",AddCalendarsDialog:"Add Calendars Dialog",OnboardingDialog:"Onboarding"}),De=wrapEnum({PaidFeatureOfferDialog:"Upgrade Offer Dialog",OnboardingDialog:"Onboarding"}),ve=wrapEnum({Button:"Button",Link:"Link"}),Ae=wrapEnum({HomeSidebar:"Home Sidebar",SchedulerToolbar:"Scheduler Toolbar",TeamsConfigurationPage:"Teams Configuration Page"}),be=wrapEnum({BrowserPopup:"Browser Popup",HomeSidebar:"Home Sidebar",LoginDialog:"Login Dialog",PaidFeatureOfferDialog:"Upgrade Offer Dialog",Scheduler:"Scheduler",Sidebar:"Sidebar",Toolbar:"Toolbar"}),Ie=wrapEnum({HomePage:"Home Page",Integrations:"Integrations",Sidebar:"Sidebar",TeamsConfigurationPage:"Teams Configuration Page"}),Re=wrapEnum({Scheduler:"Scheduler",TaskList:"Task List",Trello:"Trello"}),ke=wrapEnum({Toolbar:"Toolbar",ToolbarMenu:"Toolbar Menu"}),Oe=wrapEnum({Drop:"Drop",Click:"Click",Stretching:"Stretching",SetDates:"Set Dates",Dialog:"Dialog",DialogHotkey:"Dialog Hotkey",DialogToolbar:"Dialog Toolbar",DialogMenu:"Dialog Menu",Hotkey:"Hotkey",ContextMenu:"Context Menu",TrelloPopup:"Trello Popup",PowerUpButton:"Power-Up Button",Mouse:"Mouse",RightClick:"Right Click",MenuButton:"Menu Button",Paste:"Paste",TaskLists:"Task Lists"}),we=wrapEnum({AllDay:"All Day",NonAllDay:"Non-All Day",Milestone:"Milestone",NoLane:"No Lane",MemberLane:"Member Lane",MemberLaneSelf:"My Lane",BoardLane:"Board Lane",ListLane:"List Lane",LabelLane:"Label Lane"}),Le=(wrapEnum({ContextMenu:"Context Menu",Mouse:"Mouse",MenuButton:"Menu Button"}),wrapEnum({Settings:"Settings",Banner:"Banner",Dialog:"Dialog"}))},1:function(e,t,r){"use strict";r.d(t,"Bb",(function(){return ngInject})),r.d(t,"Jb",(function(){return visibleToKendo})),r.d(t,"Q",(function(){return getHourStart})),r.d(t,"O",(function(){return getDayStart})),r.d(t,"N",(function(){return getDayEnd})),r.d(t,"W",(function(){return getMidday})),r.d(t,"eb",(function(){return getWeekStart})),r.d(t,"db",(function(){return getWeekEnd})),r.d(t,"ab",(function(){return getQuarterStart})),r.d(t,"Z",(function(){return getQuarterEnd})),r.d(t,"gb",(function(){return getYearStart})),r.d(t,"fb",(function(){return getYearEnd})),r.d(t,"pb",(function(){return isSameDay})),r.d(t,"qb",(function(){return isSameYear})),r.d(t,"jb",(function(){return isAfter})),r.d(t,"ob",(function(){return isInRange})),r.d(t,"sb",(function(){return isWorkDay})),r.d(t,"Y",(function(){return getNextWorkDay})),r.d(t,"c",(function(){return addMinutes})),r.d(t,"b",(function(){return addHours})),r.d(t,"a",(function(){return addDays})),r.d(t,"e",(function(){return addWeeks})),r.d(t,"d",(function(){return addMonths})),r.d(t,"g",(function(){return addYears})),r.d(t,"f",(function(){return addWorkMs})),r.d(t,"Eb",(function(){return setTime})),r.d(t,"Db",(function(){return roundTime})),r.d(t,"M",(function(){return getDateWithTime})),r.d(t,"T",(function(){return getIntervalMs})),r.d(t,"S",(function(){return getIntervalMinutes})),r.d(t,"R",(function(){return getIntervalDays})),r.d(t,"Ab",(function(){return minutesToIntervalUnits})),r.d(t,"hb",(function(){return intervalUnitsToMinutes})),r.d(t,"ib",(function(){return intervalsIntersect})),r.d(t,"v",(function(){return countWorkTime})),r.d(t,"kb",(function(){return isDateString})),r.d(t,"Fb",(function(){return toDateString})),r.d(t,"Ib",(function(){return toTimeString})),r.d(t,"H",(function(){return fromDateOrISOString})),r.d(t,"J",(function(){return fromLocalDateTimeString})),r.d(t,"Hb",(function(){return toLocalDateTimeString})),r.d(t,"lb",(function(){return isDayStart})),r.d(t,"rb",(function(){return isValidDate})),r.d(t,"w",(function(){return datesEqual})),r.d(t,"zb",(function(){return minDate})),r.d(t,"wb",(function(){return maxDate})),r.d(t,"h",(function(){return arraysEqual})),r.d(t,"vb",(function(){return mapsEqual})),r.d(t,"Cb",(function(){return objectsEqual})),r.d(t,"Gb",(function(){return toKendoExceptionDate})),r.d(t,"I",(function(){return fromKendoExceptionDate})),r.d(t,"xb",(function(){return mergeObjects})),r.d(t,"i",(function(){return capitalizeString})),r.d(t,"j",(function(){return compareStrings})),r.d(t,"r",(function(){return compareTrelloMembers})),r.d(t,"p",(function(){return compareTrelloLabels})),r.d(t,"q",(function(){return compareTrelloLists})),r.d(t,"o",(function(){return compareTrelloCustomFields})),r.d(t,"s",(function(){return compareTrelloReminders})),r.d(t,"m",(function(){return compareTrelloChecklists})),r.d(t,"l",(function(){return compareTrelloCheckItems})),r.d(t,"t",(function(){return compareTrelloTimeRecords})),r.d(t,"k",(function(){return compareTrelloAttachments})),r.d(t,"n",(function(){return compareTrelloComment})),r.d(t,"V",(function(){return getLabelHash})),r.d(t,"L",(function(){return getCustomFieldHash})),r.d(t,"X",(function(){return getNewTrelloPosition})),r.d(t,"mb",(function(){return isFile})),r.d(t,"nb",(function(){return isImage})),r.d(t,"ub",(function(){return loadFileAsDataUrlAsync})),r.d(t,"C",(function(){return formatCardTimes})),r.d(t,"D",(function(){return formatCardTimesShort})),r.d(t,"z",(function(){return formatCardDates})),r.d(t,"B",(function(){return formatCardDatesShort})),r.d(t,"A",(function(){return formatCardDatesLong})),r.d(t,"G",(function(){return formatRelativeDate})),r.d(t,"F",(function(){return formatFullDate})),r.d(t,"E",(function(){return formatDuration})),r.d(t,"K",(function(){return getCorrectedLocale})),r.d(t,"x",(function(){return delayAsync})),r.d(t,"tb",(function(){return keepScrollFocus})),r.d(t,"yb",(function(){return migrateLocalStorage})),r.d(t,"U",(function(){return getKendoSortOrder})),r.d(t,"bb",(function(){return getSearchParam})),r.d(t,"y",(function(){return deleteSearchParams})),r.d(t,"cb",(function(){return getUrlWithQuery})),r.d(t,"P",(function(){return getExtension})),r.d(t,"u",(function(){return copyToClipboardAsync}));var i=r(181),a=r.n(i),n=r(65),o=r.n(n),s=r(96),l=r.n(s),d=r(21),c=r.n(d),u=r(184),h=r.n(u),_=r(41),m=r.n(_),p=r(16),E=r.n(p),f=r(125),y=r.n(f),C=r(30),T=r.n(C),g=r(20),S=r.n(g),D=r(12),v=r.n(D),A=r(62),b=r.n(A),I=r(99),R=r.n(I),k=r(33),O=r.n(k),w=r(23),L=r.n(w),N=r(100),P=r.n(N),M=r(101),B=r.n(M),F=r(9),G=r.n(F),U=r(4),H=r.n(U),Y=r(13),W=r.n(Y),$=r(74),z=r.n($),V=r(26),x=r.n(V),j=r(760),K=r(145),X=r(761),q=r(762),J=r(763),Z=r(764),Q=r(765),ee=r(766),te=r(767),re=r(768),ie=r(267),ae=r(769),ne=r(268),oe=r(770),se=r(185),le=(r(771),r(772)),de=r(776),ce=r(773),ue=r(774),he=r(775),_e=r(7),me=r(0);function ngInject(e){return t=>{t.descriptor?t.descriptor.value.$inject=e:t.elements.push(H()({kind:"method",key:"$inject",placement:"static",descriptor:H()({enumerable:!1,configurable:!0,get:function(){return e}},G.a,{value:"Descriptor"})},G.a,{value:"Descriptor"}))}}function visibleToKendo(){return e=>{e.descriptor&&(e.descriptor.enumerable=!0)}}function getHourStart(e){if(e)return j.a("string"==typeof e?new Date(e):e)}function getDayStart(e){if(e)return K.a("string"==typeof e?new Date(e):e)}function getDayEnd(e){if(e)return X.a("string"==typeof e?new Date(e):e)}function getMidday(e){if(e)return addHours(getDayStart(e),12)}function getWeekStart(e,t){if(!e)return;let r=getDayStart(e);for(let e=0;e<7;e++){if(r.getDay()===t)return r;r=addDays(r,-1)}return r}function getWeekEnd(e,t){if(!e)return;let r=getDayStart(e);for(let e=0;e<7;e++){if(r.getDay()===t)return r;r=addDays(r,1)}return r}function getQuarterStart(e){let t=3*(Math.ceil((e.getMonth()+1)/3)-1);return new Date(e.getFullYear(),t,1)}function getQuarterEnd(e){let t=3*(Math.ceil((e.getMonth()+1)/3)-1)+2,r=new Date(e.getFullYear(),t+1,0).getDate();return new Date(e.getFullYear(),t,r)}function getYearStart(e){return new Date(e.getFullYear(),0,1)}function getYearEnd(e){return new Date(e.getFullYear(),11,31)}function isSameDay(e,t){if(e&&t)return q.a("string"==typeof e?new Date(e):e,"string"==typeof t?new Date(t):t)}function isSameYear(e,t){if(e&&t)return Z.a("string"==typeof e?new Date(e):e,"string"==typeof t?new Date(t):t)}function isAfter(e,t){if(e&&t)return Q.a("string"==typeof e?new Date(e):e,"string"==typeof t?new Date(t):t)}function isInRange(e,t,r,i="[]"){if(!e||!t||!r)return;return!!ee.a("string"==typeof e?new Date(e):e,{start:"string"==typeof t?new Date(t):t,end:"string"==typeof r?new Date(r):r})&&(("("!==i[0]||!datesEqual(e,t))&&(")"!==i[1]||!datesEqual(e,r)))}function isWorkDay(e,t){return!t||t.start<=t.end&&e>=t.start&&e<=t.end||t.start>t.end&&(e>=t.start||e<=t.end)}function getNextWorkDay(e,t){if(!e)return;let r=e;for(let e=0;e<7;e++)if(r=addDays(r,1),isWorkDay(r.getDay(),t))return r;return e}function addMinutes(e,t){if(e)return te.a("string"==typeof e?new Date(e):e,t)}function addHours(e,t){if(e)return re.a("string"==typeof e?new Date(e):e,t)}function addDays(e,t){if(e)return ie.a("string"==typeof e?new Date(e):e,t)}function addWeeks(e,t){if(e)return ae.a("string"==typeof e?new Date(e):e,t)}function addMonths(e,t){if(e)return ne.a("string"==typeof e?new Date(e):e,t)}function addYears(e,t){if(e)return oe.a("string"==typeof e?new Date(e):e,t)}function addWorkMs(e,t,r){if(!e)return;if(t=B()(t),!r)return new Date(e.valueOf()+t);let i=e,a=(e=getDayStart(e)).getDay(),n=isWorkDay(a,r),o=getIntervalMs(e,i),s=e.getTime();if(t>=0)for(n&&(t+=o);;){if(a===r.start&&(n=!0),n){let r=addDaysFast(e,1);if(t<r-s&&e.setTime(s+t),t-=r-s,s=r,t<=0)return e}else s=addDaysFast(e,1);a===r.end&&(n=!1),a++,a>6&&(a=0)}else{if(n&&(t+=o)>=0)return new Date(s+t);for(;;){if(a===r.end&&(n=!0),n){if(t>=0)return e;let r=addDaysFast(e,-1);t>r-s&&e.setTime(s+t),t+=s-r,s=r}else s=addDaysFast(e,-1);a===r.start&&(n=!1),a--,a<0&&(a=6)}}}function setTime(e,t){if(!e||!t)return;if("string"==typeof t&&(t=new Date(t)),datesEqual(e,t))return t;let r=new Date(e);return r.setHours(t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()),r}function roundTime(e,t){if(!e)return;let r=new Date(e);switch(t){case"quarterHour":r.setMilliseconds(0),r.setSeconds(0),r.setMinutes(15*Math.floor(r.getMinutes()/15))}return r}function getDateWithTime(e,t=0,r=0,i=0,a=0){if(!e)return;let n=new Date(e);return n.setHours(t,r,i,a),n}function getIntervalMs(e,t){if(e&&t)return se.a("string"==typeof t?new Date(t):t,"string"==typeof e?new Date(e):e)}function getIntervalMinutes(e,t){if(e&&t)return le.a("string"==typeof t?new Date(t):t,"string"==typeof e?new Date(e):e)}function getIntervalDays(e,t){if(e&&t)return de.a("string"==typeof t?new Date(t):t,"string"==typeof e?new Date(e):e)}function minutesToIntervalUnits(e){if(0===e)return{unit:"minutes",value:0};let t=x.a.duration(e,"minutes");if(t.minutes())return{unit:"minutes",value:t.asMinutes()};if(t.hours())return{unit:"hours",value:t.asHours()};let r=t.asDays();return r%7!=0?{unit:"days",value:r}:{unit:"weeks",value:t.asWeeks()}}function intervalUnitsToMinutes(e,t){switch(e){case"weeks":case"days":case"hours":case"minutes":return x.a.duration(t,e).asMinutes();default:return t}}function intervalsIntersect(e,t,r,i){return!!(e&&t&&r&&i)&&(r<=t&&i>=e)}function countWorkTime(e,t,r){if(!e||!t)return;if("string"==typeof e&&(e=new Date(e)),"string"==typeof t&&(t=new Date(t)),!r)return{days:getIntervalDays(e,t),minutes:getIntervalMinutes(e,t),ms:getIntervalMs(e,t)};let i=e>t;if(i){let r=e;e=t,t=r}let a=e.getDay(),n=isWorkDay(a,r),o=getDayStart(e),s=0,l=0,d=0,c=!1;n&&(s=-getIntervalMs(o,e),l=-getIntervalMinutes(o,e));let u=o.getTime(),h=t.getTime();for(;;){a===r.start&&(n=!0),n&&(c&&d++,c=!0);let e=addDaysFast(o,1);if(e>=h)return n&&(s+=h-u,l+=getIntervalMinutes(u,t)),c&&e===h&&isWorkDay((a+1)%7,r)&&d++,i&&(s=-s,l=-l,d=-d),{ms:s,minutes:l,days:d};n&&(s+=e-u,l+=(e-u)/6e4),u=e,a===r.end&&(n=!1),a++,a>6&&(a=0)}}function isDateString(e){return/^\d{4}-\d{2}-\d{2}$/.test(e)}function toDateString(e){if(e)return x()(e).format("YYYY-MM-DD")}function toTimeString(e){if(e)return x()(e).format("HH:mm")}function fromDateOrISOString(e,t){if(e)return(null!=t?t:isDateString(e))?function fromDateString(e){if(e)return x()(e,"YYYY-MM-DD").toDate()}(e):new Date(e)}function fromLocalDateTimeString(e){if(e)return x()(e,"YYYY-MM-DDTHH:mm:ss").toDate()}function toLocalDateTimeString(e){if(e)return x()(e).format("YYYY-MM-DDTHH:mm:ss")}function isDayStart(e){if(e)return datesEqual(e,getDayStart(e))}function isValidDate(e){return!!e&&!P()(e.getTime())}function datesEqual(e,t){return e&&t?ce.a("string"==typeof e?new Date(e):e,"string"==typeof t?new Date(t):t):!e==!t}function minDate(e,t){if(e||t)return e&&!t?e:!e&&t?t:ue.a([e,t])}function maxDate(e,t){if(e||t)return e&&!t?e:!e&&t?t:he.a([e,t])}function arraysEqual(e,t,r=!0){if(e.length!==t.length)return!1;var i,a;r&&(e=L()(i=[...e]).call(i),t=L()(a=[...t]).call(a));return z()(e,t)}function mapsEqual(e,t){if(e.size!==t.size)return!1;for(let r of O()(e).call(e))if(!t.has(r))return!1;for(let[r,i]of R()(e).call(e))if(!z()(i,t.get(r)))return!1;return!0}function objectsEqual(e,t){return z()(e,t)}function toKendoExceptionDate(e){return x()(e).utc().format("YYYYMMDDTHHmmss[Z]")}function fromKendoExceptionDate(e){return x.a.utc(e,"YYYYMMDDTHHmmss[Z]").toDate()}function mergeObjects(e,t,r){for(let n in r){var i,a;if(!z()(r[n],t[n]))if(z()(e[n],t[n]))e[n]=r[n];else if(e[n]&&t[n])if(b()(e[n]))e[n]=[...v()(i=e[n]).call(i,(e=>{var i,a;return!S()(i=t[n]).call(i,(t=>z()(t,e)))||!!S()(a=r[n]).call(a,(t=>z()(t,e)))})),...v()(a=r[n]).call(a,(r=>{var i,a;return!S()(i=t[n]).call(i,(e=>z()(e,r)))&&!S()(a=e[n]).call(a,(e=>z()(e,r)))}))];else e[n].constructor===Object&&mergeObjects(e[n],t[n],r[n])}}function capitalizeString(e){if(e)return e.charAt(0).toUpperCase()+e.substr(1)}const pe=new Intl.Collator;function compareStrings(e,t){return pe.compare(e,t)}function compareTrelloMembers(e,t){return compareStrings(e.fullName,t.fullName)}const Ee={green:1,yellow:2,orange:3,red:4,purple:5,blue:6,sky:7,lime:8,pink:9,black:10,null:11};function compareTrelloLabels(e,t){let r=(Ee[e.color]||100)-(Ee[t.color]||100);return 0===r&&(r=compareStrings(e.name,t.name)),r}function compareTrelloLists(e,t){let r=compareStrings(e.boardName,t.boardName);return 0===r&&(r=e.position-t.position),r}const fe={checkbox:1,date:2,list:3,number:4,text:5};function compareTrelloCustomFields(e,t){let r=e.position-t.position;return 0===r&&(r=(fe[e.type]||100)-(fe[t.type]||100),0===r&&(r=compareStrings(e.name,t.name))),r}function compareTrelloReminders(e,t){let r=t.remindBefore-e.remindBefore;return 0===r&&(r=compareStrings(t.id,e.id)),r}function compareTrelloChecklists(e,t){let r=e.position-t.position;return 0===r&&(r=compareStrings(e.name,t.name)),r}function compareTrelloCheckItems(e,t){let r=e.position-t.position;return 0===r&&(r=compareStrings(e.name,t.name)),r}function compareTrelloTimeRecords(e,t){if(e.id===_e.k)return 1;if(t.id===_e.k)return-1;let r=e.from-t.from;return 0===r&&(r=e.to-t.to,0===r&&(r=compareStrings(e.id,t.id))),r}function compareTrelloAttachments(e,t){let r=t.position-e.position;return 0===r&&(r=t.date-e.date,0===r&&(r=compareStrings(t.id,e.id))),r}function compareTrelloComment(e,t){var r,i;if(T()(r=e.id).call(r,_e.k)!==T()(i=t.id).call(i,_e.k)){var a,n;if(T()(a=t.id).call(a,_e.k))return 1;if(T()(n=e.id).call(n,_e.k))return-1}let o=t.creationDate-e.creationDate;return 0===o&&(o=compareStrings(t.id,e.id)),o}function getLabelHash(e){let t=e.color||"null";var r;e.name&&(t=`${t}-${y()(r=e.name).call(r," ","_")}`);return t}function getCustomFieldHash(e){var t;return`${e.type}-${y()(t=e.name).call(t," ","_")}`}function getNewTrelloPosition(e,t){if(0===e)return t.length<=1?_e.U:t[e+1].position/2;if(e<t.length-1){return(t[e-1].position+t[e+1].position)/2}return e>t.length&&(e=t.length),t[e-1].position+_e.U}function isFile(e){return e&&e.constructor===File}const ye=new E.a(["jpg","jpeg","png","bmp","gif"]);function isImage(e){let t;var r,i,a,n;e.type?t=m()(r=e.type).call(r,h()(i=e.type).call(i,"/")+1):t=m()(a=e.name).call(a,h()(n=e.name).call(n,".")+1);return ye.has(t)}function loadFileAsDataUrlAsync(e){return new c.a(((t,r)=>{let i=new FileReader;i.onload=()=>{0===e.size?t(`${i.result}${e.type};base64,`):t(i.result)},i.onerror=e=>r(e),i.readAsDataURL(e)}))}function formatCardTimes(e,t){if(!e||!t)return;if("string"==typeof e&&(e=new Date(e)),"string"==typeof t&&(t=new Date(t)),datesEqual(e,t))return formatCardTimesShort(e);let r=0===e.getMinutes()?"ts3":"ts2",i=0===t.getMinutes()?"ts1":"t";return kendo.format(`{0:${r}} – {1:${i}}`,e,t)}function formatCardTimesShort(e){if(!e)return;"string"==typeof e&&(e=new Date(e));let t=0===e.getMinutes()?"ts1":"t";return kendo.format(`{0:${t}}`,e)}function formatCardDates(e,t,r){if(!e||!t)return;"string"==typeof e&&(e=new Date(e)),"string"==typeof t&&(t=new Date(t));let i=!isSameYear(e,new Date)||!isSameYear(t,new Date)?"{0:D}":"{0:Dm}";r&&(i+=" {0:t}");let a=kendo.format(i,e);if(r){if(datesEqual(e,t))return a;isSameDay(e,t)&&(i="{0:t}")}else if(isSameDay(e,t))return a;return`${a} – ${kendo.format(i,t)}`}function formatCardDatesShort(e,t){if(e&&t)return"string"==typeof e&&(e=new Date(e)),"string"==typeof t&&(t=new Date(t)),isSameDay(e,t)?kendo.toString(e,"Dm"):function isSameMonth(e,t){if(e&&t)return J.a("string"==typeof e?new Date(e):e,"string"==typeof t?new Date(t):t)}(e,t)?kendo.format("{0:Dd} – {1:Dm}",e,t):isSameYear(e,t)?kendo.format("{0:Dm} – {1:Dm}",e,t):kendo.format("{0:D} – {1:D}",e,t)}function formatCardDatesLong(e,t){if(e&&t)return"string"==typeof e&&(e=new Date(e)),"string"==typeof t&&(t=new Date(t)),isSameYear(e,t)?kendo.format("{0:dd MMMM} – {1:dd MMMM yyyy}",e,t):kendo.format("{0:dd MMMM yyyy} – {1:dd MMMM yyyy}",e,t)}function formatRelativeDate(e){if(e)return Math.abs(getIntervalDays(e,new Date))<7?x()(e).fromNow():formatFullDate(e)}function formatFullDate(e){if(e)return x()(e).format("LLL")}function formatDuration(e,t="days"){let r,i,a,n=x.a.duration(e);"minutes"===t?a=Math.floor(n.asMinutes()):(a=n.minutes(),"hours"===t?i=Math.floor(n.asHours()):(i=n.hours(),r="days"===t?Math.floor(n.asDays()):n.days()));let o=[];return r&&o.push(`${r}d`),i&&o.push(`${i}h`),a&&o.push(`${a}m`),o.join(" ")}function getCorrectedLocale(e){if(e)try{if(kendo.cultures.hasOwnProperty(e))return e;let t=e.toLowerCase();if(T()(t).call(t,"en"))t="en-US";else if(T()(t).call(t,"pt"))t="pt-BR";else if("zh-hant"===t)t="zh-Hant";else if(T()(t).call(t,"zh"))t="zh-Hans";else{let e=["cs","de","es","fi","fr","hu","it","ja","nb","nl","pl","ru","sv","th","tr","uk","vi"];for(let r of e)if(T()(t).call(t,r)){t=r;break}}if(kendo.cultures.hasOwnProperty(t))return t}catch(e){}return"en-US"}function delayAsync(e=0){return new c.a((t=>l()(t,e)))}function keepScrollFocus(e){if(e[0]){let t=e.parent(),r=t.scrollTop();e[0].focus({preventScroll:!0}),t.scrollTop(r)}}function migrateLocalStorage(){}function addDaysFast(e,t){return e.setDate(e.getDate()+t)}const Ce={[me.h.TrelloCard]:10,[me.h.TrelloCustomField]:11,[me.h.TrelloCheckItem]:12,[me.h.TrelloTimeRecord]:13,[me.h.GoogleEvent]:20,[me.h.ICalEvent]:30};function getKendoSortOrder(e){let t=[{field:"realStart",dir:"asc"},{field:"realEnd",dir:"desc"},{field:"priority",dir:"desc"},{field:"cardType",dir:"asc",compare:(e,t)=>Ce[e.cardType]-Ce[t.cardType]},{field:"title",dir:"asc"},{field:"id",dir:"asc"},{field:"recurrenceId",dir:"asc"}];if(e)for(let r of t)r.field=`${e}.${r.field}`;return t}function getSearchParam(e,t){return new o.a(e.location.search).get(t)}function deleteSearchParams(e,t=[],r={}){const{saveInHistory:i=!0}=r;let n=function getSearchParams(e){return a()(new o.a(e.location.search))}(e);for(let e of t)delete n[e];!function setSearchParams(e,t={},r={}){const{saveInHistory:i=!0,isInsideTeams:a=!1}=r;let n=new o.a;for(let e in t)n.set(e,t[e]);a&&n.set([_e.O],!0);let s=getUrlWithQuery(e,n.toString());i?e.history.pushState(t,"",s):e.history.replaceState(t,"",s)}(e,n,{saveInHistory:r.saveInHistory})}function getUrlWithQuery(e,t=""){let{origin:r,pathname:i}=e.location;return t&&(t=`?${t}`),`${r}${i}${t}`}function getExtension(e){var t;return null===(t=/\.([a-z0-9]{1,6})$/i.exec(e))||void 0===t?void 0:t[1].toLowerCase()}function copyToClipboardAsync(e){const t=W()("<input />").css({position:"fixed",opacity:0}).val(e).appendTo("body");return t[0].select(),new c.a((e=>{l()((()=>{window.document.execCommand("copy"),t.remove(),e()}),0)}))}},112:function(e,t,r){"use strict";r.d(t,"a",(function(){return lt}));var i=r(5),a=r.n(i),n=r(9),o=r.n(n),s=r(11),l=r.n(s),d=r(8),c=r.n(d),u=r(4),h=r.n(u),_=r(2),m=r.n(_),p=r(14),E=r.n(p),f=r(261),y=r.n(f),C=r(262),T=r.n(C),g=r(39),S=r.n(g),D=(r(38),r(3)),v=r.n(D),A=r(30),b=r.n(A),I=r(78),R=r.n(I),k=r(27),O=r.n(k),w=r(113),L=r.n(w),N=r(45),P=r.n(N),M=r(17),B=r.n(M),F=r(20),G=r.n(F),U=r(12),H=r.n(U),Y=r(99),W=r.n(Y),$=r(6),z=r.n($),V=r(19),x=r.n(V),j=r(21),K=r.n(j),X=r(15),q=r.n(X),J=r(125),Z=r.n(J),Q=r(55),ee=r.n(Q),te=r(189),re=r(26),ie=r.n(re),ae=(r(583),r(89)),ne=r.n(ae),oe=r(124),se=r.n(oe),le=r(107),de=r.n(le),ce=r(10),ue=r(82),he=r.n(ue),_e=r(7),me=r(0),pe=r(1);function _getDecoratorsApi(){_getDecoratorsApi=function(){return e};var e={elementsDefinitionOrder:[["method"],["field"]],initializeInstanceElements:function(e,t){var r;m()(r=["method","field"]).call(r,(function(r){m()(t).call(t,(function(t){t.kind===r&&"own"===t.placement&&this.defineClassElement(e,t)}),this)}),this)},initializeClassElements:function(e,t){var r,i=e.prototype;m()(r=["method","field"]).call(r,(function(r){m()(t).call(t,(function(t){var a=t.placement;if(t.kind===r&&("static"===a||"prototype"===a)){var n="static"===a?e:i;this.defineClassElement(n,t)}}),this)}),this)},defineClassElement:function(e,t){var r=t.descriptor;if("field"===t.kind){var i=t.initializer;r={enumerable:r.enumerable,writable:r.writable,configurable:r.configurable,value:void 0===i?void 0:i.call(e)}}h()(e,t.key,r)},decorateClass:function(e,t){var r=[],i=[],a={static:[],prototype:[],own:[]};if(m()(e).call(e,(function(e){this.addElementPlacement(e,a)}),this),m()(e).call(e,(function(e){if(!_hasDecorators(e))return r.push(e);var t=this.decorateElement(e,a);r.push(t.element),r.push.apply(r,t.extras),i.push.apply(i,t.finishers)}),this),!t)return{elements:r,finishers:i};var n=this.decorateConstructor(r,t);return i.push.apply(i,n.finishers),n.finishers=i,n},addElementPlacement:function(e,t,r){var i=t[e.placement];if(!r&&-1!==c()(i).call(i,e.key))throw new TypeError("Duplicated element ("+e.key+")");i.push(e.key)},decorateElement:function(e,t){for(var r=[],i=[],a=e.decorators,n=a.length-1;n>=0;n--){var o=t[e.placement];l()(o).call(o,c()(o).call(o,e.key),1);var s=this.fromElementDescriptor(e),d=this.toElementFinisherExtras((0,a[n])(s)||s);e=d.element,this.addElementPlacement(e,t),d.finisher&&i.push(d.finisher);var u=d.extras;if(u){for(var h=0;h<u.length;h++)this.addElementPlacement(u[h],t);r.push.apply(r,u)}}return{element:e,finishers:i,extras:r}},decorateConstructor:function(e,t){for(var r=[],i=t.length-1;i>=0;i--){var a=this.fromClassDescriptor(e),n=this.toClassDescriptor((0,t[i])(a)||a);if(void 0!==n.finisher&&r.push(n.finisher),void 0!==n.elements){e=n.elements;for(var o=0;o<e.length-1;o++)for(var s=o+1;s<e.length;s++)if(e[o].key===e[s].key&&e[o].placement===e[s].placement)throw new TypeError("Duplicated element ("+e[o].key+")")}}return{elements:e,finishers:r}},fromElementDescriptor:function(e){var t={kind:e.kind,key:e.key,placement:e.placement,descriptor:e.descriptor};return h()(t,o.a,{value:"Descriptor",configurable:!0}),"field"===e.kind&&(t.initializer=e.initializer),t},toElementDescriptors:function(e){var t;if(void 0!==e)return v()(t=q()(e)).call(t,(function(e){var t=this.toElementDescriptor(e);return this.disallowProperty(e,"finisher","An element descriptor"),this.disallowProperty(e,"extras","An element descriptor"),t}),this)},toElementDescriptor:function(e){var t=String(e.kind);if("method"!==t&&"field"!==t)throw new TypeError('An element descriptor\'s .kind property must be either "method" or "field", but a decorator created an element descriptor with .kind "'+t+'"');var r=_toPropertyKey(e.key),i=String(e.placement);if("static"!==i&&"prototype"!==i&&"own"!==i)throw new TypeError('An element descriptor\'s .placement property must be one of "static", "prototype" or "own", but a decorator created an element descriptor with .placement "'+i+'"');var a=e.descriptor;this.disallowProperty(e,"elements","An element descriptor");var n={kind:t,key:r,placement:i,descriptor:z()({},a)};return"field"!==t?this.disallowProperty(e,"initializer","A method descriptor"):(this.disallowProperty(a,"get","The property descriptor of a field descriptor"),this.disallowProperty(a,"set","The property descriptor of a field descriptor"),this.disallowProperty(a,"value","The property descriptor of a field descriptor"),n.initializer=e.initializer),n},toElementFinisherExtras:function(e){return{element:this.toElementDescriptor(e),finisher:_optionalCallableProperty(e,"finisher"),extras:this.toElementDescriptors(e.extras)}},fromClassDescriptor:function(e){var t={kind:"class",elements:v()(e).call(e,this.fromElementDescriptor,this)};return h()(t,o.a,{value:"Descriptor",configurable:!0}),t},toClassDescriptor:function(e){var t=String(e.kind);if("class"!==t)throw new TypeError('A class descriptor\'s .kind property must be "class", but a decorator created a class descriptor with .kind "'+t+'"');this.disallowProperty(e,"key","A class descriptor"),this.disallowProperty(e,"placement","A class descriptor"),this.disallowProperty(e,"descriptor","A class descriptor"),this.disallowProperty(e,"initializer","A class descriptor"),this.disallowProperty(e,"extras","A class descriptor");var r=_optionalCallableProperty(e,"finisher");return{elements:this.toElementDescriptors(e.elements),finisher:r}},runClassFinishers:function(e,t){for(var r=0;r<t.length;r++){var i=(0,t[r])(e);if(void 0!==i){if("function"!=typeof i)throw new TypeError("Finishers must return a constructor.");e=i}}return e},disallowProperty:function(e,t,r){if(void 0!==e[t])throw new TypeError(r+" can't have a ."+t+" property.")}};return e}function _createElementDescriptor(e){var t,r=_toPropertyKey(e.key);"method"===e.kind?t={value:e.value,writable:!0,configurable:!0,enumerable:!1}:"get"===e.kind?t={get:e.value,configurable:!0,enumerable:!1}:"set"===e.kind?t={set:e.value,configurable:!0,enumerable:!1}:"field"===e.kind&&(t={configurable:!0,writable:!0,enumerable:!0});var i={kind:"field"===e.kind?"field":"method",key:r,placement:e.static?"static":"field"===e.kind?"own":"prototype",descriptor:t};return e.decorators&&(i.decorators=e.decorators),"field"===e.kind&&(i.initializer=e.value),i}function _coalesceGetterSetter(e,t){void 0!==e.descriptor.get?t.descriptor.get=e.descriptor.get:t.descriptor.set=e.descriptor.set}function _hasDecorators(e){return e.decorators&&e.decorators.length}function _isDataDescriptor(e){return void 0!==e&&!(void 0===e.value&&void 0===e.writable)}function _optionalCallableProperty(e,t){var r=e[t];if(void 0!==r&&"function"!=typeof r)throw new TypeError("Expected '"+t+"' to be a function");return r}function _toPropertyKey(e){var t=function _toPrimitive(e,t){if("object"!=typeof e||null===e)return e;var r=e[E.a];if(void 0!==r){var i=r.call(e,t||"default");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}const Ee=he.a.RRule,fe="https://dc.services.visualstudio.com/v2/track",ye=`Microsoft.ApplicationInsights.${Z()(_e.b).call(_e.b,"-","")}`,Ce=1799995,Te="planywaySession",ge=(_e.w,{}),Se={[me.G.Fullscreen]:"Fullscreen",[me.G.ShareBoard]:"Share Board",[me.G.ShareCard]:"Share Card",[me.G.PushNotificationRemindStart]:"Start Date Reminder"},De={[me.B.MultiBoard]:"MultiBoard",[me.B.RecurringCards]:"Recurring Cards",[me.B.Filters]:"Filters",[me.B.GoogleSync]:"Google Sync",[me.B.GoogleConnect]:"Google Connect",[me.B.Milestones]:"Milestones",[me.B.PushNotifications]:"Notifications",[me.B.Dependencies]:"Dependencies",[me.B.Timeline]:"Timeline",[me.B.TimelineBoard]:"Board Timeline",[me.B.TimelineLabel]:"Label Timeline",[me.B.TimelineList]:"List Timeline",[me.B.TimelineMember]:"Member Timeline",[me.B.TimelineScales]:"Timeline Scales",[me.B.TimeRecords]:"Time Entries",[me.B.CustomFields]:"Custom Fields",[me.B.CsvReport]:"Csv Report"},ve={google:"Google Play",apple:"App Store",chrome:"Chrome Store"},Ae={trello:"Trello Button",browser:"Browser Button",close:"Close Button",powerup:"PowerUp Button",setDates:"Set Dates",onboarding:"Onboarding"},be={[me.sb.Skipped]:"Skipped",[me.sb.MonthlySchedule]:"Monthly Schedule",[me.sb.TeamManagement]:"Team Management",[me.sb.TimeTracking]:"Time Tracking",[me.sb.NoLanes]:"No Lanes"},Ie={[me.N.Top]:"Top",[me.N.Left]:"Left",[me.N.Right]:"Right",[me.N.Bottom]:"Bottom"},Re={[me.M.Calendar]:"Calendar",[me.M.Timeline]:"Timeline",[me.M.TimeTracking]:"Time Tracking"},ke={[me.O.OneDay]:"Day",[me.O.ThreeDay]:"3-day",[me.O.Week]:"Week",[me.O.Month]:"Month"},Oe={[me.ib.None]:"No Lanes",[me.ib.Member]:"Member Lanes",[me.ib.Board]:"Board Lanes",[me.ib.List]:"List Lanes",[me.ib.Label]:"Label Lanes"},we={[me.x.Today]:"Today",[me.x.DateSelect]:"Select Date",[me.x.PreviousDay]:"Previous Day",[me.x.NextDay]:"Next Day",[me.x.PreviousWeek]:"Previous Week",[me.x.NextWeek]:"Next Week",[me.x.PreviousMonth]:"Previous Month",[me.x.NextMonth]:"Next Month",[me.x.PreviousQuarter]:"Previous Quarter",[me.x.NextQuarter]:"Next Quarter",[me.x.PreviousYear]:"Previous Year",[me.x.NextYear]:"Next Year",scrollByDrag:"Dragging",scrollByWheel:"Mouse Wheel"},Le={[me.hb.Day]:"Day",[me.hb.Week]:"Week",[me.hb.Month]:"Month",[me.hb.Quarter]:"Quarter",[me.hb.Year]:"Year"},Ne={selectPredefined:"Scale Menu",zoomByButtons:"Scale Button",zoomByWheel:"Mouse Wheel"},Pe=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],Me={[me.g.Light]:"Light",[me.g.Colorful]:"Colorful"},Be={[me.R.List]:"List",[me.R.Kanban]:"Kanban"},Fe={[me.mb.Private]:"Private",[me.mb.Organization]:"Team",[me.mb.Public]:"Public"},Ge={[me.m.CustomField]:"Custom Field"},Ue={[me.pb.Checkbox]:"Checkbox",[me.pb.Date]:"Date",[me.pb.List]:"Dropdown",[me.pb.Number]:"Number",[me.pb.Text]:"Text"},He={[me.s.Google]:"Google",[me.s.Outlook]:"Outlook",[me.s.Apple]:"iCloud",[me.s.Other]:"Other"},Ye={[ce.c.Card]:"Card",[ce.c.Milestone]:"Milestone"},We={[me.h.TrelloCard]:"Card",[me.h.TrelloCustomField]:"Custom Field",[me.h.TrelloCheckItem]:"Check Item",[me.h.TrelloTimeRecord]:"Time Entry",[me.h.GoogleEvent]:"Google Event",[me.h.ICalEvent]:"ICal Event"},$e={[me.h.TrelloCard]:"Connected Board",[me.h.TrelloCustomField]:"Connected Board",[me.h.TrelloCheckItem]:"Connected Board",[me.h.TrelloTimeRecord]:"Connected Board",[me.h.GoogleEvent]:"Google Calendar",[me.h.ICalEvent]:"ICal Calendar"},ze={[ce.e.DueStart]:"Start",[ce.e.DueEnd]:"End",[ce.e.NotLinked]:"Not Linked"},Ve={[me.w.AllSeries]:"All Series",[me.w.ThisAndFollowing]:"This And Following",[me.w.OnlyOccurrence]:"Only Occurrence"},xe={[ce.h.RemindStart]:"Start Date"},je={[me.b.File]:"File",[me.b.Link]:"Link"},Ke=["No priority","Low","Medium","High"],Xe={[ce.b.Top]:"Top",[ce.b.Bottom]:"Bottom"},qe={[me.f.Blocks]:"Blocking",[me.f.IsBlockedBy]:"Waiting On"},Je={[me.j.All]:"All Cards",[me.j.Completed]:"Completed Cards",[me.j.Incompleted]:"Incompleted Cards"},Ze={[me.K.TimeRecords]:"Time Entries",[me.K.AllCards]:"All Cards"},Qe="Chrome.google.com",et="Trello.com",tt="Teams.microsoft.com",rt="Invite To Board Email",it="Invite To Board Link",at="Direct",nt="Referral",ot="Invite",st="Direct";let lt=function _decorate(e,t,r,i){var n,o=_getDecoratorsApi();if(i)for(var s=0;s<i.length;s++)o=i[s](o);var l=t((function initialize(e){o.initializeInstanceElements(e,d.elements)}),r),d=o.decorateClass(function _coalesceClassElements(e){for(var t=[],isSameElement=function(e){return"method"===e.kind&&e.key===n.key&&e.placement===n.placement},r=0;r<e.length;r++){var i,n=e[r];if("method"===n.kind&&(i=a()(t).call(t,isSameElement)))if(_isDataDescriptor(n.descriptor)||_isDataDescriptor(i.descriptor)){if(_hasDecorators(n)||_hasDecorators(i))throw new ReferenceError("Duplicated methods ("+n.key+") can't be decorated.");i.descriptor=n.descriptor}else{if(_hasDecorators(n)){if(_hasDecorators(i))throw new ReferenceError("Decorators can't be placed on different accessors with for the same property ("+n.key+").");i.decorators=n.decorators}_coalesceGetterSetter(n,i)}else t.push(n)}return t}(v()(n=l.d).call(n,_createElementDescriptor)),e);return o.initializeClassElements(l.F,d.elements),o.runClassFinishers(l.F,d.finishers)}([Object(pe.Bb)(["$injector","$log","$interval","$timeout","$window","htmlHelperSrv","platformSrv"])],(function(e){return{F:class TelemetryService{constructor(t,r,i,a,n,o,s){e(this),this._$injector=t,this._$log=r,this._$interval=i,this._$timeout=a,this._$window=n,this._htmlHelperSrv=o,this._platformSrv=s;try{this._browser=se.a.getParser(this._$window.navigator.userAgent)}catch(e){}this._initTelemetryPromise=this._$timeout((()=>this._initTelemetryAsync()),0,!1),this._initMemberPromise=new K.a((e=>this._onMemberInitialized=e))}},d:[{kind:"get",static:!0,key:"serviceName",value:function serviceName(){return"telemetrySrv"}},{kind:"field",key:"_acquisitionDate",value:void 0},{kind:"field",key:"_baseUserProperties",value:void 0},{kind:"field",key:"_baseEventProperties",value:void 0},{kind:"field",key:"_debouncingEvents",value:()=>new x.a},{kind:"field",key:"_appInsightsOperationId",value:()=>Object(te.a)()},{kind:"field",key:"_amplitudeSequenceNumber",value:()=>0},{kind:"field",key:"_session",value:void 0},{kind:"field",key:"_userActivityDays",value:()=>[]},{kind:"field",key:"_requests",value:()=>new x.a},{kind:"get",key:"_appCommonSrv",value:function _appCommonSrv(){return this._appCommonSrvLazy||(this._appCommonSrvLazy=this._$injector.get("appCommonSrv")),this._appCommonSrvLazy}},{kind:"get",key:"_iCalIntegrationSrv",value:function _iCalIntegrationSrv(){return this._iCalIntegrationSrvLazy||(this._iCalIntegrationSrvLazy=this._$injector.get("iCalIntegrationSrv")),this._iCalIntegrationSrvLazy}},{kind:"get",key:"_googleIntegrationSrv",value:function _googleIntegrationSrv(){return this._googleIntegrationSrvLazy||(this._googleIntegrationSrvLazy=this._$injector.get("googleIntegrationSrv")),this._googleIntegrationSrvLazy}},{kind:"get",key:"_licenseSrv",value:function _licenseSrv(){return this._licenseSrvLazy||(this._licenseSrvLazy=this._$injector.get("licenseSrv")),this._licenseSrvLazy}},{kind:"get",key:"_settingsSrv",value:function _settingsSrv(){return this._settingsSrvLazy||(this._settingsSrvLazy=this._$injector.get("settingsSrv")),this._settingsSrvLazy}},{kind:"get",key:"_trelloIntegrationSrv",value:function _trelloIntegrationSrv(){return this._trelloIntegrationSrvLazy||(this._trelloIntegrationSrvLazy=this._$injector.get("trelloIntegrationSrv")),this._trelloIntegrationSrvLazy}},{kind:"get",key:"unauthorizedId",value:function unauthorizedId(){return this._unauthorizedId}},{kind:"method",key:"getAcquisitionDate",value:function getAcquisitionDate(){return this._acquisitionDate}},{kind:"method",key:"initMemberAsync",value:async function initMemberAsync(){try{if(this._initTelemetryPromise&&await this._initTelemetryPromise,this._isMemberIninitialized)return;this._isMemberIninitialized=!0,this._baseUserProperties={...this._baseUserProperties,"License Type":this._licenseSrv.isLicenseActive()?this._licenseSrv.getLicenseType():"FREE"},this._baseEventProperties={...this._baseEventProperties,"License Type":this._licenseSrv.isLicenseActive()?this._licenseSrv.getLicenseType():"FREE"},this._initSessionTelemetry(),this._updateUserActivity(),this._initMemberPromise=null,this._onMemberInitialized()}catch(e){this._$log.error("Planyway telemetry member initialization error:"),this._$log.error(e)}}},{kind:"method",key:"setABTestTests",value:function setABTestTests(e){(async()=>{try{this._initTelemetryPromise&&await this._initTelemetryPromise;let t=[];for(let r in e)e[r]&&t.push(ge[r]);this._baseUserProperties={...this._baseUserProperties,"AB Test":t},this._baseEventProperties={...this._baseEventProperties,"AB Test":t}}catch(e){this._$log.error("Planyway telemetry A/B tests initialization error:"),this._$log.error(e)}})()}},{kind:"method",key:"logSingleEvent",value:function logSingleEvent(e,t={}){(async()=>{try{switch(this._initTelemetryPromise&&await this._initTelemetryPromise,e){case me.X.CalendarEvents.Shown:case me.X.GeneralEvents.HomeScreenShown:case me.X.GeneralEvents.NoBoardsScreenShown:this._sessionAllowed=!0;break;case me.X.CalendarEvents.Hidden:this._sessionAllowed=!1}let r={},i={};switch(e){case me.X.GeneralEvents.FeedbackOpened:z()(i,{Where:t.where});break;case me.X.GeneralEvents.LogInClicked:z()(i,{By:t.by});break;case me.X.GeneralEvents.LogOutClicked:z()(i,{Where:t.where});break;case me.X.GeneralEvents.UpgradeOffered:case me.X.GeneralEvents.UpgradeOfferLearnClicked:case me.X.GeneralEvents.UpgradeOfferUpgradeClicked:z()(i,{Source:t.upgradeSource,Feature:De[t.featureName]});break;case me.X.GeneralEvents.TrialStarted:z()(r,{"Trial Source":t.trialSource,"Trial Feature":De[t.featureName]}),z()(i,{"Trial Source":t.trialSource,"Trial Feature":De[t.featureName]});break;case me.X.GeneralEvents.NewsClicked:case me.X.GeneralEvents.NewsShown:case me.X.GeneralEvents.NewsHidden:case me.X.GeneralEvents.NewsBlogClicked:case me.X.GeneralEvents.NewsHelpClicked:z()(i,{"News Release Date":t.newsDate});break;case me.X.GeneralEvents.NewsLearnMoreClicked:z()(i,{"News Release Date":t.newsDate,"News Link":t.newsLink});break;case me.X.GeneralEvents.TimeZoneChanged:z()(i,{"Time Zone":ie.a.tz.guess(),"Previous Time Zone":t.previousTimeZone});break;case me.X.GeneralEvents.AppsStoreIconClicked:z()(i,{Store:ve[t.store]});break;case me.X.CalendarEvents.Shown:case me.X.CalendarEvents.Hidden:z()(i,{"Is By":Ae[t.isBy]});break;case me.X.CalendarEvents.CurrentBoardChanged:case me.X.CalendarEvents.BoardCreated:z()(i,{Where:t.where});break;case me.X.OnboardingEvents.LoginDialogOpened:this._initMouseflow(!0);break;case me.X.OnboardingEvents.SurveyPassed:z()(i,{"Team Size":t.teamSize,"Used For":t.usedFor,Role:t.role}),z()(r,{"Team Size":t.teamSize,"Used For":t.usedFor,Role:t.role})}this._$log.debug("SINGLE EVENT:",e,r,i),this._sendAmplitudeEvent(e,r,i),this._sendAppInsightsEvent(e,i),this._totalEventsCount++}catch(e){this._$log.error("Planyway log single event error:"),this._$log.error(e)}})()}},{kind:"method",key:"logSessionEvent",value:function logSessionEvent(e,t={}){(async()=>{try{this._initTelemetryPromise&&await this._initTelemetryPromise,this._initMemberPromise&&await this._initMemberPromise,this._initMouseflow();for(let[t,i]of W()(r=this._debouncingEvents).call(r)){var r;t!==e&&(i.resolve(),await Object(pe.x)())}switch(e){case me.X.CalendarEvents.Multiselected:if(this._debouncingEvents.has(e)){let r=this._debouncingEvents.get(e);return this._$timeout.cancel(r.timeout),r.timeout=this._$timeout((()=>r.resolve()),3e3,!1),void(r.eventData=t)}let r={timeout:this._$timeout((()=>r.resolve()),3e3,!1),eventData:t};this._debouncingEvents.set(e,r),await new K.a((e=>r.resolve=e)),t=this._debouncingEvents.get(e).eventData,this._debouncingEvents.delete(e)}switch(e){case me.X.CalendarEvents.Opened:switch(this._sessionAllowed=!0,this._globalBoardSettings.schedulerMode){case me.M.Calendar:e=me.X.CalendarEvents.CalendarOpened;break;case me.M.Timeline:e=me.X.CalendarEvents.TimelineOpened;break;case me.M.TimeTracking:e=me.X.CalendarEvents.TimeTrackingOpened}}switch(this._sessionAllowed&&this._globalBoardSettings.isViewTemplateSelected&&(this._session?this._session.lastActivityDate=new Date:(this._session={memberId:this._memberId,sessionId:ee()(),sessionStartDate:new Date,lastActivityDate:new Date},this._sendSessionStartedEvent(this._session)),this._renewSession()),e){case me.X.CardEvents.Scheduled:this._sendAmplitudeIdentity({add:{"Scheduled Card Count":1}})}let h={},_={};switch(z()(_,{Workspace:"Board"}),e){case me.X.GeneralEvents.FeedbackOpened:case me.X.GeneralEvents.LiveChatOpened:case me.X.GeneralEvents.UpgradeClicked:z()(_,{Where:t.where});break;case me.X.GeneralEvents.TrialExpiredStayFreeClicked:case me.X.GeneralEvents.TrialExpiredContactUsClicked:z()(_,{Where:"Trial Ended Dialog"});break;case me.X.GeneralEvents.TrialExpiredPaymentPeriodChanged:z()(_,{"Payment Period":t.paymentPeriod,Where:"Trial Ended Dialog"});break;case me.X.GeneralEvents.TrialExpiredQuantityChanged:z()(_,{Quantity:t.quantity,Where:"Trial Ended Dialog"});break;case me.X.GeneralEvents.TrialExpiredPurchaseNowClicked:z()(_,{"Payment Period":t.paymentPeriod,Plan:t.licenseType,Quantity:t.quantity,Where:"Trial Ended Dialog"});break;case me.X.GeneralEvents.ImportICalHowToLinkClicked:case me.X.GeneralEvents.ExportICalHowToLinkClicked:z()(_,{Calendar:t.calendarName});break;case me.X.GeneralEvents.OpenedByLink:z()(_,{"Link Type":Se[t.linkType]});break;case me.X.GeneralEvents.StandaloneOpenedByLink:z()(_,{Where:me.S[t.where]});break;case me.X.GeneralEvents.PushNotificationsEnabled:case me.X.GeneralEvents.PushNotificationsDisabled:z()(_,{Where:t.where});break;case me.X.GeneralEvents.ReportDialogOpened:case me.X.GeneralEvents.ReportParametersChanged:case me.X.GeneralEvents.ReportBuilt:z()(_,{Report:Ze[t.type]});break;case me.X.GeneralEvents.LogOutClicked:z()(_,{Where:t.where});break;case me.X.CalendarEvents.CalendarOpened:{var i,a,n;let e=this._trelloIntegrationSrv.getTrelloBoardById(this._trelloIntegrationSrv.getCurrentBoardId());z()(_,{"Board Member Count":e.members.length,"Board List Count":e.lists.length,"Board Label Count":e.labels.length,"Board Custom Field Count":e.customFields.length,"Cards Visibility":Je[this._globalBoardSettings.filters.cardsVisibility],"Due Date Linked To":ze[e.dueLinkTypeAllDay],"Due Time Linked To":ze[e.dueLinkType],"Default Card Duration":Object(pe.E)(e.defaultCardDuration*(e.defaultCardIsAllDay?1440:1)*60*1e3),"Default Card Position":Xe[e.defaultCardPosition],Orientation:Ie[this._appCommonSrv.getSchedulerOrientation()],"View Mode":getSchedulerViewMode(this._globalBoardSettings),Template:be[this._globalBoardSettings.viewTemplate||me.sb.Skipped],"Card Theme":Me[this._globalBoardSettings.cardTheme],"Trello Card Number":this._globalBoardSettings.showTrelloCardNumber?"Enabled":"Disabled","Show Custom Fields":this._globalBoardSettings.customFieldsAsCards.length>0?"Enabled":"Disabled","Highlight Today":this._globalBoardSettings.highlightToday?"Enabled":"Disabled","Show Week Numbers":this._globalBoardSettings.showWeekNumbers?"Enabled":"Disabled","Show Weekends":this._globalBoardSettings.showWorkDays?"Disabled":"Enabled","Show Non-working Hours":this._globalBoardSettings.showWorkHours?"Disabled":"Enabled","Show Archived":this._globalBoardSettings.isArchivedCardsShown?"Enabled":"Disabled","Show Check Items":this._globalBoardSettings.isCheckItemCardsShown?"Enabled":"Disabled","Show Date Time":this._globalBoardSettings.showDateTime?"Enabled":"Disabled","Show Milestones":this._globalBoardSettings.isMilestonesShown?"Enabled":"Disabled","Show Trello Board":this._globalBoardSettings.showTrelloBoard?"Enabled":"Disabled","Connected Board Count":H()(i=this._trelloIntegrationSrv.getCurrentBoardConnectedBoards()).call(i,(e=>e.isSelected)).length,"Connected Google Calendar Count":H()(a=this._googleIntegrationSrv.getCurrentBoardConnectedGoogleCalendars()).call(a,(e=>e.isSelected)).length,"Connected iCal Calendar Count":H()(n=this._iCalIntegrationSrv.getCurrentBoardConnectedICalCalendars()).call(n,(e=>e.isSelected)).length});break}case me.X.CalendarEvents.TimelineOpened:{var o,s,l;let e=this._trelloIntegrationSrv.getTrelloBoardById(this._trelloIntegrationSrv.getCurrentBoardId()),t=this._appCommonSrv.getTimelineResources();switch(z()(_,{"Board Member Count":e.members.length,"Board List Count":e.lists.length,"Board Label Count":e.labels.length,"Board Custom Field Count":e.customFields.length,"Cards Visibility":Je[this._globalBoardSettings.filters.cardsVisibility],"Due Date Linked To":ze[e.dueLinkTypeAllDay],"Due Time Linked To":ze[e.dueLinkType],"Default Card Duration":Object(pe.E)(e.defaultCardDuration*(e.defaultCardIsAllDay?1440:1)*60*1e3),"Default Card Position":Xe[e.defaultCardPosition],Orientation:Ie[this._appCommonSrv.getSchedulerOrientation()],"View Mode":getSchedulerViewMode(this._globalBoardSettings),Template:be[this._globalBoardSettings.viewTemplate||me.sb.Skipped],"Card Theme":Me[this._globalBoardSettings.cardTheme],"Trello Card Number":this._globalBoardSettings.showTrelloCardNumber?"Enabled":"Disabled","Show Custom Fields":this._globalBoardSettings.customFieldsAsCards.length>0?"Enabled":"Disabled","Highlight Today":this._globalBoardSettings.highlightToday?"Enabled":"Disabled","Show Week Numbers":this._globalBoardSettings.showWeekNumbers?"Enabled":"Disabled","Show Weekends":this._globalBoardSettings.showWorkDays?"Disabled":"Enabled","Show Non-working Hours":this._globalBoardSettings.showWorkHours?"Disabled":"Enabled","Show Archived":this._globalBoardSettings.isArchivedCardsShown?"Enabled":"Disabled","Show Check Items":this._globalBoardSettings.isCheckItemCardsShown?"Enabled":"Disabled","Show Date Time":this._globalBoardSettings.showDateTime?"Enabled":"Disabled","Show Milestones":this._globalBoardSettings.isMilestonesShown?"Enabled":"Disabled","Show Trello Board":this._globalBoardSettings.showTrelloBoard?"Enabled":"Disabled",Scale:Le[toTimelineScaleUnit(this._globalBoardSettings.timelineScale)],"Milestone Lane":this._globalBoardSettings.isMilestonesShown?"Enabled":"Disabled","Lane Count":H()(t).call(t,(e=>e.id!==_e.k&&e.isSelected)).length,"Connected Board Count":H()(o=this._trelloIntegrationSrv.getCurrentBoardConnectedBoards()).call(o,(e=>e.isSelected)).length,"Connected Google Calendar Count":H()(s=this._googleIntegrationSrv.getCurrentBoardConnectedGoogleCalendars()).call(s,(e=>e.isSelected)).length,"Connected iCal Calendar Count":H()(l=this._iCalIntegrationSrv.getCurrentBoardConnectedICalCalendars()).call(l,(e=>e.isSelected)).length}),this._globalBoardSettings.timelineView){case me.ib.Member:z()(_,{"Unassigned Lane":G()(t).call(t,(e=>e.id===_e.k&&e.isSelected))?"Enabled":"Disabled"})}0;break}case me.X.CalendarEvents.TimeTrackingOpened:{var d,c,u;let e=this._trelloIntegrationSrv.getTrelloBoardById(this._trelloIntegrationSrv.getCurrentBoardId());z()(_,{"Board Member Count":e.members.length,"Board List Count":e.lists.length,"Board Label Count":e.labels.length,"Board Custom Field Count":e.customFields.length,"Cards Visibility":Je[this._globalBoardSettings.filters.cardsVisibility],"Due Date Linked To":ze[e.dueLinkTypeAllDay],"Due Time Linked To":ze[e.dueLinkType],"Default Card Duration":Object(pe.E)(e.defaultCardDuration*(e.defaultCardIsAllDay?1440:1)*60*1e3),"Default Card Position":Xe[e.defaultCardPosition],Orientation:Ie[this._appCommonSrv.getSchedulerOrientation()],"View Mode":getSchedulerViewMode(this._globalBoardSettings),Template:be[this._globalBoardSettings.viewTemplate||me.sb.Skipped],"Card Theme":Me[this._globalBoardSettings.cardTheme],"Trello Card Number":this._globalBoardSettings.showTrelloCardNumber?"Enabled":"Disabled","Show Custom Fields":this._globalBoardSettings.customFieldsAsCards.length>0?"Enabled":"Disabled","Highlight Today":this._globalBoardSettings.highlightToday?"Enabled":"Disabled","Show Week Numbers":this._globalBoardSettings.showWeekNumbers?"Enabled":"Disabled","Show Weekends":this._globalBoardSettings.showWorkDays?"Disabled":"Enabled","Show Non-working Hours":this._globalBoardSettings.showWorkHours?"Disabled":"Enabled","Show Archived":this._globalBoardSettings.isArchivedCardsShown?"Enabled":"Disabled","Show Check Items":this._globalBoardSettings.isCheckItemCardsShown?"Enabled":"Disabled","Show Date Time":this._globalBoardSettings.showDateTime?"Enabled":"Disabled","Show Milestones":this._globalBoardSettings.isMilestonesShown?"Enabled":"Disabled","Show Trello Board":this._globalBoardSettings.showTrelloBoard?"Enabled":"Disabled","Connected Board Count":H()(d=this._trelloIntegrationSrv.getCurrentBoardConnectedBoards()).call(d,(e=>e.isSelected)).length,"Connected Google Calendar Count":H()(c=this._googleIntegrationSrv.getCurrentBoardConnectedGoogleCalendars()).call(c,(e=>e.isSelected)).length,"Connected iCal Calendar Count":H()(u=this._iCalIntegrationSrv.getCurrentBoardConnectedICalCalendars()).call(u,(e=>e.isSelected)).length});break}case me.X.CalendarEvents.OrientationChanged:z()(_,{Orientation:Ie[this._appCommonSrv.getSchedulerOrientation()]});break;case me.X.CalendarEvents.ViewModeChanged:switch(z()(_,{"View Mode":getSchedulerViewMode(this._globalBoardSettings)}),this._globalBoardSettings.schedulerMode){case me.M.Timeline:let e=this._appCommonSrv.getTimelineResources();switch(z()(_,{"Lane Count":H()(e).call(e,(e=>e.id!==_e.k&&e.isSelected)).length}),this._globalBoardSettings.timelineView){case me.ib.Member:z()(_,{"Unassigned Lane":G()(e).call(e,(e=>e.id===_e.k&&e.isSelected))?"Enabled":"Disabled"})}}break;case me.X.CalendarEvents.CalendarNavigated:case me.X.CalendarEvents.TimelineNavigated:z()(_,{"Navigate Action":we[t.navigateAction],"View Mode":getSchedulerViewMode(this._globalBoardSettings)});break;case me.X.CalendarEvents.TimelineScaleChanged:z()(_,{Scale:Le[toTimelineScaleUnit(t.timelineScale)],"Scale Method":Ne[t.scaleMethod]});break;case me.X.CalendarEvents.Multiselected:z()(_,{View:Re[this._globalBoardSettings.schedulerMode],"View Mode":getSchedulerViewMode(this._globalBoardSettings),"Card Count":t.cardCount});break;case me.X.CalendarEvents.PublicBoardAdded:z()(_,{Source:t.source});break;case me.X.CalendarEvents.MultiBoardChanged:case me.X.CalendarEvents.MultiBoardSelectedAll:z()(_,{"MultiBoard Count":t.selectedMultiBoardCount});break;case me.X.CalendarEvents.GoogleCalendarsSelectionChanged:case me.X.CalendarEvents.GoogleCalendarsSelectedAll:z()(_,{"Google Calendars Count":t.selectedGoogleCalendarsCount});break;case me.X.CalendarEvents.ICalChanged:case me.X.CalendarEvents.ICalsSelectedAll:z()(_,{"iCal Count":t.selectedICalCount});break;case me.X.CalendarEvents.ICalAdded:z()(_,{"iCal Type":He[t.iCalType]});break;case me.X.CalendarEvents.ICalColorChanged:z()(_,{"Previous Color":t.previousColor,"New Color":t.newColor});break;case me.X.CalendarEvents.ImportByURLClicked:z()(_,{Where:t.where});break;case me.X.CalendarEvents.TimelineMilestoneLaneChanged:z()(_,{"Milestone Lane":t.isMilestonesShown?"Enabled":"Disabled"});break;case me.X.CalendarEvents.TimelineMembersChanged:case me.X.CalendarEvents.TimelineMembersSelectedAll:z()(_,{"Timeline Members Count":t.timelineMembersCount});break;case me.X.CalendarEvents.TimelineCalendarsChanged:case me.X.CalendarEvents.TimelineCalendarsSelectedAll:z()(_,{"Timeline Boards Count":t.timelineBoardsCount,"Timeline Google Calendars Count":t.timelineGoogleCalendarsCount,"Timeline iCals Count":t.timelineICalsCount});break;case me.X.CalendarEvents.TimelineListsChanged:case me.X.CalendarEvents.TimelineListsSelectedAll:case me.X.CalendarEvents.TimelineListsSelectedOnlyDefault:z()(_,{"Timeline Lists Count":t.timelineListsCount});break;case me.X.CalendarEvents.TimelineLabelsChanged:case me.X.CalendarEvents.TimelineLabelsSelectedAll:case me.X.CalendarEvents.TimelineLabelsSelectedOnlyDefault:z()(_,{"Timeline Labels Count":t.timelineLabelsCount});break;case me.X.CalendarEvents.SyncStarted:z()(_,{"Sync Only My Cards":t.syncOnlyMemberCards,"Set Event Color By Label":t.setEventColorByLabel,"Sync Completed Cards":t.syncCompletedCards,"Sync As Free":t.syncAsFree});break;case me.X.CalendarEvents.ShareBoardPermissionChanged:case me.X.CalendarEvents.ShareBoardLinkCopied:z()(_,{Permission:Fe[t.permissionLevel]});break;case me.X.CalendarEvents.TaskListsFiltersChanged:z()(_,{"Task List Only Unscheduled":t.taskListsOnlyUnscheduled});break;case me.X.CalendarEvents.TaskListsViewModeChanged:z()(_,{"Task List View Mode":Be[t.taskListsView]});break;case me.X.CalendarEvents.Print:z()(_,{"View Mode":getSchedulerViewMode(this._globalBoardSettings)});break;case me.X.CalendarEvents.CurrentBoardChanged:case me.X.CalendarEvents.BoardCreated:z()(_,{Where:t.where});break;case me.X.SettingsEvents.WorkHoursChanged:z()(_,{"Work Hours":`${ie()(this._globalSettings.workDayStart).format("HH:mm")}-${ie()(this._globalSettings.workDayEnd).format("HH:mm")}`});break;case me.X.SettingsEvents.FirstWeekDayChanged:z()(_,{"First Week Day":Pe[this._globalSettings.firstWeekDay]});break;case me.X.SettingsEvents.WorkDaysChanged:z()(_,{"Work Days":`${Pe[this._globalSettings.workWeekStart]}-${Pe[this._globalSettings.workWeekEnd]}`});break;case me.X.SettingsEvents.LocaleChanged:z()(_,{Locale:this._appCommonSrv.getLocale()});break;case me.X.SettingsEvents.DueLinkAllDayChanged:{let e=this._trelloIntegrationSrv.getTrelloBoardById(this._trelloIntegrationSrv.getCurrentBoardId());z()(_,{"Due Date Linked To":ze[e.dueLinkTypeAllDay]});break}case me.X.SettingsEvents.DueLinkChanged:{let e=this._trelloIntegrationSrv.getTrelloBoardById(this._trelloIntegrationSrv.getCurrentBoardId());z()(_,{"Due Time Linked To":ze[e.dueLinkType]});break}case me.X.SettingsEvents.DefaultDurationChanged:{let e=this._trelloIntegrationSrv.getTrelloBoardById(this._trelloIntegrationSrv.getCurrentBoardId());z()(_,{"Default Card Duration":Object(pe.E)(e.defaultCardDuration*(e.defaultCardIsAllDay?1440:1)*60*1e3)});break}case me.X.SettingsEvents.DefaultCardPositionChanged:{let e=this._trelloIntegrationSrv.getTrelloBoardById(this._trelloIntegrationSrv.getCurrentBoardId());z()(_,{"Default Card Position":Xe[e.defaultCardPosition]});break}case me.X.SettingsEvents.EnableTrelloFiltersChanged:z()(_,{State:this._globalSettings.isTrelloFiltersEnabled?"Enabled":"Disabled"});break;case me.X.SettingsEvents.CardThemeChanged:z()(_,{"Card Theme":Me[this._globalBoardSettings.cardTheme]});break;case me.X.SettingsEvents.ShowTrelloBoardChanged:z()(_,{State:this._globalBoardSettings.showTrelloBoard?"Enabled":"Disabled"});break;case me.X.SettingsEvents.ShowTrelloCardNumberChanged:z()(_,{State:this._globalBoardSettings.showTrelloCardNumber?"Enabled":"Disabled"});break;case me.X.SettingsEvents.ShowDateTimeChanged:z()(_,{State:this._globalBoardSettings.showDateTime?"Enabled":"Disabled"});break;case me.X.SettingsEvents.CustomFieldsAsCardsChanged:z()(_,{State:this._globalBoardSettings.customFieldsAsCards.length>0?"Enabled":"Disabled"});break;case me.X.SettingsEvents.HighlightTodayChanged:z()(_,{State:this._globalBoardSettings.highlightToday?"Enabled":"Disabled"});break;case me.X.SettingsEvents.ShowWeekNumbersChanged:z()(_,{State:this._globalBoardSettings.showWeekNumbers?"Enabled":"Disabled"});break;case me.X.SettingsEvents.ShowOnlyWorkDaysChanged:z()(_,{State:this._globalBoardSettings.showWorkDays?"Disabled":"Enabled"});break;case me.X.SettingsEvents.ShowOnlyWorkHoursChanged:z()(_,{State:this._globalBoardSettings.showWorkHours?"Disabled":"Enabled"});break;case me.X.SettingsEvents.ShowArchivedCardsChanged:z()(_,{State:this._globalBoardSettings.isArchivedCardsShown?"Enabled":"Disabled"});break;case me.X.SettingsEvents.ShowCheckItemCardsChanged:z()(_,{State:this._globalBoardSettings.isCheckItemCardsShown?"Enabled":"Disabled"});break;case me.X.SettingsEvents.ShowTimeRecordCardsChanged:z()(_,{State:this._globalBoardSettings.isTimeRecordCardsShown?"Enabled":"Disabled"});break;case me.X.SettingsEvents.ShowMilestonesChanged:z()(_,{State:this._globalBoardSettings.isMilestonesShown?"Enabled":"Disabled"});break;case me.X.SettingsEvents.CardsVisibilityChanged:z()(_,{State:Je[this._globalBoardSettings.filters.cardsVisibility]});break;case me.X.FiltersEvents.CustomFilterAdded:case me.X.FiltersEvents.CustomFilterRemoved:z()(_,{"Custom Filter Type":Ge[t.customFilterType],"Custom Field Type":Ue[t.customFieldType]});break;case me.X.CardEvents.OpenedByUrl:case me.X.CardEvents.CreateDialogOpened:case me.X.CardEvents.CreateDialogClosed:case me.X.CardEvents.EditDialogOpened:case me.X.CardEvents.EditDialogClosed:case me.X.CardEvents.EditDialogModeChanged:case me.X.CardEvents.CreatedFromTaskLists:case me.X.CardEvents.Scheduled:case me.X.CardEvents.Reordered:case me.X.CardEvents.ContextMenuOpened:case me.X.CardEvents.MarkedCompleted:case me.X.CardEvents.MarkedIncompleted:case me.X.CardEvents.Archived:case me.X.CardEvents.Unarchived:case me.X.CardEvents.UrlCopied:case me.X.CardEvents.Duplicated:case me.X.CardEvents.Subscribed:case me.X.CardEvents.Unsubscribed:case me.X.CardEvents.Deleted:case me.X.CardEvents.TitleChanged:case me.X.CardEvents.TypeChanged:case me.X.CardEvents.DatesRemoved:case me.X.CardEvents.IsAllDaySet:case me.X.CardEvents.IsAllDayUnset:case me.X.CardEvents.StartChanged:case me.X.CardEvents.EndChanged:case me.X.CardEvents.TimeAdded:case me.X.CardEvents.TimeRemoved:case me.X.CardEvents.DurationChanged:case me.X.CardEvents.DailyEstimateChanged:case me.X.CardEvents.DailyEstimateFieldVisibilityChanged:case me.X.CardEvents.Moved:case me.X.CardEvents.Resized:case me.X.CardEvents.RecurrenceRuleChanged:case me.X.CardEvents.PriorityChanged:case me.X.CardEvents.BoardChanged:case me.X.CardEvents.GoogleCalendarChanged:case me.X.CardEvents.ListChanged:case me.X.CardEvents.ParentCardChanged:case me.X.CardEvents.ParentCardOpened:case me.X.CardEvents.PositionChanged:case me.X.CardEvents.MemberAssigned:case me.X.CardEvents.MemberAssignedSelf:case me.X.CardEvents.MemberUnassigned:case me.X.CardEvents.MemberUnassignedSelf:case me.X.CardEvents.MemberChanged:case me.X.CardEvents.LabelRemoved:case me.X.CardEvents.LabelAdded:case me.X.CardEvents.DescriptionChanged:case me.X.CardEvents.CustomFieldChanged:case me.X.CardEvents.ReminderAdded:case me.X.CardEvents.ReminderChanged:case me.X.CardEvents.ReminderDeleted:case me.X.CardEvents.CardLinkAdded:case me.X.CardEvents.CardLinkTypeChanged:case me.X.CardEvents.CardLinkLinkedCardOpened:case me.X.CardEvents.CardLinkRemoved:case me.X.CardEvents.ChecklistAdded:case me.X.CardEvents.ChecklistNameChanged:case me.X.CardEvents.ChecklistOrderChanged:case me.X.CardEvents.ChecklistCollapsed:case me.X.CardEvents.ChecklistExpanded:case me.X.CardEvents.ChecklistCompletedHidden:case me.X.CardEvents.ChecklistCompletedShown:case me.X.CardEvents.ChecklistDeleted:case me.X.CardEvents.CheckItemAdded:case me.X.CardEvents.CheckItemNameChanged:case me.X.CardEvents.CheckItemOrderChanged:case me.X.CardEvents.CheckItemChecklistChanged:case me.X.CardEvents.CheckItemMarkedCompleted:case me.X.CardEvents.CheckItemMarkedIncompleted:case me.X.CardEvents.CheckItemDeleted:case me.X.CardEvents.CheckItemDatesSet:case me.X.CardEvents.CheckItemDatesRemoved:case me.X.CardEvents.CheckItemIsAllDaySet:case me.X.CardEvents.CheckItemIsAllDayUnset:case me.X.CardEvents.CheckItemStartChanged:case me.X.CardEvents.CheckItemEndChanged:case me.X.CardEvents.CheckItemMemberAssigned:case me.X.CardEvents.CheckItemMemberUnassigned:case me.X.CardEvents.CheckItemContextMenuOpened:case me.X.CardEvents.TimeRecordAdded:case me.X.CardEvents.TimeRecordCommentChanged:case me.X.CardEvents.TimeRecordDeleted:case me.X.CardEvents.TimeRecordFromChanged:case me.X.CardEvents.TimeRecordToChanged:case me.X.CardEvents.TimeRecordDurationChanged:case me.X.CardEvents.TimeRecordTimeAdded:case me.X.CardEvents.TimeRecordTimeRemoved:case me.X.CardEvents.AttachmentAdded:case me.X.CardEvents.AttachmentClicked:case me.X.CardEvents.AttachmentLinkChanged:case me.X.CardEvents.AttachmentNameChanged:case me.X.CardEvents.AttachmentDeleted:case me.X.CardEvents.CommentAdded:case me.X.CardEvents.CommentEdited:case me.X.CardEvents.CommentDeleted:case me.X.CardEvents.CommentReplyClicked:case me.X.CardEvents.CardOpenClicked:case me.X.CardEvents.CardDoubleClicked:case me.X.CardEvents.CardViewOnTimelineClicked:let r;switch(t.where){case me.W.Scheduler:r=getSchedulerViewMode(this._globalBoardSettings);break;case me.W.TaskList:r=Be[this._globalBoardSettings.taskListsView]}switch(z()(_,{"All Day":t.isAllDay,"Card Type":t.cardRole===ce.c.Milestone?Ye[t.cardRole]:We[t.cardType],"Card Source":t.isCurrentBoardCard?"Current Board":$e[t.cardType],"Is New Card":t.isNewCard,"Recurrence Rule":toRecurrenceRuleText(t.recurrenceRule),Priority:Ke[t.priority||0],"Recurring Mode":Ve[t.modifyRecurringMode],View:t.where===me.W.Scheduler?Re[this._globalBoardSettings.schedulerMode]:t.where,"View Mode":r,By:t.by,"Is Detailed":t.isDetailed}),t.cardType){case me.h.TrelloTimeRecord:z()(_,{"Card Duration":t.isAllDay?Object(pe.E)(60*t.durationMinutes*1e3):getCardDuration(t)});break;default:z()(_,{"Card Duration":getCardDuration(t)})}switch(e){case me.X.CardEvents.Scheduled:z()(_,{Destination:t.destination});break;case me.X.CardEvents.DailyEstimateChanged:z()(_,{"Daily Estimate":Object(pe.E)(60*t.dailyEstimateMinutes*1e3)});break;case me.X.CardEvents.DailyEstimateFieldVisibilityChanged:z()(_,{State:t.isDailyEstimateFieldShown?"Enabled":"Disabled"});break;case me.X.CardEvents.ReminderAdded:case me.X.CardEvents.ReminderChanged:case me.X.CardEvents.ReminderDeleted:z()(_,{"Reminder Type":xe[t.reminderType],"Reminder Span":`${t.remindBeforeValue} ${t.remindBeforeUnit}`,"Reminder Time":t.remindTime&&ie()(t.remindTime).format("HH:mm")});break;case me.X.CardEvents.CardLinkAdded:case me.X.CardEvents.CardLinkTypeChanged:case me.X.CardEvents.CardLinkLinkedCardOpened:case me.X.CardEvents.CardLinkRemoved:z()(_,{"Dependency Type":qe[t.linkType]});break;case me.X.CardEvents.TimeRecordAdded:case me.X.CardEvents.TimeRecordCommentChanged:case me.X.CardEvents.TimeRecordDeleted:case me.X.CardEvents.TimeRecordFromChanged:case me.X.CardEvents.TimeRecordToChanged:case me.X.CardEvents.TimeRecordDurationChanged:case me.X.CardEvents.TimeRecordTimeAdded:case me.X.CardEvents.TimeRecordTimeRemoved:z()(_,{Duration:Object(pe.E)(60*t.durationMinutes*1e3),Time:t.isDuration?"No":"Yes"});break;case me.X.CardEvents.AttachmentAdded:case me.X.CardEvents.AttachmentClicked:case me.X.CardEvents.AttachmentNameChanged:case me.X.CardEvents.AttachmentLinkChanged:case me.X.CardEvents.AttachmentDeleted:z()(_,{"Attachment Type":je[t.attachmentType]})}break;case me.X.TaskListEvents.ContextMenuOpened:case me.X.TaskListEvents.Created:case me.X.TaskListEvents.NameChanged:case me.X.TaskListEvents.PositionChanged:case me.X.TaskListEvents.Deleted:z()(_,{"Task List View Mode":Be[this._globalBoardSettings.taskListsView],By:t.by});break;case me.X.OnboardingEvents.TourStepShown:z()(_,{Step:t.step});break;case me.X.OnboardingEvents.ChooseModePassed:z()(_,{View:t.mode})}if(this._$log.debug("SESSION EVENT:",e,h,_),this._sendAmplitudeEvent(e,h,_),this._sendAppInsightsEvent(e,_),this._totalEventsCount++,this._session&&this._sessionAllowed){let e=this._serializeSession(this._session);sessionStorage.setItem(Te,e),localStorage.setItem(`planywaySession-${this._session.sessionId}`,e)}}catch(e){this._$log.error("Planyway log session event error:"),this._$log.error(e)}})()}},{kind:"method",key:"logError",value:function logError(e,t,r={}){(async()=>{try{if("string"==typeof t){if(B()(t).call(t,_e.t))return;t=new Error(t)}this._initTelemetryPromise&&await this._initTelemetryPromise,this._sendAppInsightsError(e,t,r)}catch(e){this._$log.error("Planyway log error error:"),this._$log.error(e)}})()}},{kind:"method",key:"logRequest",value:function logRequest(e,t,r,i){try{let a=Object(te.a)();return this._requests.set(a,{requestType:e,method:t,url:r,data:i,startTime:P()()}),a}catch(e){this._$log.error("Planyway log request error:"),this._$log.error(e)}}},{kind:"method",key:"logRequestEnd",value:function logRequestEnd(e,t,r){e&&this._requests.has(e)&&(async()=>{try{let i=P()();this._initTelemetryPromise&&await this._initTelemetryPromise;let a=this._requests.get(e);this._requests.delete(e);let n=i-a.startTime;(n<0||n>3e5)&&(n=0);let o,s,l=a.method.toUpperCase();a.method!==me.L.Get&&(o=a.data),r&&(s={...r,error:void 0}),this._$log.debug("REQUEST:",a.requestType,l,a.url,a.data,`duration: ${n}ms, status: ${t}, error:`,s),this._sendAppInsightsRequest(e,a.requestType,l,a.url,o,n,t,s)}catch(e){this._$log.error("Planyway log request error:"),this._$log.error(e)}})()}},{kind:"method",key:"countUserActivityDays",value:function countUserActivityDays(e){let t=this._userActivityDays;return e&&(e=Object(pe.O)(e),t=H()(t).call(t,(t=>t>=e))),t.length}},{kind:"get",key:"_memberId",value:function _memberId(){return this._trelloIntegrationSrv.getMemberId()}},{kind:"get",key:"_localSettings",value:function _localSettings(){return this._settingsSrv.currentSettings.local}},{kind:"get",key:"_globalSettings",value:function _globalSettings(){return this._settingsSrv.currentSettings.global}},{kind:"get",key:"_localBoardSettings",value:function _localBoardSettings(){return this._settingsSrv.currentSettings.getLocalBoardSettings(this._trelloIntegrationSrv.getCurrentBoardId())}},{kind:"get",key:"_globalBoardSettings",value:function _globalBoardSettings(){return this._settingsSrv.currentSettings.getGlobalBoardSettings(this._trelloIntegrationSrv.getCurrentBoardId())}},{kind:"get",key:"_totalEventsCount",value:function _totalEventsCount(){if(localStorage.planywayTotalEventsCount)try{return L()(localStorage.planywayTotalEventsCount,10)}catch(e){}return 0}},{kind:"set",key:"_totalEventsCount",value:function _totalEventsCount(e){localStorage.planywayTotalEventsCount=e}},{kind:"method",key:"_initTelemetryAsync",value:async function _initTelemetryAsync(){let e=P()(),t=this._$window.planywayLoadStartTime?e-this._$window.planywayLoadStartTime:0;(t<0||t>3e5)&&(t=0);let r=await this._platformSrv.getTelemetryDataAsync();switch(this._unauthorizedId=r.unauthorizedId,this._acquisitionDate=new Date(ee.a.getTimestamp(this.unauthorizedId.replace(/^un_/,""))),this._baseUserProperties={"App Type":me.S[this._platformSrv.getAppType()],"App Version":this._platformSrv.getAppVersion(),"Acquisition Date":this._acquisitionDate.toISOString(),"Acquisition Day":ie()(this._acquisitionDate).format("YYYY-MM-DD"),"Acquisition Week":ie()(this._acquisitionDate).format("YYYY/w"),"Acquisition Month":ie()(this._acquisitionDate).format("YYYY-MM"),"Acquisition Year":ie()(this._acquisitionDate).format("YYYY")},this._baseEventProperties={"App Type":me.S[this._platformSrv.getAppType()],"App Version":this._platformSrv.getAppVersion()},this._trafficSourceUserProperties={SourceUrl:"None"},this._platformSrv.getAppType()){case ce.a.Chrome:this._trafficSourceUserProperties={...this._trafficSourceUserProperties,Source:Qe,Channel:nt};break;case ce.a.PowerUp:this._trafficSourceUserProperties={...this._trafficSourceUserProperties,Source:et,Channel:nt};break;case ce.a.Standalone:switch(Object(pe.bb)(this._$window,_e.V)){case me.G.InviteEmail:this._trafficSourceUserProperties={...this._trafficSourceUserProperties,Source:rt,Channel:ot};break;case me.G.InviteLink:this._trafficSourceUserProperties={...this._trafficSourceUserProperties,Source:it,Channel:ot};break;default:this._trafficSourceUserProperties={...this._trafficSourceUserProperties,Source:at,Channel:st}}break;case ce.a.Teams:this._trafficSourceUserProperties={...this._trafficSourceUserProperties,Source:tt,Channel:nt}}const sendAmplitudeIdentity=()=>{let e=this._totalEventsCount;this._totalEventsCount=0,this._sendAmplitudeIdentity({add:{"Total Events Count":e},setOnce:this._trafficSourceUserProperties})};sendAmplitudeIdentity(),this._$interval(sendAmplitudeIdentity,36e5,0,!1);try{if(sessionStorage.planywayAppInsightsOperationId)this._appInsightsOperationId=sessionStorage.planywayAppInsightsOperationId;else{let e={name:`${ye}Request`,iKey:_e.b,time:(new Date).toISOString(),tags:{"ai.application.ver":this._platformSrv.getAppVersion(),"ai.cloud.role":me.S[this._platformSrv.getAppType()],"ai.cloud.roleVer":this._platformSrv.getAppVersion(),"ai.cloud.roleInstance":this._appInsightsOperationId,"ai.operation.id":this._appInsightsOperationId,"ai.operation.name":me.S[this._platformSrv.getAppType()],"ai.user.id":this.unauthorizedId||localStorage.planywayUnauthorizedId,"ai.user.authUserId":this._memberId||localStorage.planywayMemberId,"ai.internal.sdkVersion":`planyway:${this._platformSrv.getAppVersion()}`},data:{baseType:"RequestData",baseData:{ver:2,id:this._appInsightsOperationId,name:me.S[this._platformSrv.getAppType()],duration:ie.a.duration(t).format("HH:mm:ss.SSS",{trim:!1}),responseCode:200,properties:{...this._baseUserProperties,...this._baseEventProperties,Browser:this._browser&&O()(this._browser.getResult(),null,4)}}}};this._settingsSrv.currentFlags.telemetry&&await this._platformSrv.restAsync(me.L.Post,fe,{body:e}),sessionStorage.planywayAppInsightsOperationId=this._appInsightsOperationId}}catch(e){this._$log.error("Planyway initialize Application Insights telemetry error:"),this._$log.error(e)}let{isInstallSent:i}=await this._platformSrv.getTelemetryDataAsync();this._initTelemetryPromise=null,i||(this.logSingleEvent(me.X.GeneralEvents.Installed),this._platformSrv.setTelemetryDataAsync({isInstallSent:!0}))}},{kind:"method",key:"_initSessionTelemetry",value:function _initSessionTelemetry(){try{var e;let t=this._deserializeSession(sessionStorage.getItem(Te));t&&!this._isSessionExpired(t)&&(this._session=t,this._renewSession());let r=H()(e=R()(localStorage)).call(e,(e=>b()(e).call(e,"planywaySession-")));for(let e of r){let t=this._deserializeSession(localStorage.getItem(e));t&&this._isSessionExpired(t)&&this._sendSessionClosedEvent(t)}}catch(e){this._$log.error("Planyway telemetry initialization error:"),this._$log.error(e)}}},{kind:"method",key:"_renewSession",value:function _renewSession(){this._sessionTimeout&&this._$timeout.cancel(this._sessionTimeout),this._sessionTimeout=this._$timeout((()=>{this._sessionTimeout&&(this._$timeout.cancel(this._sessionTimeout),this._sessionTimeout=null),this._session&&(this._sendSessionClosedEvent(this._session),sessionStorage.removeItem(Te),this._session=null)}),Ce,!1)}},{kind:"method",key:"_isSessionExpired",value:function _isSessionExpired(e){let t=Object(pe.T)(e.lastActivityDate,new Date);return t<0&&(t=0),t>Ce||e.memberId!==this._memberId}},{kind:"method",key:"_deserializeSession",value:function _deserializeSession(e){if(e)try{let t=JSON.parse(e);return t.sessionStartDate=new Date(t.sessionStartDate),t.lastActivityDate=new Date(t.lastActivityDate),t}catch(e){}}},{kind:"method",key:"_serializeSession",value:function _serializeSession(e){return O()(e)}},{kind:"method",key:"_updateUserActivity",value:function _updateUserActivity(){this._userActivityDays=[];let e=new Date(Object(pe.Fb)(new Date));if(localStorage.planywayActivityDays)try{var t,r;this._userActivityDays=H()(t=v()(r=JSON.parse(localStorage.planywayActivityDays)).call(r,(e=>new Date(e)))).call(t,(t=>{let r=Object(pe.R)(t,e);return r>0&&r<=90}))}catch(e){}this._userActivityDays.push(e);try{var i;localStorage.planywayActivityDays=O()(v()(i=this._userActivityDays).call(i,(e=>Object(pe.Fb)(e))))}catch(e){}}},{kind:"method",key:"_initMouseflow",value:function _initMouseflow(e=!1){}},{kind:"method",key:"_sendSessionStartedEvent",value:function _sendSessionStartedEvent(e){let t={},r={"Work Hours":`${ie()(this._globalSettings.workDayStart).format("HH:mm")}-${ie()(this._globalSettings.workDayEnd).format("HH:mm")}`,"First Week Day":Pe[this._globalSettings.firstWeekDay],"Work Days":`${Pe[this._globalSettings.workWeekStart]}-${Pe[this._globalSettings.workWeekEnd]}`,Locale:this._appCommonSrv.getLocale(),Sidebar:this._localSettings.schedulerSidebar.isShown?"Shown":"Hidden"};z()(r,{"Trello Filters":this._globalSettings.isTrelloFiltersEnabled?"Enabled":"Disabled"});let i={"Window Width":this._$window.innerWidth,"Window Height":this._$window.innerHeight,"Browser Locale":de.a,"Trello Version":localStorage.planywayTrelloVersion,"Time Zone":ie.a.tz.guess()};this._$log.debug("SESSION EVENT:","Session Started",t,r),this._sendAmplitudeEvent("Session Started",t,r,e,e.sessionStartDate),this._sendAppInsightsEvent("Session Started",{...r,...i},e,e.sessionStartDate),this._totalEventsCount++}},{kind:"method",key:"_sendSessionClosedEvent",value:function _sendSessionClosedEvent(e){let t={},r={};this._$log.debug("SESSION EVENT:","Session Closed",t,r),this._sendAmplitudeEvent("Session Closed",t,r,e,e.lastActivityDate),this._sendAppInsightsEvent("Session Closed",r,e,e.lastActivityDate),this._totalEventsCount++,localStorage.removeItem(`planywaySession-${e.sessionId}`)}},{kind:"method",key:"_sendAmplitudeIdentity",value:function _sendAmplitudeIdentity(e={}){var t;this._sendAmplitudeEvent("$identify",{$add:e.add,$append:e.append,$setOnce:e.setOnce,$unset:e.unset&&S()(t=e.unset).call(t,((e,t)=>(e[t]="-",e)),{})})}},{kind:"method",key:"_sendAmplitudeEvent",value:function _sendAmplitudeEvent(e,t,r,i=this._session,a=new Date){var n,o;let s;switch(e){case me.X.GeneralEvents.Installed:s="Amplitude Installed Event"}let l=Object(te.a)();this._amplitudeSequenceNumber+=1;let d=O()([{uuid:l,insert_id:l,platform:me.S[this._platformSrv.getAppType()],version_name:this._platformSrv.getAppVersionShort(),device_model:me.S[this._platformSrv.getAppType()],os_name:null===(n=this._browser)||void 0===n?void 0:n.getBrowserName(),os_version:null===(o=this._browser)||void 0===o?void 0:o.getBrowserVersion(),user_agent:navigator.userAgent,api_properties:{tracking_options:{ip_address:!1}},device_id:this.unauthorizedId,user_id:this._memberId,user_properties:"$identify"!==e?{...this._baseUserProperties,...t}:t,session_id:i?i.sessionStartDate.getTime():-1,event_id:this._amplitudeSequenceNumber,sequence_number:this._amplitudeSequenceNumber,event_type:e,event_properties:"$identify"!==e?{...this._baseEventProperties,...r}:void 0,timestamp:a.getTime()}]),c=new Date,u={client:_e.a,e:d,v:2,upload_time:c.getTime(),checksum:ne()(2+_e.a+d+c.getTime())};this._settingsSrv.currentFlags.telemetry&&(async()=>{try{await this._platformSrv.restAsync(me.L.PostForm,"https://api.amplitude.com",{body:u,deduplicationTag:s})}catch(e){this._$log.debug("Planyway send Amplitude telemetry error:"),this._$log.debug(e)}})()}},{kind:"method",key:"_sendAppInsightsEvent",value:function _sendAppInsightsEvent(e,t,r=this._session,i=new Date){let a;switch(e){case me.X.GeneralEvents.Installed:a="App Insights Installed Event"}let n={name:`${ye}Event`,iKey:_e.b,time:i.toISOString(),tags:{"ai.application.ver":this._platformSrv.getAppVersion(),"ai.cloud.role":me.S[this._platformSrv.getAppType()],"ai.cloud.roleVer":this._platformSrv.getAppVersion(),"ai.cloud.roleInstance":this._appInsightsOperationId,"ai.operation.id":this._appInsightsOperationId,"ai.operation.name":me.S[this._platformSrv.getAppType()],"ai.session.id":null==r?void 0:r.sessionId,"ai.user.id":this.unauthorizedId,"ai.user.authUserId":this._memberId||localStorage.planywayMemberId,"ai.internal.sdkVersion":`planyway:${this._platformSrv.getAppVersion()}`},data:{baseType:"EventData",baseData:{ver:2,name:e,properties:{...this._baseUserProperties,...this._baseEventProperties,...t}}}};this._settingsSrv.currentFlags.telemetry&&(async()=>{try{await this._platformSrv.restAsync(me.L.Post,fe,{body:n,deduplicationTag:a})}catch(e){this._$log.debug("Planyway send AppInsights telemetry error:"),this._$log.debug(e)}})()}},{kind:"method",key:"_sendAppInsightsError",value:function _sendAppInsightsError(e,t,r={}){let i={};if(t)for(let e of T()(t))switch(e){case"constructor":case"name":case"message":break;default:i[e]="object"==typeof t[e]?O()(t[e],null,4):t[e]}let a={name:`${ye}Exception`,iKey:_e.b,time:(new Date).toISOString(),tags:{"ai.application.ver":this._platformSrv.getAppVersion(),"ai.cloud.role":me.S[this._platformSrv.getAppType()],"ai.cloud.roleVer":this._platformSrv.getAppVersion(),"ai.cloud.roleInstance":this._appInsightsOperationId,"ai.operation.id":this._appInsightsOperationId,"ai.operation.name":me.S[this._platformSrv.getAppType()],"ai.session.id":this._session&&this._session.sessionId,"ai.user.id":this.unauthorizedId||localStorage.planywayUnauthorizedId,"ai.user.authUserId":this._memberId||localStorage.planywayMemberId,"ai.internal.sdkVersion":`planyway:${this._platformSrv.getAppVersion()}`},data:{baseType:"ExceptionData",baseData:{ver:2,exceptions:[{message:t&&t.name?`${t.name}: ${t.message}`:"Unknown error",typeName:e,hasFullStack:!1}],properties:{...this._baseUserProperties,...this._baseEventProperties,...i,"In Class":r.class,"In Property":r.property,"In Method":r.method,Browser:this._browser&&O()(this._browser.getResult(),null,4)}}}};this._settingsSrv.currentFlags.telemetry&&(async()=>{try{await this._platformSrv.restAsync(me.L.Post,fe,{body:a})}catch(e){this._$log.debug("Planyway send AppInsights telemetry error:"),this._$log.debug(e)}})()}},{kind:"method",key:"_sendAppInsightsRequest",value:function _sendAppInsightsRequest(e,t,r,i,a,n,o,s){let l=new y.a(i),d=l.host,c=l.pathname.replace(/tokens\/[0-9a-z]{64}/,"tokens/{token}").replace(/boards\/[0-9a-zA-Z]{8}(\/|$)/,"boards/{sid}").replace(/cards\/[0-9a-zA-Z]{8}(\/|$)/,"cards/{sid}").replace(/calendar\/v3\/calendars\/[\w%-._~]+\/events/,"calendar/v3/calendars/{calendar_id}/events").replace(/[0-9a-f]{24}/g,"{id}").replace(/[0-9a-f]{8}-([0-9a-f]{4}-){3}[0-9a-f]{12}/g,"{guid}"),u={name:`${ye}RemoteDependency`,iKey:_e.b,time:(new Date).toISOString(),tags:{"ai.application.ver":this._platformSrv.getAppVersion(),"ai.cloud.role":me.S[this._platformSrv.getAppType()],"ai.cloud.roleVer":this._platformSrv.getAppVersion(),"ai.cloud.roleInstance":this._appInsightsOperationId,"ai.operation.id":this._appInsightsOperationId,"ai.operation.name":me.S[this._platformSrv.getAppType()],"ai.session.id":this._session&&this._session.sessionId,"ai.user.id":this.unauthorizedId||localStorage.planywayUnauthorizedId,"ai.user.authUserId":this._memberId||localStorage.planywayMemberId,"ai.internal.sdkVersion":`planyway:${this._platformSrv.getAppVersion()}`},data:{baseType:"RemoteDependencyData",baseData:{ver:2,id:`|${this._appInsightsOperationId}.${e}`,name:`${r} ${c}`,duration:ie.a.duration(n).format("HH:mm:ss.SSS",{trim:!1}),resultCode:o,success:o>=200&&o<400,data:t,target:d,type:"Ajax",properties:{Data:a&&O()(a,((e,t)=>{switch(e){case"memberName":case"memberEmail":case"message":case"attachments":case"serialized":case"name":case"desc":case"due":case"value":case"file":case"url":case"summary":case"description":if("string"==typeof t)return`{${e}}`;break;case"idLabels":case"idMembers":return v()(t).call(t,(e=>"{id}"))}return"string"==typeof t?t.replace(_e.R,"{key}").replace(/[0-9a-z]{64}/g,"{token}").replace(/[0-9a-f]{24}/g,"{id}").replace(/[0-9a-f]{8}-([0-9a-f]{4}-){3}[0-9a-f]{12}/g,"{guid}"):t})),Response:s&&O()(s,null,4)}}}};this._settingsSrv.currentFlags.telemetry&&(async()=>{try{await this._platformSrv.restAsync(me.L.Post,fe,{body:u})}catch(e){this._$log.debug("Planyway send AppInsights telemetry error:"),this._$log.debug(e)}})()}}]}}));function getSchedulerViewMode(e){switch(e.schedulerMode){case me.M.Calendar:return ke[e.schedulerView];case me.M.Timeline:return Oe[e.timelineView];case me.M.TimeTracking:return"Week"}}function toTimelineScaleUnit(e){if("string"==typeof e)return e;let t=1728e6;if(e<t)return me.hb.Day;let r=6912e6;if(e<r)return me.hb.Week;let i=20736e6;if(e<i)return me.hb.Month;return e<82944e6?me.hb.Quarter:me.hb.Year}function getCardDuration(e){if(Object(pe.rb)(e.start)&&Object(pe.rb)(e.end))return e.cardRole===ce.c.Milestone?"0":e.isAllDay?Object(pe.E)(24*(Object(pe.R)(e.start,e.end)+1)*60*60*1e3)||"0":Object(pe.E)(Object(pe.T)(e.start,e.end))||"0"}function toRecurrenceRuleText(e){return e?Object(pe.i)(Ee.fromString(e).toText()):"Does not repeat"}},143:function(e,t,r){"use strict";r.d(t,"a",(function(){return ngBootstrap}));var i=r(79),a=r.n(i),n=r(126),o=r.n(n),s=r(4),l=r.n(s),d=r(78),c=r.n(d),u=r(100),h=r.n(u),_=r(113),m=r.n(_),p=r(2),E=r.n(p),f=r(16),y=r.n(f),C=r(3),T=r.n(C),g=r(21),S=r.n(g),D=r(114),v=r.n(D),A=r(33),b=r.n(A),I=r(5),R=r.n(I),k=r(17),O=r.n(k),w=r(13),L=r.n(w),N=r(66),P=r.n(N),M=(r(429),r(565),r(566),r(567),r(568),r(569),r(570),r(571),r(572),r(258)),B=r.n(M),F=r(259),G=r.n(F),U=r(260),H=r.n(U),Y=r(186),W=r.n(Y),$=r(7),z=r(0),V=r(112),x=r(52),j=r.n(x);const K=r(435);function ngBootstrap(e,{modules:t=[],services:r=[],controllers:i=[],directives:n=[],values:s={}}=injections){let d=P.a.module(e,["ngAnimate","ngMessages","ngMaterial","pascalprecht.translate","angular.bind.notifier","ngSanitize","ng-showdown",...t]);!function configAngularJs(e){e.config(["$interpolateProvider",e=>{e.startSymbol("{pw{"),e.endSymbol("}pw}")}]),e.config(["$logProvider",e=>{e.debugEnabled(!1)}]),e.config(["$windowProvider",e=>{const t=e.$get;e.$get=function(...e){let r=t.apply(this,e);const i=window.open;return r.open=function(...e){let t=i(...e);return t&&"_blank"===e[1]&&(t.opener=null),t},r}}]),e.config(["$provide",e=>{e.decorator("$rootScope",["$delegate",e=>(e.__proto__.$once=function(e,t){const r=this.$on(e,(()=>{r(),t()}))},e)])}]),e.config(["$compileProvider",e=>{e.imgSrcSanitizationWhitelist(/^\s*(https|chrome-extension|safari-extension):/),e.debugInfoEnabled(!1),e.commentDirectivesEnabled(!1),e.cssClassDirectivesEnabled(!1);const t=e.$get[e.$get.length-1];e.$get[e.$get.length-1]=function(...e){let r=t.apply(this,e);return r.$$addScopeInfo=function $$addScopeInfo(e,t,r,i){let a=r?i?"$isolateScopeNoTemplate":"$isolateScope":"$scope";e.data(a,t)},r}}]),e.config(["$sceDelegateProvider",e=>{let t=["self","chrome-extension://**","safari-extension://**"];e.resourceUrlWhitelist(t)}]),e.config(["$ariaProvider",e=>{e.config({bindRoleForClick:!1,tabindex:!1,bindKeydown:!1})}]),e.config(["$animateProvider",e=>{e.classNameFilter(/pw-animated/)}]),e.decorator("$exceptionHandler",["$delegate","$injector","$log",(e,t,r)=>function(e){if("string"==typeof e&&O()(e).call(e,$.t))return;t.get(V.a.serviceName).logError("Planyway unhandled error",e),r.error("Planyway unhandled error:"),r.error(e)}])}(d),function configAngularJsTranslate(e){P.a.module("pascalprecht.translate").factory("planyway.localeLoaderFty",(()=>e=>{var t;let r=R()(t=b()(K).call(K)).call(t,(t=>v()(t).call(t,`locale-${e.key}.json`)));return S.a.resolve(r&&K(r))})),e.config(["$translateProvider",e=>{var t;e.useLoader("planyway.localeLoaderFty");let r=T()(t=b()(K).call(K)).call(t,(e=>e.match(/^\.\/locale-([a-z]{2}(-[a-zA-Z]{2,4})?)\.json$/)[1].replace("-","_")));e.registerAvailableLanguageKeys(r),e.fallbackLanguage("en"),e.preferredLanguage("en"),e.useSanitizeValueStrategy(null)}])}(d),function configAngularJsMaterial(e){e.config(["$mdAriaProvider",e=>{e.disableWarnings()}]),e.config(["$mdCompilerProvider",e=>{e.respectPreAssignBindingsEnabled(!0)}]),e.config(["$mdThemingProvider",e=>{let t=e.extendPalette("blue",{50:j.a.color50,100:j.a.color100,200:j.a.color200,300:j.a.color300,400:j.a.color400,500:j.a.color500,600:j.a.color600,700:j.a.color700,800:j.a.color800,900:j.a.color900,A100:j.a.colorA100,A200:j.a.colorA200,A400:j.a.colorA400,A700:j.a.colorA700});e.definePalette("pwBlue",t),e.theme("default").primaryPalette("pwBlue").accentPalette("pwBlue")}]),e.config(["$provide","$mdIconProvider",(e,t)=>e.value("$mdIconProvider",t)]);const t=new y.a;e.decorator("$animateCss",["$delegate",e=>function(...r){return E()(t).call(t,(e=>e(...r))),e(...r)}]),e.config(["$mdMenuProvider",e=>{const r=e.$get;e.$get=function(...e){let i,a=r.apply(this,e),n={searchBoard:"",searchMember:"",searchResource:"",searchString:""};const s=a.show;a.show=function show(e){var r;let a=L()(e.target).closest("md-menu"),d=e.element,u={};if(a.hasClass("pw-js-menu-autosize")){let t=e.target.offsetWidth;u.width=t,R()(d).call(d,"> md-menu-content").css({minWidth:t,maxWidth:t,width:t})}let _=m()(a.closest(".md-dialog-container, .md-panel-outer-wrapper, .md-open-menu-container").css("z-index"),10);if(h()(_)||(u["z-index"]=_+1e3),d.css(u),R()(r=e.element).call(r,"input").on("keydown",(e=>{e.which!==z.t.Escape&&e.stopPropagation()})),e.scope){if(!e.scope.pwPatched){e.scope.pwPatched=!0;for(let t of c()(n))l()(e.scope,t,{get:()=>n[t],set:e=>{n[t]=e}})}e.onComplete=()=>e.scope.$emit("$mdMenuOpened");const scrollParentOnOverflow=t=>{if(a.hasClass("pw-js-menu-scroll-parent-on-overflow")){let r=e.target.getBoundingClientRect().bottom;B()(e.target).scrollTop+=r-t}},onMenuAnimate=(r,i)=>{if(r===e.element){var a;let e=null===(a=i.from)||void 0===a?void 0:a.top;e&&(t.delete(onMenuAnimate),scrollParentOnOverflow(o()(e)))}};t.add(onMenuAnimate);const r=d[0];r&&(i=e.scope.$watchGroup([()=>r.scrollWidth,()=>r.scrollHeight],(()=>{let e=r.getBoundingClientRect();if(0!==e.width){let t=e.right-window.innerWidth+8;if(t>0){let i=e.left-t;r.style.left=`${i}px`}}if(0!==e.height){let t=e.bottom-window.innerHeight+8;if(t>0){let i=e.top-t;r.style.top=`${i}px`,scrollParentOnOverflow(i)}}})))}if(e.hasBackdrop=!1,e.disableParentScroll=!1,!e.mdMenuCtrl.close.pwPatched){const t=e.mdMenuCtrl.close;e.mdMenuCtrl.close=function close(e,r){t(!0,r)},e.mdMenuCtrl.close.pwPatched=!0}return s(e)};const d=a.hide;return a.hide=function hide(e,t){var r;return null===(r=i)||void 0===r||r(),d(e,{...t,closeAll:!t||!t.closeTo,$destroy:!0})},a.destroy=function(){},a},e.$get.$inject=r.$inject}]),e.config(["$mdInkRippleProvider",e=>{const t=e.$get[1];e.$get[1]=function(e){let r=t.call(this,e),i=r.attach;return r.attach=function(e,t,r){t.one("mouseover",(()=>{let n=i(e,t,r);null!=n&&n.bindEvents&&(t.on("pwMouseDown",a()(P.a).call(P.a,n,n.handleMousedown)),t.on("pwMouseUp",a()(P.a).call(P.a,n,n.handleMouseup)))}))},r}}]),e.decorator("$mdUtil",["$delegate",e=>(e.getParentWithPointerEvents=function(e){return e.parent()},e)])}(d),function configAngularJsShowdown(e){e.config(["$showdownProvider","$provide",(e,t)=>{e.loadExtension(G.a).loadExtension(H.a).loadExtension("youtube").loadExtension((()=>[{type:"output",filter:e=>W()(e,{whiteList:{...W.a.whiteList,br:["class"],code:["class"],iframe:["src","width","height","frameborder","allowfullscreen"],img:["class","src","alt","title","width","height"],li:["class","style"],p:["class"],pre:["class"],span:["class","title"],table:["style","width","border","align","valign"],td:["style","width","rowspan","colspan","align","valign"],th:["style","width","rowspan","colspan","align","valign"]}})}])).loadExtension((()=>[{type:"lang",filter:e=>e.replace(/^( {0,3}([*+-]|\d+[.])[ \t]*)(?![^\n]+?)/gm,"$&&nbsp;")}])),e.setOption("noHeaderId",!0).setOption("simplifiedAutoLink",!0).setOption("strikethrough",!0).setOption("tables",!0).setOption("simpleLineBreaks",!0).setOption("emoji",!0).setOption("youtubeWidth",532).setOption("youtubeHeight",300),t.value("$showdownProvider",e)}])}(d),function patchControllers(e){e.decorator("$controller",["$delegate","$timeout","$injector",(e,t,r)=>function(i,a,n,o){let s=e(i,a,n,o);switch(typeof i){case"string":switch(i){case"MenuBarController":s.instance.enableOpenOnHover=()=>{};break;case"mdMenuCtrl":let e;const handleMenuItemHover=function(i){const a=s.instance,n=r.get("$mdUtil");if(a.isAlreadyOpening)return;let o=i.target.querySelector("md-menu")||n.getClosest(i.target,"MD-MENU");e=t((function(){if(o&&(o=P.a.element(o).controller("mdMenu")),a.currentlyOpenMenu&&a.currentlyOpenMenu!==o){var e;let t=a.nestLevel+1;a.currentlyOpenMenu.close(!0,{closeTo:t}),a.isAlreadyOpening=!!o,null===(e=o)||void 0===e||e.open()}else if(o&&!o.isOpen&&o.open){var t;a.isAlreadyOpening=!!o,null===(t=o)||void 0===t||t.open()}}),o?100:250)},handleMenuItemMouseLeave=function(){e&&(t.cancel(e),e=void 0)};l()(s.instance,"handleMenuItemHover",{get:()=>handleMenuItemHover,set:()=>{}}),l()(s.instance,"handleMenuItemMouseLeave",{get:()=>handleMenuItemMouseLeave,set:()=>{}})}break;case"function":switch(i.name){case"MdNavItemController":s.instance.setFocused=()=>{},l()(s.instance,"_focused",{get:()=>!1,set:()=>{}})}}return s}])}(d);for(let e of r)d.service(e.serviceName,e);for(let e of i)d.controller(e.controllerName,e);for(let e of n)d.directive(e.directiveName,e.create);s&&d.value(s),d.controller("IntegrationsCtrl",class DummyIntegrationsController{}),P.a.bootstrap(L()("body"),[e],{strictDi:!0})}},1487:function(e,t,r){"use strict";r.r(t);r(271),r(281),r(282),r(284),r(192),r(287),r(290),r(291),r(292),r(293),r(294),r(295),r(296),r(297),r(298),r(299),r(300),r(303),r(304),r(307),r(310),r(311),r(312),r(313),r(314),r(316),r(317),r(318),r(319),r(320),r(321),r(322),r(323),r(324),r(325),r(326),r(327),r(328),r(329),r(330),r(331),r(332),r(333),r(334),r(335),r(336),r(337),r(338),r(339),r(340),r(341),r(342),r(343),r(344),r(345),r(346),r(347),r(348),r(349),r(350),r(351),r(352),r(353),r(354),r(355),r(356),r(357),r(358),r(359),r(360),r(361),r(362),r(363),r(364),r(365),r(366),r(367),r(368),r(369),r(370),r(371),r(372),r(373),r(374),r(375),r(376),r(377),r(378),r(379),r(380),r(381),r(382),r(383),r(384),r(385),r(386),r(387),r(388),r(389),r(390),r(391),r(392),r(393),r(394),r(395),r(396),r(397),r(398),r(236);var i=r(21),a=r.n(i),n=r(0);async function onLoadedAsync(){try{let e=await new a.a((e=>{chrome.tabs.query({url:["https://trello.com/b/*","https://trello.com/c/*"],active:!0,lastFocusedWindow:!0},(t=>e(t)))}));if(e.length>0){for(let t of e)chrome.tabs.sendMessage(t.id,{type:n.p.SwitchSchedulerShown});return void window.close()}}catch(e){}r(1491)}document.addEventListener("DOMContentLoaded",onLoadedAsync),window.addEventListener("beforeunload",(()=>{document.removeEventListener("DOMContentLoaded",onLoadedAsync)}))},1491:function(e,t,r){"use strict";r.r(t);var i=r(143),a=r(216),n=r(217),o=r(5),s=r.n(o),l=r(6),d=r.n(l),c=r(9),u=r.n(c),h=r(11),_=r.n(h),m=r(8),p=r.n(m),E=r(4),f=r.n(E),y=r(2),C=r.n(y),T=r(3),g=r.n(T),S=r(14),D=r.n(S),v=r(94),A=r.n(v),b=r(30),I=r.n(b),R=r(15),k=r.n(R),O=r(55),w=r.n(O),L=r(0),N=r(1),P=r(162);function _getDecoratorsApi(){_getDecoratorsApi=function(){return e};var e={elementsDefinitionOrder:[["method"],["field"]],initializeInstanceElements:function(e,t){var r;C()(r=["method","field"]).call(r,(function(r){C()(t).call(t,(function(t){t.kind===r&&"own"===t.placement&&this.defineClassElement(e,t)}),this)}),this)},initializeClassElements:function(e,t){var r,i=e.prototype;C()(r=["method","field"]).call(r,(function(r){C()(t).call(t,(function(t){var a=t.placement;if(t.kind===r&&("static"===a||"prototype"===a)){var n="static"===a?e:i;this.defineClassElement(n,t)}}),this)}),this)},defineClassElement:function(e,t){var r=t.descriptor;if("field"===t.kind){var i=t.initializer;r={enumerable:r.enumerable,writable:r.writable,configurable:r.configurable,value:void 0===i?void 0:i.call(e)}}f()(e,t.key,r)},decorateClass:function(e,t){var r=[],i=[],a={static:[],prototype:[],own:[]};if(C()(e).call(e,(function(e){this.addElementPlacement(e,a)}),this),C()(e).call(e,(function(e){if(!_hasDecorators(e))return r.push(e);var t=this.decorateElement(e,a);r.push(t.element),r.push.apply(r,t.extras),i.push.apply(i,t.finishers)}),this),!t)return{elements:r,finishers:i};var n=this.decorateConstructor(r,t);return i.push.apply(i,n.finishers),n.finishers=i,n},addElementPlacement:function(e,t,r){var i=t[e.placement];if(!r&&-1!==p()(i).call(i,e.key))throw new TypeError("Duplicated element ("+e.key+")");i.push(e.key)},decorateElement:function(e,t){for(var r=[],i=[],a=e.decorators,n=a.length-1;n>=0;n--){var o=t[e.placement];_()(o).call(o,p()(o).call(o,e.key),1);var s=this.fromElementDescriptor(e),l=this.toElementFinisherExtras((0,a[n])(s)||s);e=l.element,this.addElementPlacement(e,t),l.finisher&&i.push(l.finisher);var d=l.extras;if(d){for(var c=0;c<d.length;c++)this.addElementPlacement(d[c],t);r.push.apply(r,d)}}return{element:e,finishers:i,extras:r}},decorateConstructor:function(e,t){for(var r=[],i=t.length-1;i>=0;i--){var a=this.fromClassDescriptor(e),n=this.toClassDescriptor((0,t[i])(a)||a);if(void 0!==n.finisher&&r.push(n.finisher),void 0!==n.elements){e=n.elements;for(var o=0;o<e.length-1;o++)for(var s=o+1;s<e.length;s++)if(e[o].key===e[s].key&&e[o].placement===e[s].placement)throw new TypeError("Duplicated element ("+e[o].key+")")}}return{elements:e,finishers:r}},fromElementDescriptor:function(e){var t={kind:e.kind,key:e.key,placement:e.placement,descriptor:e.descriptor};return f()(t,u.a,{value:"Descriptor",configurable:!0}),"field"===e.kind&&(t.initializer=e.initializer),t},toElementDescriptors:function(e){var t;if(void 0!==e)return g()(t=k()(e)).call(t,(function(e){var t=this.toElementDescriptor(e);return this.disallowProperty(e,"finisher","An element descriptor"),this.disallowProperty(e,"extras","An element descriptor"),t}),this)},toElementDescriptor:function(e){var t=String(e.kind);if("method"!==t&&"field"!==t)throw new TypeError('An element descriptor\'s .kind property must be either "method" or "field", but a decorator created an element descriptor with .kind "'+t+'"');var r=_toPropertyKey(e.key),i=String(e.placement);if("static"!==i&&"prototype"!==i&&"own"!==i)throw new TypeError('An element descriptor\'s .placement property must be one of "static", "prototype" or "own", but a decorator created an element descriptor with .placement "'+i+'"');var a=e.descriptor;this.disallowProperty(e,"elements","An element descriptor");var n={kind:t,key:r,placement:i,descriptor:d()({},a)};return"field"!==t?this.disallowProperty(e,"initializer","A method descriptor"):(this.disallowProperty(a,"get","The property descriptor of a field descriptor"),this.disallowProperty(a,"set","The property descriptor of a field descriptor"),this.disallowProperty(a,"value","The property descriptor of a field descriptor"),n.initializer=e.initializer),n},toElementFinisherExtras:function(e){return{element:this.toElementDescriptor(e),finisher:_optionalCallableProperty(e,"finisher"),extras:this.toElementDescriptors(e.extras)}},fromClassDescriptor:function(e){var t={kind:"class",elements:g()(e).call(e,this.fromElementDescriptor,this)};return f()(t,u.a,{value:"Descriptor",configurable:!0}),t},toClassDescriptor:function(e){var t=String(e.kind);if("class"!==t)throw new TypeError('A class descriptor\'s .kind property must be "class", but a decorator created a class descriptor with .kind "'+t+'"');this.disallowProperty(e,"key","A class descriptor"),this.disallowProperty(e,"placement","A class descriptor"),this.disallowProperty(e,"descriptor","A class descriptor"),this.disallowProperty(e,"initializer","A class descriptor"),this.disallowProperty(e,"extras","A class descriptor");var r=_optionalCallableProperty(e,"finisher");return{elements:this.toElementDescriptors(e.elements),finisher:r}},runClassFinishers:function(e,t){for(var r=0;r<t.length;r++){var i=(0,t[r])(e);if(void 0!==i){if("function"!=typeof i)throw new TypeError("Finishers must return a constructor.");e=i}}return e},disallowProperty:function(e,t,r){if(void 0!==e[t])throw new TypeError(r+" can't have a ."+t+" property.")}};return e}function _createElementDescriptor(e){var t,r=_toPropertyKey(e.key);"method"===e.kind?t={value:e.value,writable:!0,configurable:!0,enumerable:!1}:"get"===e.kind?t={get:e.value,configurable:!0,enumerable:!1}:"set"===e.kind?t={set:e.value,configurable:!0,enumerable:!1}:"field"===e.kind&&(t={configurable:!0,writable:!0,enumerable:!0});var i={kind:"field"===e.kind?"field":"method",key:r,placement:e.static?"static":"field"===e.kind?"own":"prototype",descriptor:t};return e.decorators&&(i.decorators=e.decorators),"field"===e.kind&&(i.initializer=e.value),i}function _coalesceGetterSetter(e,t){void 0!==e.descriptor.get?t.descriptor.get=e.descriptor.get:t.descriptor.set=e.descriptor.set}function _hasDecorators(e){return e.decorators&&e.decorators.length}function _isDataDescriptor(e){return void 0!==e&&!(void 0===e.value&&void 0===e.writable)}function _optionalCallableProperty(e,t){var r=e[t];if(void 0!==r&&"function"!=typeof r)throw new TypeError("Expected '"+t+"' to be a function");return r}function _toPropertyKey(e){var t=function _toPrimitive(e,t){if("object"!=typeof e||null===e)return e;var r=e[D.a];if(void 0!==r){var i=r.call(e,t||"default");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}let M=function _decorate(e,t,r,i){var a,n=_getDecoratorsApi();if(i)for(var o=0;o<i.length;o++)n=i[o](n);var l=t((function initialize(e){n.initializeInstanceElements(e,d.elements)}),r),d=n.decorateClass(function _coalesceClassElements(e){for(var t=[],isSameElement=function(e){return"method"===e.kind&&e.key===a.key&&e.placement===a.placement},r=0;r<e.length;r++){var i,a=e[r];if("method"===a.kind&&(i=s()(t).call(t,isSameElement)))if(_isDataDescriptor(a.descriptor)||_isDataDescriptor(i.descriptor)){if(_hasDecorators(a)||_hasDecorators(i))throw new ReferenceError("Duplicated methods ("+a.key+") can't be decorated.");i.descriptor=a.descriptor}else{if(_hasDecorators(a)){if(_hasDecorators(i))throw new ReferenceError("Decorators can't be placed on different accessors with for the same property ("+a.key+").");i.decorators=a.decorators}_coalesceGetterSetter(a,i)}else t.push(a)}return t}(g()(a=l.d).call(a,_createElementDescriptor)),e);return n.initializeClassElements(l.F,d.elements),n.runClassFinishers(l.F,d.finishers)}([Object(N.Bb)(["$rootScope","$log","$window","$interval","$timeout","htmlHelperSrv"])],(function(e,t){return{F:class ChromePopupPlatformService extends t{constructor(t,r,i,a,n,o){super(t,r,i,a,n,o),e(this)}},d:[{kind:"method",key:"getTelemetryDataAsync",value:async function getTelemetryDataAsync(){let e=`un_${w()()}`;try{var t;if(localStorage.unauthorizedId&&I()(t=localStorage.unauthorizedId).call(t,"un_"))e=localStorage.unauthorizedId;else{try{await this.exchangeSiteDataAsync(L.o.LoadTelemetryData)}catch(e){}localStorage.unauthorizedId?e=localStorage.unauthorizedId:localStorage.unauthorizedId=e}localStorage.planywayUnauthorizedId=e,(async()=>{try{await this.exchangeSiteDataAsync(L.o.SaveTelemetryData)}catch(e){}})()}catch(e){this._$log.error("Planyway failed to get telemetry data:"),this._$log.error(e)}return{unauthorizedId:e,isInstallSent:!0}}},{kind:"method",key:"getAppStorageDataAsync",value:function getAppStorageDataAsync(){var e;let t;try{t=localStorage.appStorage&&JSON.parse(localStorage.appStorage)}catch(e){}return{isOnboardingGuyShown:!1,isLoginDialogShown:!1,flags:{telemetry:!0,...null===(e=t)||void 0===e?void 0:A()(e)}}}},{kind:"method",key:"getTrelloTokenAsync",value:function getTrelloTokenAsync(){return localStorage.trelloToken}},{kind:"method",key:"setTrelloTokenAsync",value:function setTrelloTokenAsync(e){e?localStorage.trelloToken=e:(localStorage.removeItem("trelloToken"),localStorage.removeItem("planywayToken")),(async()=>{try{await this.exchangeSiteDataAsync(L.o.SaveTrelloToken)}catch(e){}})()}},{kind:"method",key:"setMemberInfoAsync",value:function setMemberInfoAsync(e){try{localStorage.planywayMemberId=e.memberId,localStorage.memberId=e.memberId,localStorage.memberEmail=e.memberEmail,localStorage.memberName=e.memberName}catch(e){this._$log.error("Planyway failed to set member info:"),this._$log.error(e)}}}]}}),P.a);var B=r(161),F=r(219),G=r(220),U=r(222),H=r(112),Y=r(221);function BrowserPopupFeedbackScreenController_getDecoratorsApi(){BrowserPopupFeedbackScreenController_getDecoratorsApi=function(){return e};var e={elementsDefinitionOrder:[["method"],["field"]],initializeInstanceElements:function(e,t){var r;C()(r=["method","field"]).call(r,(function(r){C()(t).call(t,(function(t){t.kind===r&&"own"===t.placement&&this.defineClassElement(e,t)}),this)}),this)},initializeClassElements:function(e,t){var r,i=e.prototype;C()(r=["method","field"]).call(r,(function(r){C()(t).call(t,(function(t){var a=t.placement;if(t.kind===r&&("static"===a||"prototype"===a)){var n="static"===a?e:i;this.defineClassElement(n,t)}}),this)}),this)},defineClassElement:function(e,t){var r=t.descriptor;if("field"===t.kind){var i=t.initializer;r={enumerable:r.enumerable,writable:r.writable,configurable:r.configurable,value:void 0===i?void 0:i.call(e)}}f()(e,t.key,r)},decorateClass:function(e,t){var r=[],i=[],a={static:[],prototype:[],own:[]};if(C()(e).call(e,(function(e){this.addElementPlacement(e,a)}),this),C()(e).call(e,(function(e){if(!BrowserPopupFeedbackScreenController_hasDecorators(e))return r.push(e);var t=this.decorateElement(e,a);r.push(t.element),r.push.apply(r,t.extras),i.push.apply(i,t.finishers)}),this),!t)return{elements:r,finishers:i};var n=this.decorateConstructor(r,t);return i.push.apply(i,n.finishers),n.finishers=i,n},addElementPlacement:function(e,t,r){var i=t[e.placement];if(!r&&-1!==p()(i).call(i,e.key))throw new TypeError("Duplicated element ("+e.key+")");i.push(e.key)},decorateElement:function(e,t){for(var r=[],i=[],a=e.decorators,n=a.length-1;n>=0;n--){var o=t[e.placement];_()(o).call(o,p()(o).call(o,e.key),1);var s=this.fromElementDescriptor(e),l=this.toElementFinisherExtras((0,a[n])(s)||s);e=l.element,this.addElementPlacement(e,t),l.finisher&&i.push(l.finisher);var d=l.extras;if(d){for(var c=0;c<d.length;c++)this.addElementPlacement(d[c],t);r.push.apply(r,d)}}return{element:e,finishers:i,extras:r}},decorateConstructor:function(e,t){for(var r=[],i=t.length-1;i>=0;i--){var a=this.fromClassDescriptor(e),n=this.toClassDescriptor((0,t[i])(a)||a);if(void 0!==n.finisher&&r.push(n.finisher),void 0!==n.elements){e=n.elements;for(var o=0;o<e.length-1;o++)for(var s=o+1;s<e.length;s++)if(e[o].key===e[s].key&&e[o].placement===e[s].placement)throw new TypeError("Duplicated element ("+e[o].key+")")}}return{elements:e,finishers:r}},fromElementDescriptor:function(e){var t={kind:e.kind,key:e.key,placement:e.placement,descriptor:e.descriptor};return f()(t,u.a,{value:"Descriptor",configurable:!0}),"field"===e.kind&&(t.initializer=e.initializer),t},toElementDescriptors:function(e){var t;if(void 0!==e)return g()(t=k()(e)).call(t,(function(e){var t=this.toElementDescriptor(e);return this.disallowProperty(e,"finisher","An element descriptor"),this.disallowProperty(e,"extras","An element descriptor"),t}),this)},toElementDescriptor:function(e){var t=String(e.kind);if("method"!==t&&"field"!==t)throw new TypeError('An element descriptor\'s .kind property must be either "method" or "field", but a decorator created an element descriptor with .kind "'+t+'"');var r=BrowserPopupFeedbackScreenController_toPropertyKey(e.key),i=String(e.placement);if("static"!==i&&"prototype"!==i&&"own"!==i)throw new TypeError('An element descriptor\'s .placement property must be one of "static", "prototype" or "own", but a decorator created an element descriptor with .placement "'+i+'"');var a=e.descriptor;this.disallowProperty(e,"elements","An element descriptor");var n={kind:t,key:r,placement:i,descriptor:d()({},a)};return"field"!==t?this.disallowProperty(e,"initializer","A method descriptor"):(this.disallowProperty(a,"get","The property descriptor of a field descriptor"),this.disallowProperty(a,"set","The property descriptor of a field descriptor"),this.disallowProperty(a,"value","The property descriptor of a field descriptor"),n.initializer=e.initializer),n},toElementFinisherExtras:function(e){return{element:this.toElementDescriptor(e),finisher:BrowserPopupFeedbackScreenController_optionalCallableProperty(e,"finisher"),extras:this.toElementDescriptors(e.extras)}},fromClassDescriptor:function(e){var t={kind:"class",elements:g()(e).call(e,this.fromElementDescriptor,this)};return f()(t,u.a,{value:"Descriptor",configurable:!0}),t},toClassDescriptor:function(e){var t=String(e.kind);if("class"!==t)throw new TypeError('A class descriptor\'s .kind property must be "class", but a decorator created a class descriptor with .kind "'+t+'"');this.disallowProperty(e,"key","A class descriptor"),this.disallowProperty(e,"placement","A class descriptor"),this.disallowProperty(e,"descriptor","A class descriptor"),this.disallowProperty(e,"initializer","A class descriptor"),this.disallowProperty(e,"extras","A class descriptor");var r=BrowserPopupFeedbackScreenController_optionalCallableProperty(e,"finisher");return{elements:this.toElementDescriptors(e.elements),finisher:r}},runClassFinishers:function(e,t){for(var r=0;r<t.length;r++){var i=(0,t[r])(e);if(void 0!==i){if("function"!=typeof i)throw new TypeError("Finishers must return a constructor.");e=i}}return e},disallowProperty:function(e,t,r){if(void 0!==e[t])throw new TypeError(r+" can't have a ."+t+" property.")}};return e}function BrowserPopupFeedbackScreenController_createElementDescriptor(e){var t,r=BrowserPopupFeedbackScreenController_toPropertyKey(e.key);"method"===e.kind?t={value:e.value,writable:!0,configurable:!0,enumerable:!1}:"get"===e.kind?t={get:e.value,configurable:!0,enumerable:!1}:"set"===e.kind?t={set:e.value,configurable:!0,enumerable:!1}:"field"===e.kind&&(t={configurable:!0,writable:!0,enumerable:!0});var i={kind:"field"===e.kind?"field":"method",key:r,placement:e.static?"static":"field"===e.kind?"own":"prototype",descriptor:t};return e.decorators&&(i.decorators=e.decorators),"field"===e.kind&&(i.initializer=e.value),i}function BrowserPopupFeedbackScreenController_coalesceGetterSetter(e,t){void 0!==e.descriptor.get?t.descriptor.get=e.descriptor.get:t.descriptor.set=e.descriptor.set}function BrowserPopupFeedbackScreenController_hasDecorators(e){return e.decorators&&e.decorators.length}function BrowserPopupFeedbackScreenController_isDataDescriptor(e){return void 0!==e&&!(void 0===e.value&&void 0===e.writable)}function BrowserPopupFeedbackScreenController_optionalCallableProperty(e,t){var r=e[t];if(void 0!==r&&"function"!=typeof r)throw new TypeError("Expected '"+t+"' to be a function");return r}function BrowserPopupFeedbackScreenController_toPropertyKey(e){var t=function BrowserPopupFeedbackScreenController_toPrimitive(e,t){if("object"!=typeof e||null===e)return e;var r=e[D.a];if(void 0!==r){var i=r.call(e,t||"default");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}let W=function BrowserPopupFeedbackScreenController_decorate(e,t,r,i){var a,n=BrowserPopupFeedbackScreenController_getDecoratorsApi();if(i)for(var o=0;o<i.length;o++)n=i[o](n);var l=t((function initialize(e){n.initializeInstanceElements(e,d.elements)}),r),d=n.decorateClass(function BrowserPopupFeedbackScreenController_coalesceClassElements(e){for(var t=[],isSameElement=function(e){return"method"===e.kind&&e.key===a.key&&e.placement===a.placement},r=0;r<e.length;r++){var i,a=e[r];if("method"===a.kind&&(i=s()(t).call(t,isSameElement)))if(BrowserPopupFeedbackScreenController_isDataDescriptor(a.descriptor)||BrowserPopupFeedbackScreenController_isDataDescriptor(i.descriptor)){if(BrowserPopupFeedbackScreenController_hasDecorators(a)||BrowserPopupFeedbackScreenController_hasDecorators(i))throw new ReferenceError("Duplicated methods ("+a.key+") can't be decorated.");i.descriptor=a.descriptor}else{if(BrowserPopupFeedbackScreenController_hasDecorators(a)){if(BrowserPopupFeedbackScreenController_hasDecorators(i))throw new ReferenceError("Decorators can't be placed on different accessors with for the same property ("+a.key+").");i.decorators=a.decorators}BrowserPopupFeedbackScreenController_coalesceGetterSetter(a,i)}else t.push(a)}return t}(g()(a=l.d).call(a,BrowserPopupFeedbackScreenController_createElementDescriptor)),e);return n.initializeClassElements(l.F,d.elements),n.runClassFinishers(l.F,d.finishers)}([Object(N.Bb)(["$scope","$mdSidenav","backendSrv","telemetrySrv"])],(function(e){return{F:class BrowserPopupFeedbackScreenController{constructor(t,r,i,a){e(this),this._$scope=t,this._$mdSidenav=r,this._backendSrv=i,this._telemetrySrv=a,this._memberId=localStorage.memberId||localStorage.lastFeedbackId}},d:[{kind:"get",static:!0,key:"controllerName",value:function controllerName(){return"browserPopupFeedbackScreenCtrl"}},{kind:"get",key:"isBusy",value:function isBusy(){return this._isBusy}},{kind:"set",key:"isBusy",value:function isBusy(e){this._$scope.$evalAsync((()=>this._isBusy=e))}},{kind:"get",key:"isMemberInfoLoaded",value:function isMemberInfoLoaded(){return this._memberId&&this.feedbackData.memberName&&this.feedbackData.memberEmail}},{kind:"get",key:"feedbackData",value:function feedbackData(){return this._feedbackData||(this._feedbackData={memberName:localStorage.memberName||localStorage.lastFeedbackName,memberEmail:localStorage.memberEmail||localStorage.lastFeedbackEmail,get message(){return localStorage.unsentFeedbackMessage||""},set message(e){e?localStorage.unsentFeedbackMessage=e:localStorage.removeItem("unsentFeedbackMessage")}}),this._feedbackData}},{kind:"set",key:"feedbackData",value:function feedbackData(e){this._feedbackData=e}},{kind:"get",key:"feedbackForm",value:function feedbackForm(){return this._feedbackForm}},{kind:"set",key:"feedbackForm",value:function feedbackForm(e){this._feedbackForm=e}},{kind:"method",key:"navigateToMainScreen",value:function navigateToMainScreen(){let e=this._$mdSidenav("feedbackSidenav");e.isOpen()&&e.toggle()}},{kind:"method",key:"sendFeedbackAsync",value:async function sendFeedbackAsync(){if(this.isBusy||!this.feedbackForm.$valid)return;this._telemetrySrv.logSingleEvent(L.X.GeneralEvents.FeedbackSent),this.isBusy=!0,localStorage.lastFeedbackId=this._memberId,localStorage.lastFeedbackName=this.feedbackData.memberName,localStorage.lastFeedbackEmail=this.feedbackData.memberEmail,await this._backendSrv.sendFeedbackAsync({memberId:this._memberId,...this.feedbackData})&&(this.feedbackData.message=null,this.navigateToMainScreen()),this.isBusy=!1}}]}}));var $=r(27),z=r.n($);function BrowserPopupMainScreenController_getDecoratorsApi(){BrowserPopupMainScreenController_getDecoratorsApi=function(){return e};var e={elementsDefinitionOrder:[["method"],["field"]],initializeInstanceElements:function(e,t){var r;C()(r=["method","field"]).call(r,(function(r){C()(t).call(t,(function(t){t.kind===r&&"own"===t.placement&&this.defineClassElement(e,t)}),this)}),this)},initializeClassElements:function(e,t){var r,i=e.prototype;C()(r=["method","field"]).call(r,(function(r){C()(t).call(t,(function(t){var a=t.placement;if(t.kind===r&&("static"===a||"prototype"===a)){var n="static"===a?e:i;this.defineClassElement(n,t)}}),this)}),this)},defineClassElement:function(e,t){var r=t.descriptor;if("field"===t.kind){var i=t.initializer;r={enumerable:r.enumerable,writable:r.writable,configurable:r.configurable,value:void 0===i?void 0:i.call(e)}}f()(e,t.key,r)},decorateClass:function(e,t){var r=[],i=[],a={static:[],prototype:[],own:[]};if(C()(e).call(e,(function(e){this.addElementPlacement(e,a)}),this),C()(e).call(e,(function(e){if(!BrowserPopupMainScreenController_hasDecorators(e))return r.push(e);var t=this.decorateElement(e,a);r.push(t.element),r.push.apply(r,t.extras),i.push.apply(i,t.finishers)}),this),!t)return{elements:r,finishers:i};var n=this.decorateConstructor(r,t);return i.push.apply(i,n.finishers),n.finishers=i,n},addElementPlacement:function(e,t,r){var i=t[e.placement];if(!r&&-1!==p()(i).call(i,e.key))throw new TypeError("Duplicated element ("+e.key+")");i.push(e.key)},decorateElement:function(e,t){for(var r=[],i=[],a=e.decorators,n=a.length-1;n>=0;n--){var o=t[e.placement];_()(o).call(o,p()(o).call(o,e.key),1);var s=this.fromElementDescriptor(e),l=this.toElementFinisherExtras((0,a[n])(s)||s);e=l.element,this.addElementPlacement(e,t),l.finisher&&i.push(l.finisher);var d=l.extras;if(d){for(var c=0;c<d.length;c++)this.addElementPlacement(d[c],t);r.push.apply(r,d)}}return{element:e,finishers:i,extras:r}},decorateConstructor:function(e,t){for(var r=[],i=t.length-1;i>=0;i--){var a=this.fromClassDescriptor(e),n=this.toClassDescriptor((0,t[i])(a)||a);if(void 0!==n.finisher&&r.push(n.finisher),void 0!==n.elements){e=n.elements;for(var o=0;o<e.length-1;o++)for(var s=o+1;s<e.length;s++)if(e[o].key===e[s].key&&e[o].placement===e[s].placement)throw new TypeError("Duplicated element ("+e[o].key+")")}}return{elements:e,finishers:r}},fromElementDescriptor:function(e){var t={kind:e.kind,key:e.key,placement:e.placement,descriptor:e.descriptor};return f()(t,u.a,{value:"Descriptor",configurable:!0}),"field"===e.kind&&(t.initializer=e.initializer),t},toElementDescriptors:function(e){var t;if(void 0!==e)return g()(t=k()(e)).call(t,(function(e){var t=this.toElementDescriptor(e);return this.disallowProperty(e,"finisher","An element descriptor"),this.disallowProperty(e,"extras","An element descriptor"),t}),this)},toElementDescriptor:function(e){var t=String(e.kind);if("method"!==t&&"field"!==t)throw new TypeError('An element descriptor\'s .kind property must be either "method" or "field", but a decorator created an element descriptor with .kind "'+t+'"');var r=BrowserPopupMainScreenController_toPropertyKey(e.key),i=String(e.placement);if("static"!==i&&"prototype"!==i&&"own"!==i)throw new TypeError('An element descriptor\'s .placement property must be one of "static", "prototype" or "own", but a decorator created an element descriptor with .placement "'+i+'"');var a=e.descriptor;this.disallowProperty(e,"elements","An element descriptor");var n={kind:t,key:r,placement:i,descriptor:d()({},a)};return"field"!==t?this.disallowProperty(e,"initializer","A method descriptor"):(this.disallowProperty(a,"get","The property descriptor of a field descriptor"),this.disallowProperty(a,"set","The property descriptor of a field descriptor"),this.disallowProperty(a,"value","The property descriptor of a field descriptor"),n.initializer=e.initializer),n},toElementFinisherExtras:function(e){return{element:this.toElementDescriptor(e),finisher:BrowserPopupMainScreenController_optionalCallableProperty(e,"finisher"),extras:this.toElementDescriptors(e.extras)}},fromClassDescriptor:function(e){var t={kind:"class",elements:g()(e).call(e,this.fromElementDescriptor,this)};return f()(t,u.a,{value:"Descriptor",configurable:!0}),t},toClassDescriptor:function(e){var t=String(e.kind);if("class"!==t)throw new TypeError('A class descriptor\'s .kind property must be "class", but a decorator created a class descriptor with .kind "'+t+'"');this.disallowProperty(e,"key","A class descriptor"),this.disallowProperty(e,"placement","A class descriptor"),this.disallowProperty(e,"descriptor","A class descriptor"),this.disallowProperty(e,"initializer","A class descriptor"),this.disallowProperty(e,"extras","A class descriptor");var r=BrowserPopupMainScreenController_optionalCallableProperty(e,"finisher");return{elements:this.toElementDescriptors(e.elements),finisher:r}},runClassFinishers:function(e,t){for(var r=0;r<t.length;r++){var i=(0,t[r])(e);if(void 0!==i){if("function"!=typeof i)throw new TypeError("Finishers must return a constructor.");e=i}}return e},disallowProperty:function(e,t,r){if(void 0!==e[t])throw new TypeError(r+" can't have a ."+t+" property.")}};return e}function BrowserPopupMainScreenController_createElementDescriptor(e){var t,r=BrowserPopupMainScreenController_toPropertyKey(e.key);"method"===e.kind?t={value:e.value,writable:!0,configurable:!0,enumerable:!1}:"get"===e.kind?t={get:e.value,configurable:!0,enumerable:!1}:"set"===e.kind?t={set:e.value,configurable:!0,enumerable:!1}:"field"===e.kind&&(t={configurable:!0,writable:!0,enumerable:!0});var i={kind:"field"===e.kind?"field":"method",key:r,placement:e.static?"static":"field"===e.kind?"own":"prototype",descriptor:t};return e.decorators&&(i.decorators=e.decorators),"field"===e.kind&&(i.initializer=e.value),i}function BrowserPopupMainScreenController_coalesceGetterSetter(e,t){void 0!==e.descriptor.get?t.descriptor.get=e.descriptor.get:t.descriptor.set=e.descriptor.set}function BrowserPopupMainScreenController_hasDecorators(e){return e.decorators&&e.decorators.length}function BrowserPopupMainScreenController_isDataDescriptor(e){return void 0!==e&&!(void 0===e.value&&void 0===e.writable)}function BrowserPopupMainScreenController_optionalCallableProperty(e,t){var r=e[t];if(void 0!==r&&"function"!=typeof r)throw new TypeError("Expected '"+t+"' to be a function");return r}function BrowserPopupMainScreenController_toPropertyKey(e){var t=function BrowserPopupMainScreenController_toPrimitive(e,t){if("object"!=typeof e||null===e)return e;var r=e[D.a];if(void 0!==r){var i=r.call(e,t||"default");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}let V=function BrowserPopupMainScreenController_decorate(e,t,r,i){var a,n=BrowserPopupMainScreenController_getDecoratorsApi();if(i)for(var o=0;o<i.length;o++)n=i[o](n);var l=t((function initialize(e){n.initializeInstanceElements(e,d.elements)}),r),d=n.decorateClass(function BrowserPopupMainScreenController_coalesceClassElements(e){for(var t=[],isSameElement=function(e){return"method"===e.kind&&e.key===a.key&&e.placement===a.placement},r=0;r<e.length;r++){var i,a=e[r];if("method"===a.kind&&(i=s()(t).call(t,isSameElement)))if(BrowserPopupMainScreenController_isDataDescriptor(a.descriptor)||BrowserPopupMainScreenController_isDataDescriptor(i.descriptor)){if(BrowserPopupMainScreenController_hasDecorators(a)||BrowserPopupMainScreenController_hasDecorators(i))throw new ReferenceError("Duplicated methods ("+a.key+") can't be decorated.");i.descriptor=a.descriptor}else{if(BrowserPopupMainScreenController_hasDecorators(a)){if(BrowserPopupMainScreenController_hasDecorators(i))throw new ReferenceError("Decorators can't be placed on different accessors with for the same property ("+a.key+").");i.decorators=a.decorators}BrowserPopupMainScreenController_coalesceGetterSetter(a,i)}else t.push(a)}return t}(g()(a=l.d).call(a,BrowserPopupMainScreenController_createElementDescriptor)),e);return n.initializeClassElements(l.F,d.elements),n.runClassFinishers(l.F,d.finishers)}([Object(N.Bb)(["$log","$translate","$mdSidenav","platformSrv","telemetrySrv"])],(function(e){return{F:class BrowserPopupMainScreenController{constructor(t,r,i,a,n){e(this),this._$log=t,this._$translate=r,this._$mdSidenav=i,this._platformSrv=a,this._telemetrySrv=n}},d:[{kind:"get",static:!0,key:"controllerName",value:function controllerName(){return"browserPopupMainScreenCtrl"}},{kind:"get",key:"extensionVersion",value:function extensionVersion(){return this._platformSrv.getAppVersionShort()}},{kind:"get",key:"isAuthorized",value:function isAuthorized(){return!!localStorage.trelloToken}},{kind:"get",key:"goToTrelloLink",value:function goToTrelloLink(){return"https://trello.com/"}},{kind:"get",key:"rateUsLink",value:function rateUsLink(){return"https://chrome.google.com/webstore/detail/kkgaechmpjgbojahkofamdjkaklgbdkc/reviews"}},{kind:"method",key:"onGoToTrelloClick",value:function onGoToTrelloClick(){if(this.isAuthorized)this._telemetrySrv.logSingleEvent(L.X.PopupEvents.GoToTrelloClicked);else{this._telemetrySrv.logSingleEvent(L.X.PopupEvents.SignInWithTrelloClicked);try{let e=localStorage.appStorage&&JSON.parse(localStorage.appStorage);localStorage.appStorage=z()({...e,isOnboardingGuyShown:!1})}catch(e){}}}},{kind:"method",key:"onRateUsClick",value:function onRateUsClick(){this._telemetrySrv.logSingleEvent(L.X.PopupEvents.RateUsClicked)}},{kind:"method",key:"navigateToFeedbackScreen",value:function navigateToFeedbackScreen(){let e=this._$mdSidenav("feedbackSidenav");e.isOpen()||(this._telemetrySrv.logSingleEvent(L.X.GeneralEvents.FeedbackOpened,{where:L.Y.BrowserPopup}),e.toggle())}}]}}));var x=r(13),j=r.n(x),K=r(758),X=r.n(K);function BrowserPopupFeedbackScreenDirective_getDecoratorsApi(){BrowserPopupFeedbackScreenDirective_getDecoratorsApi=function(){return e};var e={elementsDefinitionOrder:[["method"],["field"]],initializeInstanceElements:function(e,t){var r;C()(r=["method","field"]).call(r,(function(r){C()(t).call(t,(function(t){t.kind===r&&"own"===t.placement&&this.defineClassElement(e,t)}),this)}),this)},initializeClassElements:function(e,t){var r,i=e.prototype;C()(r=["method","field"]).call(r,(function(r){C()(t).call(t,(function(t){var a=t.placement;if(t.kind===r&&("static"===a||"prototype"===a)){var n="static"===a?e:i;this.defineClassElement(n,t)}}),this)}),this)},defineClassElement:function(e,t){var r=t.descriptor;if("field"===t.kind){var i=t.initializer;r={enumerable:r.enumerable,writable:r.writable,configurable:r.configurable,value:void 0===i?void 0:i.call(e)}}f()(e,t.key,r)},decorateClass:function(e,t){var r=[],i=[],a={static:[],prototype:[],own:[]};if(C()(e).call(e,(function(e){this.addElementPlacement(e,a)}),this),C()(e).call(e,(function(e){if(!BrowserPopupFeedbackScreenDirective_hasDecorators(e))return r.push(e);var t=this.decorateElement(e,a);r.push(t.element),r.push.apply(r,t.extras),i.push.apply(i,t.finishers)}),this),!t)return{elements:r,finishers:i};var n=this.decorateConstructor(r,t);return i.push.apply(i,n.finishers),n.finishers=i,n},addElementPlacement:function(e,t,r){var i=t[e.placement];if(!r&&-1!==p()(i).call(i,e.key))throw new TypeError("Duplicated element ("+e.key+")");i.push(e.key)},decorateElement:function(e,t){for(var r=[],i=[],a=e.decorators,n=a.length-1;n>=0;n--){var o=t[e.placement];_()(o).call(o,p()(o).call(o,e.key),1);var s=this.fromElementDescriptor(e),l=this.toElementFinisherExtras((0,a[n])(s)||s);e=l.element,this.addElementPlacement(e,t),l.finisher&&i.push(l.finisher);var d=l.extras;if(d){for(var c=0;c<d.length;c++)this.addElementPlacement(d[c],t);r.push.apply(r,d)}}return{element:e,finishers:i,extras:r}},decorateConstructor:function(e,t){for(var r=[],i=t.length-1;i>=0;i--){var a=this.fromClassDescriptor(e),n=this.toClassDescriptor((0,t[i])(a)||a);if(void 0!==n.finisher&&r.push(n.finisher),void 0!==n.elements){e=n.elements;for(var o=0;o<e.length-1;o++)for(var s=o+1;s<e.length;s++)if(e[o].key===e[s].key&&e[o].placement===e[s].placement)throw new TypeError("Duplicated element ("+e[o].key+")")}}return{elements:e,finishers:r}},fromElementDescriptor:function(e){var t={kind:e.kind,key:e.key,placement:e.placement,descriptor:e.descriptor};return f()(t,u.a,{value:"Descriptor",configurable:!0}),"field"===e.kind&&(t.initializer=e.initializer),t},toElementDescriptors:function(e){var t;if(void 0!==e)return g()(t=k()(e)).call(t,(function(e){var t=this.toElementDescriptor(e);return this.disallowProperty(e,"finisher","An element descriptor"),this.disallowProperty(e,"extras","An element descriptor"),t}),this)},toElementDescriptor:function(e){var t=String(e.kind);if("method"!==t&&"field"!==t)throw new TypeError('An element descriptor\'s .kind property must be either "method" or "field", but a decorator created an element descriptor with .kind "'+t+'"');var r=BrowserPopupFeedbackScreenDirective_toPropertyKey(e.key),i=String(e.placement);if("static"!==i&&"prototype"!==i&&"own"!==i)throw new TypeError('An element descriptor\'s .placement property must be one of "static", "prototype" or "own", but a decorator created an element descriptor with .placement "'+i+'"');var a=e.descriptor;this.disallowProperty(e,"elements","An element descriptor");var n={kind:t,key:r,placement:i,descriptor:d()({},a)};return"field"!==t?this.disallowProperty(e,"initializer","A method descriptor"):(this.disallowProperty(a,"get","The property descriptor of a field descriptor"),this.disallowProperty(a,"set","The property descriptor of a field descriptor"),this.disallowProperty(a,"value","The property descriptor of a field descriptor"),n.initializer=e.initializer),n},toElementFinisherExtras:function(e){return{element:this.toElementDescriptor(e),finisher:BrowserPopupFeedbackScreenDirective_optionalCallableProperty(e,"finisher"),extras:this.toElementDescriptors(e.extras)}},fromClassDescriptor:function(e){var t={kind:"class",elements:g()(e).call(e,this.fromElementDescriptor,this)};return f()(t,u.a,{value:"Descriptor",configurable:!0}),t},toClassDescriptor:function(e){var t=String(e.kind);if("class"!==t)throw new TypeError('A class descriptor\'s .kind property must be "class", but a decorator created a class descriptor with .kind "'+t+'"');this.disallowProperty(e,"key","A class descriptor"),this.disallowProperty(e,"placement","A class descriptor"),this.disallowProperty(e,"descriptor","A class descriptor"),this.disallowProperty(e,"initializer","A class descriptor"),this.disallowProperty(e,"extras","A class descriptor");var r=BrowserPopupFeedbackScreenDirective_optionalCallableProperty(e,"finisher");return{elements:this.toElementDescriptors(e.elements),finisher:r}},runClassFinishers:function(e,t){for(var r=0;r<t.length;r++){var i=(0,t[r])(e);if(void 0!==i){if("function"!=typeof i)throw new TypeError("Finishers must return a constructor.");e=i}}return e},disallowProperty:function(e,t,r){if(void 0!==e[t])throw new TypeError(r+" can't have a ."+t+" property.")}};return e}function BrowserPopupFeedbackScreenDirective_createElementDescriptor(e){var t,r=BrowserPopupFeedbackScreenDirective_toPropertyKey(e.key);"method"===e.kind?t={value:e.value,writable:!0,configurable:!0,enumerable:!1}:"get"===e.kind?t={get:e.value,configurable:!0,enumerable:!1}:"set"===e.kind?t={set:e.value,configurable:!0,enumerable:!1}:"field"===e.kind&&(t={configurable:!0,writable:!0,enumerable:!0});var i={kind:"field"===e.kind?"field":"method",key:r,placement:e.static?"static":"field"===e.kind?"own":"prototype",descriptor:t};return e.decorators&&(i.decorators=e.decorators),"field"===e.kind&&(i.initializer=e.value),i}function BrowserPopupFeedbackScreenDirective_coalesceGetterSetter(e,t){void 0!==e.descriptor.get?t.descriptor.get=e.descriptor.get:t.descriptor.set=e.descriptor.set}function BrowserPopupFeedbackScreenDirective_hasDecorators(e){return e.decorators&&e.decorators.length}function BrowserPopupFeedbackScreenDirective_isDataDescriptor(e){return void 0!==e&&!(void 0===e.value&&void 0===e.writable)}function BrowserPopupFeedbackScreenDirective_optionalCallableProperty(e,t){var r=e[t];if(void 0!==r&&"function"!=typeof r)throw new TypeError("Expected '"+t+"' to be a function");return r}function BrowserPopupFeedbackScreenDirective_toPropertyKey(e){var t=function BrowserPopupFeedbackScreenDirective_toPrimitive(e,t){if("object"!=typeof e||null===e)return e;var r=e[D.a];if(void 0!==r){var i=r.call(e,t||"default");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}let q=function BrowserPopupFeedbackScreenDirective_decorate(e,t,r,i){var a,n=BrowserPopupFeedbackScreenDirective_getDecoratorsApi();if(i)for(var o=0;o<i.length;o++)n=i[o](n);var l=t((function initialize(e){n.initializeInstanceElements(e,d.elements)}),r),d=n.decorateClass(function BrowserPopupFeedbackScreenDirective_coalesceClassElements(e){for(var t=[],isSameElement=function(e){return"method"===e.kind&&e.key===a.key&&e.placement===a.placement},r=0;r<e.length;r++){var i,a=e[r];if("method"===a.kind&&(i=s()(t).call(t,isSameElement)))if(BrowserPopupFeedbackScreenDirective_isDataDescriptor(a.descriptor)||BrowserPopupFeedbackScreenDirective_isDataDescriptor(i.descriptor)){if(BrowserPopupFeedbackScreenDirective_hasDecorators(a)||BrowserPopupFeedbackScreenDirective_hasDecorators(i))throw new ReferenceError("Duplicated methods ("+a.key+") can't be decorated.");i.descriptor=a.descriptor}else{if(BrowserPopupFeedbackScreenDirective_hasDecorators(a)){if(BrowserPopupFeedbackScreenDirective_hasDecorators(i))throw new ReferenceError("Decorators can't be placed on different accessors with for the same property ("+a.key+").");i.decorators=a.decorators}BrowserPopupFeedbackScreenDirective_coalesceGetterSetter(a,i)}else t.push(a)}return t}(g()(a=l.d).call(a,BrowserPopupFeedbackScreenDirective_createElementDescriptor)),e);return n.initializeClassElements(l.F,d.elements),n.runClassFinishers(l.F,d.finishers)}(null,(function(e){class BrowserPopupFeedbackScreenDirective{constructor(){e(this),this.templateUrl=X.a,this.restrict="E",this.controller=W.controllerName,this.controllerAs="$ctrl",this.scope={}}}return{F:BrowserPopupFeedbackScreenDirective,d:[{kind:"get",static:!0,key:"directiveName",value:function directiveName(){return"pwBrowserPopupFeedbackScreen"}},{kind:"method",decorators:[Object(N.Bb)([])],static:!0,key:"create",value:function create(){return new BrowserPopupFeedbackScreenDirective}},{kind:"method",key:"link",value:function link(e,t){t.keypress((e=>{if(e.which===L.t.Enter||e.which===L.t.Enter2){let r=j()(e.target);if(r.is("input:focus, textarea:focus"))return void(r.hasClass("pw-js-multiline-textarea")||t.trigger("focus"));e.preventDefault(),e.stopPropagation(),j()(".pw-js-dialog-primary-btn",t).trigger("click")}}))}}]}}));var J=r(759),Z=r.n(J);function BrowserPopupMainScreenDirective_getDecoratorsApi(){BrowserPopupMainScreenDirective_getDecoratorsApi=function(){return e};var e={elementsDefinitionOrder:[["method"],["field"]],initializeInstanceElements:function(e,t){var r;C()(r=["method","field"]).call(r,(function(r){C()(t).call(t,(function(t){t.kind===r&&"own"===t.placement&&this.defineClassElement(e,t)}),this)}),this)},initializeClassElements:function(e,t){var r,i=e.prototype;C()(r=["method","field"]).call(r,(function(r){C()(t).call(t,(function(t){var a=t.placement;if(t.kind===r&&("static"===a||"prototype"===a)){var n="static"===a?e:i;this.defineClassElement(n,t)}}),this)}),this)},defineClassElement:function(e,t){var r=t.descriptor;if("field"===t.kind){var i=t.initializer;r={enumerable:r.enumerable,writable:r.writable,configurable:r.configurable,value:void 0===i?void 0:i.call(e)}}f()(e,t.key,r)},decorateClass:function(e,t){var r=[],i=[],a={static:[],prototype:[],own:[]};if(C()(e).call(e,(function(e){this.addElementPlacement(e,a)}),this),C()(e).call(e,(function(e){if(!BrowserPopupMainScreenDirective_hasDecorators(e))return r.push(e);var t=this.decorateElement(e,a);r.push(t.element),r.push.apply(r,t.extras),i.push.apply(i,t.finishers)}),this),!t)return{elements:r,finishers:i};var n=this.decorateConstructor(r,t);return i.push.apply(i,n.finishers),n.finishers=i,n},addElementPlacement:function(e,t,r){var i=t[e.placement];if(!r&&-1!==p()(i).call(i,e.key))throw new TypeError("Duplicated element ("+e.key+")");i.push(e.key)},decorateElement:function(e,t){for(var r=[],i=[],a=e.decorators,n=a.length-1;n>=0;n--){var o=t[e.placement];_()(o).call(o,p()(o).call(o,e.key),1);var s=this.fromElementDescriptor(e),l=this.toElementFinisherExtras((0,a[n])(s)||s);e=l.element,this.addElementPlacement(e,t),l.finisher&&i.push(l.finisher);var d=l.extras;if(d){for(var c=0;c<d.length;c++)this.addElementPlacement(d[c],t);r.push.apply(r,d)}}return{element:e,finishers:i,extras:r}},decorateConstructor:function(e,t){for(var r=[],i=t.length-1;i>=0;i--){var a=this.fromClassDescriptor(e),n=this.toClassDescriptor((0,t[i])(a)||a);if(void 0!==n.finisher&&r.push(n.finisher),void 0!==n.elements){e=n.elements;for(var o=0;o<e.length-1;o++)for(var s=o+1;s<e.length;s++)if(e[o].key===e[s].key&&e[o].placement===e[s].placement)throw new TypeError("Duplicated element ("+e[o].key+")")}}return{elements:e,finishers:r}},fromElementDescriptor:function(e){var t={kind:e.kind,key:e.key,placement:e.placement,descriptor:e.descriptor};return f()(t,u.a,{value:"Descriptor",configurable:!0}),"field"===e.kind&&(t.initializer=e.initializer),t},toElementDescriptors:function(e){var t;if(void 0!==e)return g()(t=k()(e)).call(t,(function(e){var t=this.toElementDescriptor(e);return this.disallowProperty(e,"finisher","An element descriptor"),this.disallowProperty(e,"extras","An element descriptor"),t}),this)},toElementDescriptor:function(e){var t=String(e.kind);if("method"!==t&&"field"!==t)throw new TypeError('An element descriptor\'s .kind property must be either "method" or "field", but a decorator created an element descriptor with .kind "'+t+'"');var r=BrowserPopupMainScreenDirective_toPropertyKey(e.key),i=String(e.placement);if("static"!==i&&"prototype"!==i&&"own"!==i)throw new TypeError('An element descriptor\'s .placement property must be one of "static", "prototype" or "own", but a decorator created an element descriptor with .placement "'+i+'"');var a=e.descriptor;this.disallowProperty(e,"elements","An element descriptor");var n={kind:t,key:r,placement:i,descriptor:d()({},a)};return"field"!==t?this.disallowProperty(e,"initializer","A method descriptor"):(this.disallowProperty(a,"get","The property descriptor of a field descriptor"),this.disallowProperty(a,"set","The property descriptor of a field descriptor"),this.disallowProperty(a,"value","The property descriptor of a field descriptor"),n.initializer=e.initializer),n},toElementFinisherExtras:function(e){return{element:this.toElementDescriptor(e),finisher:BrowserPopupMainScreenDirective_optionalCallableProperty(e,"finisher"),extras:this.toElementDescriptors(e.extras)}},fromClassDescriptor:function(e){var t={kind:"class",elements:g()(e).call(e,this.fromElementDescriptor,this)};return f()(t,u.a,{value:"Descriptor",configurable:!0}),t},toClassDescriptor:function(e){var t=String(e.kind);if("class"!==t)throw new TypeError('A class descriptor\'s .kind property must be "class", but a decorator created a class descriptor with .kind "'+t+'"');this.disallowProperty(e,"key","A class descriptor"),this.disallowProperty(e,"placement","A class descriptor"),this.disallowProperty(e,"descriptor","A class descriptor"),this.disallowProperty(e,"initializer","A class descriptor"),this.disallowProperty(e,"extras","A class descriptor");var r=BrowserPopupMainScreenDirective_optionalCallableProperty(e,"finisher");return{elements:this.toElementDescriptors(e.elements),finisher:r}},runClassFinishers:function(e,t){for(var r=0;r<t.length;r++){var i=(0,t[r])(e);if(void 0!==i){if("function"!=typeof i)throw new TypeError("Finishers must return a constructor.");e=i}}return e},disallowProperty:function(e,t,r){if(void 0!==e[t])throw new TypeError(r+" can't have a ."+t+" property.")}};return e}function BrowserPopupMainScreenDirective_createElementDescriptor(e){var t,r=BrowserPopupMainScreenDirective_toPropertyKey(e.key);"method"===e.kind?t={value:e.value,writable:!0,configurable:!0,enumerable:!1}:"get"===e.kind?t={get:e.value,configurable:!0,enumerable:!1}:"set"===e.kind?t={set:e.value,configurable:!0,enumerable:!1}:"field"===e.kind&&(t={configurable:!0,writable:!0,enumerable:!0});var i={kind:"field"===e.kind?"field":"method",key:r,placement:e.static?"static":"field"===e.kind?"own":"prototype",descriptor:t};return e.decorators&&(i.decorators=e.decorators),"field"===e.kind&&(i.initializer=e.value),i}function BrowserPopupMainScreenDirective_coalesceGetterSetter(e,t){void 0!==e.descriptor.get?t.descriptor.get=e.descriptor.get:t.descriptor.set=e.descriptor.set}function BrowserPopupMainScreenDirective_hasDecorators(e){return e.decorators&&e.decorators.length}function BrowserPopupMainScreenDirective_isDataDescriptor(e){return void 0!==e&&!(void 0===e.value&&void 0===e.writable)}function BrowserPopupMainScreenDirective_optionalCallableProperty(e,t){var r=e[t];if(void 0!==r&&"function"!=typeof r)throw new TypeError("Expected '"+t+"' to be a function");return r}function BrowserPopupMainScreenDirective_toPropertyKey(e){var t=function BrowserPopupMainScreenDirective_toPrimitive(e,t){if("object"!=typeof e||null===e)return e;var r=e[D.a];if(void 0!==r){var i=r.call(e,t||"default");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}let Q=function BrowserPopupMainScreenDirective_decorate(e,t,r,i){var a,n=BrowserPopupMainScreenDirective_getDecoratorsApi();if(i)for(var o=0;o<i.length;o++)n=i[o](n);var l=t((function initialize(e){n.initializeInstanceElements(e,d.elements)}),r),d=n.decorateClass(function BrowserPopupMainScreenDirective_coalesceClassElements(e){for(var t=[],isSameElement=function(e){return"method"===e.kind&&e.key===a.key&&e.placement===a.placement},r=0;r<e.length;r++){var i,a=e[r];if("method"===a.kind&&(i=s()(t).call(t,isSameElement)))if(BrowserPopupMainScreenDirective_isDataDescriptor(a.descriptor)||BrowserPopupMainScreenDirective_isDataDescriptor(i.descriptor)){if(BrowserPopupMainScreenDirective_hasDecorators(a)||BrowserPopupMainScreenDirective_hasDecorators(i))throw new ReferenceError("Duplicated methods ("+a.key+") can't be decorated.");i.descriptor=a.descriptor}else{if(BrowserPopupMainScreenDirective_hasDecorators(a)){if(BrowserPopupMainScreenDirective_hasDecorators(i))throw new ReferenceError("Decorators can't be placed on different accessors with for the same property ("+a.key+").");i.decorators=a.decorators}BrowserPopupMainScreenDirective_coalesceGetterSetter(a,i)}else t.push(a)}return t}(g()(a=l.d).call(a,BrowserPopupMainScreenDirective_createElementDescriptor)),e);return n.initializeClassElements(l.F,d.elements),n.runClassFinishers(l.F,d.finishers)}(null,(function(e){class BrowserPopupMainScreenDirective{constructor(t,r,i,a,n){e(this),this._$log=t,this._$window=r,this._$translate=i,this._appCommonSrv=a,this._telemetrySrv=n,this.templateUrl=Z.a,this.restrict="E",this.controller=V.controllerName,this.controllerAs="$ctrl",this.scope={}}}return{F:BrowserPopupMainScreenDirective,d:[{kind:"get",static:!0,key:"directiveName",value:function directiveName(){return"pwBrowserPopupMainScreen"}},{kind:"method",decorators:[Object(N.Bb)(["$log","$window","$translate","appCommonSrv","telemetrySrv"])],static:!0,key:"create",value:function create(...e){return new BrowserPopupMainScreenDirective(...e)}},{kind:"method",key:"link",value:async function link(){this._telemetrySrv.logSingleEvent(L.X.PopupEvents.Loaded);try{let e=this._appCommonSrv.getLanguage();this._$translate.negotiateLocale(e)&&await this._$translate.use(e),await this._$translate("MISC.PLANYWAY")}catch(e){this._$log.error("Planyway failed to set current language:"),this._$log.error(e),this._telemetrySrv.logError("Planyway failed to set current language",e,{class:this.constructor.name,method:this.link.name})}}}]}}));function BrowserPopupNotificationDirective_getDecoratorsApi(){BrowserPopupNotificationDirective_getDecoratorsApi=function(){return e};var e={elementsDefinitionOrder:[["method"],["field"]],initializeInstanceElements:function(e,t){var r;C()(r=["method","field"]).call(r,(function(r){C()(t).call(t,(function(t){t.kind===r&&"own"===t.placement&&this.defineClassElement(e,t)}),this)}),this)},initializeClassElements:function(e,t){var r,i=e.prototype;C()(r=["method","field"]).call(r,(function(r){C()(t).call(t,(function(t){var a=t.placement;if(t.kind===r&&("static"===a||"prototype"===a)){var n="static"===a?e:i;this.defineClassElement(n,t)}}),this)}),this)},defineClassElement:function(e,t){var r=t.descriptor;if("field"===t.kind){var i=t.initializer;r={enumerable:r.enumerable,writable:r.writable,configurable:r.configurable,value:void 0===i?void 0:i.call(e)}}f()(e,t.key,r)},decorateClass:function(e,t){var r=[],i=[],a={static:[],prototype:[],own:[]};if(C()(e).call(e,(function(e){this.addElementPlacement(e,a)}),this),C()(e).call(e,(function(e){if(!BrowserPopupNotificationDirective_hasDecorators(e))return r.push(e);var t=this.decorateElement(e,a);r.push(t.element),r.push.apply(r,t.extras),i.push.apply(i,t.finishers)}),this),!t)return{elements:r,finishers:i};var n=this.decorateConstructor(r,t);return i.push.apply(i,n.finishers),n.finishers=i,n},addElementPlacement:function(e,t,r){var i=t[e.placement];if(!r&&-1!==p()(i).call(i,e.key))throw new TypeError("Duplicated element ("+e.key+")");i.push(e.key)},decorateElement:function(e,t){for(var r=[],i=[],a=e.decorators,n=a.length-1;n>=0;n--){var o=t[e.placement];_()(o).call(o,p()(o).call(o,e.key),1);var s=this.fromElementDescriptor(e),l=this.toElementFinisherExtras((0,a[n])(s)||s);e=l.element,this.addElementPlacement(e,t),l.finisher&&i.push(l.finisher);var d=l.extras;if(d){for(var c=0;c<d.length;c++)this.addElementPlacement(d[c],t);r.push.apply(r,d)}}return{element:e,finishers:i,extras:r}},decorateConstructor:function(e,t){for(var r=[],i=t.length-1;i>=0;i--){var a=this.fromClassDescriptor(e),n=this.toClassDescriptor((0,t[i])(a)||a);if(void 0!==n.finisher&&r.push(n.finisher),void 0!==n.elements){e=n.elements;for(var o=0;o<e.length-1;o++)for(var s=o+1;s<e.length;s++)if(e[o].key===e[s].key&&e[o].placement===e[s].placement)throw new TypeError("Duplicated element ("+e[o].key+")")}}return{elements:e,finishers:r}},fromElementDescriptor:function(e){var t={kind:e.kind,key:e.key,placement:e.placement,descriptor:e.descriptor};return f()(t,u.a,{value:"Descriptor",configurable:!0}),"field"===e.kind&&(t.initializer=e.initializer),t},toElementDescriptors:function(e){var t;if(void 0!==e)return g()(t=k()(e)).call(t,(function(e){var t=this.toElementDescriptor(e);return this.disallowProperty(e,"finisher","An element descriptor"),this.disallowProperty(e,"extras","An element descriptor"),t}),this)},toElementDescriptor:function(e){var t=String(e.kind);if("method"!==t&&"field"!==t)throw new TypeError('An element descriptor\'s .kind property must be either "method" or "field", but a decorator created an element descriptor with .kind "'+t+'"');var r=BrowserPopupNotificationDirective_toPropertyKey(e.key),i=String(e.placement);if("static"!==i&&"prototype"!==i&&"own"!==i)throw new TypeError('An element descriptor\'s .placement property must be one of "static", "prototype" or "own", but a decorator created an element descriptor with .placement "'+i+'"');var a=e.descriptor;this.disallowProperty(e,"elements","An element descriptor");var n={kind:t,key:r,placement:i,descriptor:d()({},a)};return"field"!==t?this.disallowProperty(e,"initializer","A method descriptor"):(this.disallowProperty(a,"get","The property descriptor of a field descriptor"),this.disallowProperty(a,"set","The property descriptor of a field descriptor"),this.disallowProperty(a,"value","The property descriptor of a field descriptor"),n.initializer=e.initializer),n},toElementFinisherExtras:function(e){return{element:this.toElementDescriptor(e),finisher:BrowserPopupNotificationDirective_optionalCallableProperty(e,"finisher"),extras:this.toElementDescriptors(e.extras)}},fromClassDescriptor:function(e){var t={kind:"class",elements:g()(e).call(e,this.fromElementDescriptor,this)};return f()(t,u.a,{value:"Descriptor",configurable:!0}),t},toClassDescriptor:function(e){var t=String(e.kind);if("class"!==t)throw new TypeError('A class descriptor\'s .kind property must be "class", but a decorator created a class descriptor with .kind "'+t+'"');this.disallowProperty(e,"key","A class descriptor"),this.disallowProperty(e,"placement","A class descriptor"),this.disallowProperty(e,"descriptor","A class descriptor"),this.disallowProperty(e,"initializer","A class descriptor"),this.disallowProperty(e,"extras","A class descriptor");var r=BrowserPopupNotificationDirective_optionalCallableProperty(e,"finisher");return{elements:this.toElementDescriptors(e.elements),finisher:r}},runClassFinishers:function(e,t){for(var r=0;r<t.length;r++){var i=(0,t[r])(e);if(void 0!==i){if("function"!=typeof i)throw new TypeError("Finishers must return a constructor.");e=i}}return e},disallowProperty:function(e,t,r){if(void 0!==e[t])throw new TypeError(r+" can't have a ."+t+" property.")}};return e}function BrowserPopupNotificationDirective_createElementDescriptor(e){var t,r=BrowserPopupNotificationDirective_toPropertyKey(e.key);"method"===e.kind?t={value:e.value,writable:!0,configurable:!0,enumerable:!1}:"get"===e.kind?t={get:e.value,configurable:!0,enumerable:!1}:"set"===e.kind?t={set:e.value,configurable:!0,enumerable:!1}:"field"===e.kind&&(t={configurable:!0,writable:!0,enumerable:!0});var i={kind:"field"===e.kind?"field":"method",key:r,placement:e.static?"static":"field"===e.kind?"own":"prototype",descriptor:t};return e.decorators&&(i.decorators=e.decorators),"field"===e.kind&&(i.initializer=e.value),i}function BrowserPopupNotificationDirective_coalesceGetterSetter(e,t){void 0!==e.descriptor.get?t.descriptor.get=e.descriptor.get:t.descriptor.set=e.descriptor.set}function BrowserPopupNotificationDirective_hasDecorators(e){return e.decorators&&e.decorators.length}function BrowserPopupNotificationDirective_isDataDescriptor(e){return void 0!==e&&!(void 0===e.value&&void 0===e.writable)}function BrowserPopupNotificationDirective_optionalCallableProperty(e,t){var r=e[t];if(void 0!==r&&"function"!=typeof r)throw new TypeError("Expected '"+t+"' to be a function");return r}function BrowserPopupNotificationDirective_toPropertyKey(e){var t=function BrowserPopupNotificationDirective_toPrimitive(e,t){if("object"!=typeof e||null===e)return e;var r=e[D.a];if(void 0!==r){var i=r.call(e,t||"default");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}let ee=function BrowserPopupNotificationDirective_decorate(e,t,r,i){var a,n=BrowserPopupNotificationDirective_getDecoratorsApi();if(i)for(var o=0;o<i.length;o++)n=i[o](n);var l=t((function initialize(e){n.initializeInstanceElements(e,d.elements)}),r),d=n.decorateClass(function BrowserPopupNotificationDirective_coalesceClassElements(e){for(var t=[],isSameElement=function(e){return"method"===e.kind&&e.key===a.key&&e.placement===a.placement},r=0;r<e.length;r++){var i,a=e[r];if("method"===a.kind&&(i=s()(t).call(t,isSameElement)))if(BrowserPopupNotificationDirective_isDataDescriptor(a.descriptor)||BrowserPopupNotificationDirective_isDataDescriptor(i.descriptor)){if(BrowserPopupNotificationDirective_hasDecorators(a)||BrowserPopupNotificationDirective_hasDecorators(i))throw new ReferenceError("Duplicated methods ("+a.key+") can't be decorated.");i.descriptor=a.descriptor}else{if(BrowserPopupNotificationDirective_hasDecorators(a)){if(BrowserPopupNotificationDirective_hasDecorators(i))throw new ReferenceError("Decorators can't be placed on different accessors with for the same property ("+a.key+").");i.decorators=a.decorators}BrowserPopupNotificationDirective_coalesceGetterSetter(a,i)}else t.push(a)}return t}(g()(a=l.d).call(a,BrowserPopupNotificationDirective_createElementDescriptor)),e);return n.initializeClassElements(l.F,d.elements),n.runClassFinishers(l.F,d.finishers)}(null,(function(e){class BrowserPopupNotificationDirective{constructor(t,r){e(this),this._$mdToast=t,this._notificationSrv=r,this.restrict="E",this.scope={}}}return{F:BrowserPopupNotificationDirective,d:[{kind:"get",static:!0,key:"directiveName",value:function directiveName(){return"pwBrowserPopupNotification"}},{kind:"method",decorators:[Object(N.Bb)(["$mdToast","notificationSrv"])],static:!0,key:"create",value:function create(...e){return new BrowserPopupNotificationDirective(...e)}},{kind:"method",key:"link",value:function link(e){const showNotification=(e,t)=>{this._showToast(e)};for(let e of this._notificationSrv.getNotificationQueue())showNotification(e.message,e.type);this._notificationSrv.addEventListener(showNotification),e.$on("$destroy",(()=>{this._notificationSrv.removeEventListener(showNotification)}))}},{kind:"method",key:"_showToast",value:function _showToast(e,t=1e4,r="bottom"){let i=this._$mdToast.simple();i.textContent(e),i.hideDelay=t,i.position=r,this._$mdToast.show(i)}}]}}));r(1488);let te=[a.a,n.a,M,class DialogService{static get serviceName(){return"dialogSrv"}},B.a,F.a,G.a,U.a,H.a,Y.a],re=[W,V],ie=[q,Q,ee];Object(i.a)("planyway.browserPopup",{services:te,controllers:re,directives:ie})},161:function(e,t,r){"use strict";r.d(t,"a",(function(){return P}));var i=r(5),a=r.n(i),n=r(6),o=r.n(n),s=r(9),l=r.n(s),d=r(11),c=r.n(d),u=r(8),h=r.n(u),_=r(4),m=r.n(_),p=r(2),E=r.n(p),f=r(14),y=r.n(f),C=r(27),T=r.n(C),g=r(41),S=r.n(g),D=r(3),v=r.n(D),A=r(21),b=r.n(A),I=r(19),R=r.n(I),k=r(15),O=r.n(k),w=r(13),L=r.n(w),N=(r(653),r(1));function _getDecoratorsApi(){_getDecoratorsApi=function(){return e};var e={elementsDefinitionOrder:[["method"],["field"]],initializeInstanceElements:function(e,t){var r;E()(r=["method","field"]).call(r,(function(r){E()(t).call(t,(function(t){t.kind===r&&"own"===t.placement&&this.defineClassElement(e,t)}),this)}),this)},initializeClassElements:function(e,t){var r,i=e.prototype;E()(r=["method","field"]).call(r,(function(r){E()(t).call(t,(function(t){var a=t.placement;if(t.kind===r&&("static"===a||"prototype"===a)){var n="static"===a?e:i;this.defineClassElement(n,t)}}),this)}),this)},defineClassElement:function(e,t){var r=t.descriptor;if("field"===t.kind){var i=t.initializer;r={enumerable:r.enumerable,writable:r.writable,configurable:r.configurable,value:void 0===i?void 0:i.call(e)}}m()(e,t.key,r)},decorateClass:function(e,t){var r=[],i=[],a={static:[],prototype:[],own:[]};if(E()(e).call(e,(function(e){this.addElementPlacement(e,a)}),this),E()(e).call(e,(function(e){if(!_hasDecorators(e))return r.push(e);var t=this.decorateElement(e,a);r.push(t.element),r.push.apply(r,t.extras),i.push.apply(i,t.finishers)}),this),!t)return{elements:r,finishers:i};var n=this.decorateConstructor(r,t);return i.push.apply(i,n.finishers),n.finishers=i,n},addElementPlacement:function(e,t,r){var i=t[e.placement];if(!r&&-1!==h()(i).call(i,e.key))throw new TypeError("Duplicated element ("+e.key+")");i.push(e.key)},decorateElement:function(e,t){for(var r=[],i=[],a=e.decorators,n=a.length-1;n>=0;n--){var o=t[e.placement];c()(o).call(o,h()(o).call(o,e.key),1);var s=this.fromElementDescriptor(e),l=this.toElementFinisherExtras((0,a[n])(s)||s);e=l.element,this.addElementPlacement(e,t),l.finisher&&i.push(l.finisher);var d=l.extras;if(d){for(var u=0;u<d.length;u++)this.addElementPlacement(d[u],t);r.push.apply(r,d)}}return{element:e,finishers:i,extras:r}},decorateConstructor:function(e,t){for(var r=[],i=t.length-1;i>=0;i--){var a=this.fromClassDescriptor(e),n=this.toClassDescriptor((0,t[i])(a)||a);if(void 0!==n.finisher&&r.push(n.finisher),void 0!==n.elements){e=n.elements;for(var o=0;o<e.length-1;o++)for(var s=o+1;s<e.length;s++)if(e[o].key===e[s].key&&e[o].placement===e[s].placement)throw new TypeError("Duplicated element ("+e[o].key+")")}}return{elements:e,finishers:r}},fromElementDescriptor:function(e){var t={kind:e.kind,key:e.key,placement:e.placement,descriptor:e.descriptor};return m()(t,l.a,{value:"Descriptor",configurable:!0}),"field"===e.kind&&(t.initializer=e.initializer),t},toElementDescriptors:function(e){var t;if(void 0!==e)return v()(t=O()(e)).call(t,(function(e){var t=this.toElementDescriptor(e);return this.disallowProperty(e,"finisher","An element descriptor"),this.disallowProperty(e,"extras","An element descriptor"),t}),this)},toElementDescriptor:function(e){var t=String(e.kind);if("method"!==t&&"field"!==t)throw new TypeError('An element descriptor\'s .kind property must be either "method" or "field", but a decorator created an element descriptor with .kind "'+t+'"');var r=_toPropertyKey(e.key),i=String(e.placement);if("static"!==i&&"prototype"!==i&&"own"!==i)throw new TypeError('An element descriptor\'s .placement property must be one of "static", "prototype" or "own", but a decorator created an element descriptor with .placement "'+i+'"');var a=e.descriptor;this.disallowProperty(e,"elements","An element descriptor");var n={kind:t,key:r,placement:i,descriptor:o()({},a)};return"field"!==t?this.disallowProperty(e,"initializer","A method descriptor"):(this.disallowProperty(a,"get","The property descriptor of a field descriptor"),this.disallowProperty(a,"set","The property descriptor of a field descriptor"),this.disallowProperty(a,"value","The property descriptor of a field descriptor"),n.initializer=e.initializer),n},toElementFinisherExtras:function(e){return{element:this.toElementDescriptor(e),finisher:_optionalCallableProperty(e,"finisher"),extras:this.toElementDescriptors(e.extras)}},fromClassDescriptor:function(e){var t={kind:"class",elements:v()(e).call(e,this.fromElementDescriptor,this)};return m()(t,l.a,{value:"Descriptor",configurable:!0}),t},toClassDescriptor:function(e){var t=String(e.kind);if("class"!==t)throw new TypeError('A class descriptor\'s .kind property must be "class", but a decorator created a class descriptor with .kind "'+t+'"');this.disallowProperty(e,"key","A class descriptor"),this.disallowProperty(e,"placement","A class descriptor"),this.disallowProperty(e,"descriptor","A class descriptor"),this.disallowProperty(e,"initializer","A class descriptor"),this.disallowProperty(e,"extras","A class descriptor");var r=_optionalCallableProperty(e,"finisher");return{elements:this.toElementDescriptors(e.elements),finisher:r}},runClassFinishers:function(e,t){for(var r=0;r<t.length;r++){var i=(0,t[r])(e);if(void 0!==i){if("function"!=typeof i)throw new TypeError("Finishers must return a constructor.");e=i}}return e},disallowProperty:function(e,t,r){if(void 0!==e[t])throw new TypeError(r+" can't have a ."+t+" property.")}};return e}function _createElementDescriptor(e){var t,r=_toPropertyKey(e.key);"method"===e.kind?t={value:e.value,writable:!0,configurable:!0,enumerable:!1}:"get"===e.kind?t={get:e.value,configurable:!0,enumerable:!1}:"set"===e.kind?t={set:e.value,configurable:!0,enumerable:!1}:"field"===e.kind&&(t={configurable:!0,writable:!0,enumerable:!0});var i={kind:"field"===e.kind?"field":"method",key:r,placement:e.static?"static":"field"===e.kind?"own":"prototype",descriptor:t};return e.decorators&&(i.decorators=e.decorators),"field"===e.kind&&(i.initializer=e.value),i}function _coalesceGetterSetter(e,t){void 0!==e.descriptor.get?t.descriptor.get=e.descriptor.get:t.descriptor.set=e.descriptor.set}function _hasDecorators(e){return e.decorators&&e.decorators.length}function _isDataDescriptor(e){return void 0!==e&&!(void 0===e.value&&void 0===e.writable)}function _optionalCallableProperty(e,t){var r=e[t];if(void 0!==r&&"function"!=typeof r)throw new TypeError("Expected '"+t+"' to be a function");return r}function _toPropertyKey(e){var t=function _toPrimitive(e,t){if("object"!=typeof e||null===e)return e;var r=e[y.a];if(void 0!==r){var i=r.call(e,t||"default");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}let P=function _decorate(e,t,r,i){var n,o=_getDecoratorsApi();if(i)for(var s=0;s<i.length;s++)o=i[s](o);var l=t((function initialize(e){o.initializeInstanceElements(e,d.elements)}),r),d=o.decorateClass(function _coalesceClassElements(e){for(var t=[],isSameElement=function(e){return"method"===e.kind&&e.key===n.key&&e.placement===n.placement},r=0;r<e.length;r++){var i,n=e[r];if("method"===n.kind&&(i=a()(t).call(t,isSameElement)))if(_isDataDescriptor(n.descriptor)||_isDataDescriptor(i.descriptor)){if(_hasDecorators(n)||_hasDecorators(i))throw new ReferenceError("Duplicated methods ("+n.key+") can't be decorated.");i.descriptor=n.descriptor}else{if(_hasDecorators(n)){if(_hasDecorators(i))throw new ReferenceError("Decorators can't be placed on different accessors with for the same property ("+n.key+").");i.decorators=n.decorators}_coalesceGetterSetter(n,i)}else t.push(n)}return t}(v()(n=l.d).call(n,_createElementDescriptor)),e);return o.initializeClassElements(l.F,d.elements),o.runClassFinishers(l.F,d.finishers)}([Object(N.Bb)(["$injector","$compile","$log","$window"])],(function(e){return{F:class HtmlHelperService{constructor(t,r,i,a){e(this),this._$injector=t,this._$compile=r,this._$log=i,this._$window=a}},d:[{kind:"get",static:!0,key:"serviceName",value:function serviceName(){return"htmlHelperSrv"}},{kind:"field",key:"_elementStyleObservers",value:()=>new R.a},{kind:"get",key:"_telemetrySrv",value:function _telemetrySrv(){return this._telemetrySrvLazy||(this._telemetrySrvLazy=this._$injector.get("telemetrySrv")),this._telemetrySrvLazy}},{kind:"method",key:"elementAdded",value:function elementAdded(e,t,r,i=!1){let a=!1;L()(t,e).each(((e,t)=>{if(r(L()(t)),a=!0,i)return!1})),i&&a||L()(e).arrive(t,{onceOnly:i},(e=>{r(L()(e))}))}},{kind:"method",key:"elementAddedOnceAsync",value:function elementAddedOnceAsync(e,t,r=0){let i=[new b.a((r=>this.elementAdded(e,t,(e=>r(e)),!0)))];return r&&i.push(Object(N.x)(r)),b.a.race(i)}},{kind:"method",key:"unbindElementAdded",value:function unbindElementAdded(e,t){t?L()(e).unbindArrive(t):L()(e).unbindArrive()}},{kind:"method",key:"elementRemoved",value:function elementRemoved(e,t,r,i=!1){L()(e).leave(t,{onceOnly:i},(e=>{r(L()(e))}))}},{kind:"method",key:"elementRemovedOnceAsync",value:function elementRemovedOnceAsync(e,t){return new b.a((r=>this.elementRemoved(e,t,(e=>r(e)),!0)))}},{kind:"method",key:"unbindElementRemoved",value:function unbindElementRemoved(e,t){t?L()(e).unbindLeave(t):L()(e).unbindLeave()}},{kind:"method",key:"styleChanged",value:function styleChanged(e,t){let r=e[0];if(!r)return;let i=new MutationObserver((()=>{t(e)}));i.observe(r,{attributes:!0,attributeFilter:["style"]});let a=this._elementStyleObservers.get(e)||[];a.push(i),this._elementStyleObservers.set(e,a)}},{kind:"method",key:"unbindStyleChanged",value:function unbindStyleChanged(e){let t=this._elementStyleObservers.get(e);if(t){for(let e of t)e.disconnect();this._elementStyleObservers.delete(e)}}},{kind:"method",key:"isElementOnScreen",value:function isElementOnScreen(e,t=!0){var r;let i=null===(r=e[0])||void 0===r?void 0:r.getBoundingClientRect();return!(!i||0===i.width||0===i.height)&&(t?i.top>=0&&i.bottom<=this._$window.innerHeight&&i.left>=0&&i.right<=this._$window.innerWidth:i.bottom>=0&&i.top<=this._$window.innerHeight&&i.right>=0&&i.left<=this._$window.innerWidth)}},{kind:"method",key:"compileHtml",value:function compileHtml(e,t,r=!0){let i=r?t.$new():t;return this._$compile(e)(i)[0]}},{kind:"method",key:"compileElement",value:function compileElement(e,t,r=!0){let i=r?t.$new():t;return this._$compile(e)(i),i}},{kind:"method",key:"injectScript",value:function injectScript(e,...t){try{var r;let i=this._$window.document.createElement("script");i.textContent=`(${e})(${v()(r=S()(Array.prototype).call(t)).call(r,(e=>T()(e))).join(", ")})`,(this._$window.document.head||this._$window.document.documentElement).appendChild(i),i.parentNode.removeChild(i)}catch(e){this._$log.error("Planyway failed to inject script:"),this._$log.error(e),this._telemetrySrv.logError("Planyway inject script error",e,{class:this.constructor.name,method:this.injectScript.name})}}},{kind:"method",key:"traceDOM",value:function traceDOM(e,t){let r=this._$window.document.createElement(e.tagName);if(e.id&&(r.id=e.id),e.className&&(r.className=e.className),t>0)for(let i of e.children)"SCRIPT"!==i.tagName&&"IFRAME"!==i.tagName&&r.appendChild(this.traceDOM(i,t-1));return r}}]}}))},162:function(e,t,r){"use strict";r.d(t,"a",(function(){return ce}));var i,a=r(5),n=r.n(a),o=r(6),s=r.n(o),l=r(9),d=r.n(l),c=r(11),u=r.n(c),h=r(8),_=r.n(h),m=r(4),p=r.n(m),E=r(2),f=r.n(E),y=r(3),C=r.n(y),T=r(14),g=r.n(T),S=r(21),D=r.n(S),v=r(27),A=r.n(v),b=r(94),I=r.n(b),R=r(19),k=r.n(R),O=r(15),w=r.n(O),L=r(264),N=r.n(L),P=r(218),M=r.n(P),B=r(55),F=r.n(B),G=r(10),U=r(0),H=r(1),Y=r(38),W=r.n(Y),$=r(30),z=r.n($),V=r(20),x=r.n(V),j=r(127),K=r.n(j),X=r(41),q=r.n(X),J=r(13),Z=r.n(J),Q=r(69),ee=r.n(Q),te=r(189),re=r(133),ie=r.n(re),ae=r(179),ne=r.n(ae),oe=r(180),se=r.n(oe),le=r(7);se()(ee.a);const de=q()(i="1.9.77.2".split(".")).call(i,0,3).join(".");function _getDecoratorsApi(){_getDecoratorsApi=function(){return e};var e={elementsDefinitionOrder:[["method"],["field"]],initializeInstanceElements:function(e,t){var r;f()(r=["method","field"]).call(r,(function(r){f()(t).call(t,(function(t){t.kind===r&&"own"===t.placement&&this.defineClassElement(e,t)}),this)}),this)},initializeClassElements:function(e,t){var r,i=e.prototype;f()(r=["method","field"]).call(r,(function(r){f()(t).call(t,(function(t){var a=t.placement;if(t.kind===r&&("static"===a||"prototype"===a)){var n="static"===a?e:i;this.defineClassElement(n,t)}}),this)}),this)},defineClassElement:function(e,t){var r=t.descriptor;if("field"===t.kind){var i=t.initializer;r={enumerable:r.enumerable,writable:r.writable,configurable:r.configurable,value:void 0===i?void 0:i.call(e)}}p()(e,t.key,r)},decorateClass:function(e,t){var r=[],i=[],a={static:[],prototype:[],own:[]};if(f()(e).call(e,(function(e){this.addElementPlacement(e,a)}),this),f()(e).call(e,(function(e){if(!_hasDecorators(e))return r.push(e);var t=this.decorateElement(e,a);r.push(t.element),r.push.apply(r,t.extras),i.push.apply(i,t.finishers)}),this),!t)return{elements:r,finishers:i};var n=this.decorateConstructor(r,t);return i.push.apply(i,n.finishers),n.finishers=i,n},addElementPlacement:function(e,t,r){var i=t[e.placement];if(!r&&-1!==_()(i).call(i,e.key))throw new TypeError("Duplicated element ("+e.key+")");i.push(e.key)},decorateElement:function(e,t){for(var r=[],i=[],a=e.decorators,n=a.length-1;n>=0;n--){var o=t[e.placement];u()(o).call(o,_()(o).call(o,e.key),1);var s=this.fromElementDescriptor(e),l=this.toElementFinisherExtras((0,a[n])(s)||s);e=l.element,this.addElementPlacement(e,t),l.finisher&&i.push(l.finisher);var d=l.extras;if(d){for(var c=0;c<d.length;c++)this.addElementPlacement(d[c],t);r.push.apply(r,d)}}return{element:e,finishers:i,extras:r}},decorateConstructor:function(e,t){for(var r=[],i=t.length-1;i>=0;i--){var a=this.fromClassDescriptor(e),n=this.toClassDescriptor((0,t[i])(a)||a);if(void 0!==n.finisher&&r.push(n.finisher),void 0!==n.elements){e=n.elements;for(var o=0;o<e.length-1;o++)for(var s=o+1;s<e.length;s++)if(e[o].key===e[s].key&&e[o].placement===e[s].placement)throw new TypeError("Duplicated element ("+e[o].key+")")}}return{elements:e,finishers:r}},fromElementDescriptor:function(e){var t={kind:e.kind,key:e.key,placement:e.placement,descriptor:e.descriptor};return p()(t,d.a,{value:"Descriptor",configurable:!0}),"field"===e.kind&&(t.initializer=e.initializer),t},toElementDescriptors:function(e){var t;if(void 0!==e)return C()(t=w()(e)).call(t,(function(e){var t=this.toElementDescriptor(e);return this.disallowProperty(e,"finisher","An element descriptor"),this.disallowProperty(e,"extras","An element descriptor"),t}),this)},toElementDescriptor:function(e){var t=String(e.kind);if("method"!==t&&"field"!==t)throw new TypeError('An element descriptor\'s .kind property must be either "method" or "field", but a decorator created an element descriptor with .kind "'+t+'"');var r=_toPropertyKey(e.key),i=String(e.placement);if("static"!==i&&"prototype"!==i&&"own"!==i)throw new TypeError('An element descriptor\'s .placement property must be one of "static", "prototype" or "own", but a decorator created an element descriptor with .placement "'+i+'"');var a=e.descriptor;this.disallowProperty(e,"elements","An element descriptor");var n={kind:t,key:r,placement:i,descriptor:s()({},a)};return"field"!==t?this.disallowProperty(e,"initializer","A method descriptor"):(this.disallowProperty(a,"get","The property descriptor of a field descriptor"),this.disallowProperty(a,"set","The property descriptor of a field descriptor"),this.disallowProperty(a,"value","The property descriptor of a field descriptor"),n.initializer=e.initializer),n},toElementFinisherExtras:function(e){return{element:this.toElementDescriptor(e),finisher:_optionalCallableProperty(e,"finisher"),extras:this.toElementDescriptors(e.extras)}},fromClassDescriptor:function(e){var t={kind:"class",elements:C()(e).call(e,this.fromElementDescriptor,this)};return p()(t,d.a,{value:"Descriptor",configurable:!0}),t},toClassDescriptor:function(e){var t=String(e.kind);if("class"!==t)throw new TypeError('A class descriptor\'s .kind property must be "class", but a decorator created a class descriptor with .kind "'+t+'"');this.disallowProperty(e,"key","A class descriptor"),this.disallowProperty(e,"placement","A class descriptor"),this.disallowProperty(e,"descriptor","A class descriptor"),this.disallowProperty(e,"initializer","A class descriptor"),this.disallowProperty(e,"extras","A class descriptor");var r=_optionalCallableProperty(e,"finisher");return{elements:this.toElementDescriptors(e.elements),finisher:r}},runClassFinishers:function(e,t){for(var r=0;r<t.length;r++){var i=(0,t[r])(e);if(void 0!==i){if("function"!=typeof i)throw new TypeError("Finishers must return a constructor.");e=i}}return e},disallowProperty:function(e,t,r){if(void 0!==e[t])throw new TypeError(r+" can't have a ."+t+" property.")}};return e}function _createElementDescriptor(e){var t,r=_toPropertyKey(e.key);"method"===e.kind?t={value:e.value,writable:!0,configurable:!0,enumerable:!1}:"get"===e.kind?t={get:e.value,configurable:!0,enumerable:!1}:"set"===e.kind?t={set:e.value,configurable:!0,enumerable:!1}:"field"===e.kind&&(t={configurable:!0,writable:!0,enumerable:!0});var i={kind:"field"===e.kind?"field":"method",key:r,placement:e.static?"static":"field"===e.kind?"own":"prototype",descriptor:t};return e.decorators&&(i.decorators=e.decorators),"field"===e.kind&&(i.initializer=e.value),i}function _coalesceGetterSetter(e,t){void 0!==e.descriptor.get?t.descriptor.get=e.descriptor.get:t.descriptor.set=e.descriptor.set}function _hasDecorators(e){return e.decorators&&e.decorators.length}function _isDataDescriptor(e){return void 0!==e&&!(void 0===e.value&&void 0===e.writable)}function _optionalCallableProperty(e,t){var r=e[t];if(void 0!==r&&"function"!=typeof r)throw new TypeError("Expected '"+t+"' to be a function");return r}function _toPropertyKey(e){var t=function _toPrimitive(e,t){if("object"!=typeof e||null===e)return e;var r=e[g.a];if(void 0!==r){var i=r.call(e,t||"default");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}let ce=function _decorate(e,t,r,i){var a,o=_getDecoratorsApi();if(i)for(var s=0;s<i.length;s++)o=i[s](o);var l=t((function initialize(e){o.initializeInstanceElements(e,d.elements)}),r),d=o.decorateClass(function _coalesceClassElements(e){for(var t=[],isSameElement=function(e){return"method"===e.kind&&e.key===a.key&&e.placement===a.placement},r=0;r<e.length;r++){var i,a=e[r];if("method"===a.kind&&(i=n()(t).call(t,isSameElement)))if(_isDataDescriptor(a.descriptor)||_isDataDescriptor(i.descriptor)){if(_hasDecorators(a)||_hasDecorators(i))throw new ReferenceError("Duplicated methods ("+a.key+") can't be decorated.");i.descriptor=a.descriptor}else{if(_hasDecorators(a)){if(_hasDecorators(i))throw new ReferenceError("Decorators can't be placed on different accessors with for the same property ("+a.key+").");i.decorators=a.decorators}_coalesceGetterSetter(a,i)}else t.push(a)}return t}(C()(a=l.d).call(a,_createElementDescriptor)),e);return o.initializeClassElements(l.F,d.elements),o.runClassFinishers(l.F,d.finishers)}([Object(H.Bb)(["$rootScope","$log","$window","$interval","$timeout","htmlHelperSrv"])],(function(e,t){class ChromePlatformService extends t{constructor(t,r,i,a,n,o){super(r,i,a,n,o),e(this),this._onProgressCallbackMap=new k.a;try{chrome.runtime.onMessage.addListener((e=>{var r;switch(e.type){case U.p.OnProgress:null===(r=this._onProgressCallbackMap.get(e.progressId))||void 0===r||r({direction:e.direction,percent:e.percent});break;case U.p.SwitchSchedulerShown:t.$evalAsync((()=>{t.$broadcast(U.n.SwitchSchedulerShownRequested,{isBy:"browser"})}))}}))}catch(e){}}}return{F:ChromePlatformService,d:[{kind:"method",key:"getPlatformUrl",value:function getPlatformUrl(e){if(e)return chrome.runtime.getURL(e.replace(/^(\.){0,2}\\/,""))}},{kind:"method",key:"getAppType",value:function getAppType(){return G.a.Chrome}},{kind:"method",key:"clearAppStorageAsync",value:async function clearAppStorageAsync(){}},{kind:"method",key:"closeAppAsync",value:async function closeAppAsync(){}},{kind:"method",key:"reloadAppAsync",value:async function reloadAppAsync(e=!1){try{await this._requestBackgroundAsync(U.p.ReloadTrelloTabs,{exceptCurrent:e})}catch(e){this._$log.error("Planyway failed to reload Trello tabs:"),this._$log.error(e)}}},{kind:"method",key:"getTelemetryDataAsync",value:async function getTelemetryDataAsync(){let e=`un_${F()()}`,t=!1;try{let r=await this._requestBackgroundAsync(U.p.GetTelemetryData);r.unauthorizedId?e=r.unauthorizedId:await this._requestBackgroundAsync(U.p.SetTelemetryData,{unauthorizedId:e}),localStorage.planywayUnauthorizedId=e,(async()=>{try{await this.exchangeSiteDataAsync(U.o.SaveTelemetryData)}catch(e){}})(),t=r.isInstallSent}catch(e){this._$log.error("Planyway failed to get telemetry data:"),this._$log.error(e)}return{unauthorizedId:e,isInstallSent:t}}},{kind:"method",key:"setTelemetryDataAsync",value:function setTelemetryDataAsync(e){return this._requestBackgroundAsync(U.p.SetTelemetryData,e)}},{kind:"method",key:"getAppStorageDataAsync",value:async function getAppStorageDataAsync(){try{var e;let t=await this._requestBackgroundAsync(U.p.GetAppStorageData);return{isOnboardingGuyShown:!1,isLoginDialogShown:!1,...t.storageData,flags:{telemetry:!0,...null===(e=t.storageData)||void 0===e?void 0:I()(e)}}}catch(e){this._$log.error("Planyway failed to get app storage data:"),this._$log.error(e)}return{isOnboardingGuyShown:!0,isLoginDialogShown:!0,flags:{telemetry:!1}}}},{kind:"method",key:"setAppStorageDataAsync",value:async function setAppStorageDataAsync(e){try{await this._requestBackgroundAsync(U.p.SetAppStorageData,{storageData:e})}catch(e){this._$log.error("Planyway failed to set app storage data:"),this._$log.error(e)}}},{kind:"method",key:"getTrelloTokenAsync",value:async function getTrelloTokenAsync(){let e=await this._requestBackgroundAsync(U.p.GetTrelloToken);if(e.trelloToken)return e.trelloToken;let t=localStorage.planywayTrelloToken;return t?(localStorage.removeItem("planywayTrelloToken"),t):void 0}},{kind:"method",key:"setTrelloTokenAsync",value:async function setTrelloTokenAsync(e){await this._requestBackgroundAsync(U.p.SetTrelloToken,{trelloToken:e}),(async()=>{try{await this.exchangeSiteDataAsync(U.o.SaveTrelloToken)}catch(e){}})()}},{kind:"method",key:"setMemberInfoAsync",value:async function setMemberInfoAsync(e){try{localStorage.planywayMemberId=e.memberId,await this._requestBackgroundAsync(U.p.SetMemberInfo,{...e})}catch(e){this._$log.error("Planyway failed to set member info:"),this._$log.error(e)}}},{kind:"method",key:"getGoogleCredentialsAsync",value:async function getGoogleCredentialsAsync(){let{googleCredentials:e}=await this._requestBackgroundAsync(U.p.GetGoogleCredentials);if(e)return{primaryCalendarId:e.primaryCalendarId,accessToken:e.accessToken,expiryDate:e.expiryDate&&new Date(e.expiryDate)}}},{kind:"method",key:"setGoogleCredentialsAsync",value:async function setGoogleCredentialsAsync(e){await this._requestBackgroundAsync(U.p.SetGoogleCredentials,{googleCredentials:e})}},{kind:"method",key:"getPushNotificationsSubscriptionsAsync",value:async function getPushNotificationsSubscriptionsAsync(){try{let e=await this.exchangeSiteDataAsync(U.o.LoadPushNotificationsSubscriptions);if(e)return JSON.parse(e)}catch(e){this._$log.error("Planyway failed to get notifications subscriptions:"),this._$log.error(e)}return{}}},{kind:"method",key:"setPushNotificationsSubscriptionsAsync",value:function setPushNotificationsSubscriptionsAsync(e){(async()=>{try{await this.exchangeSiteDataAsync(U.o.SavePushNotificationsSubscriptions,A()(e))}catch(e){}})()}},{kind:"method",key:"restAsync",value:async function restAsync(e,t,r={}){if(!chrome.runtime)return N()(M()(ChromePlatformService.prototype),"restAsync",this).call(this,e,t,r);r.onProgress&&(r.progressId=F()(),this._onProgressCallbackMap.set(r.progressId,r.onProgress));let i=await this._requestBackgroundAsync(U.p.Rest,{method:e,url:t,options:r});return r.onProgress&&this._onProgressCallbackMap.delete(r.progressId),i.response}},{kind:"method",key:"_requestBackgroundAsync",value:function _requestBackgroundAsync(e,t,r=3){let i=0;return function platformRetryAsync(){return new D.a(((a,n)=>{chrome.runtime.sendMessage({type:e,...t},(async e=>{if(e)e.error?n(e.error):a(e);else if(i<r)try{i++;let e=await platformRetryAsync();a(e)}catch(e){n(e)}else n(new Error("Empty response"))}))}))}()}}]}}),class PlatformService_PlatformService{static get serviceName(){return"platformSrv"}constructor(e,t,r,i,a){K()(this,"_exchangeSiteDataPromises",{}),K()(this,"_deduplicatedRestPromises",new k.a),this._$log=e,this._$window=t,this._$interval=r,this._$timeout=i,this._htmlHelperSrv=a}getPlatformUrl(e){return e}getAppType(){}getAppVersion(){return"1.9.77.2"}getAppVersionShort(){return de}clearAppStorageAsync(){}closeAppAsync(){}reloadAppAsync(e=!1){}getTelemetryDataAsync(){}setTelemetryDataAsync(e){}getAppStorageDataAsync(){}setAppStorageDataAsync(e){}getTrelloTokenAsync(){}setTrelloTokenAsync(e){}setMemberInfoAsync(e){}getGoogleCredentialsAsync(){}setGoogleCredentialsAsync(e){}getPushNotificationsSubscriptionsAsync(){}setPushNotificationsSubscriptionsAsync(){}restAsync(e,t,r={}){const{token:i,headers:a={},query:n,body:o,maxRetryCount:s=3,deduplicationTag:l,onProgress:d}=r;let c=45e3;if(l&&this._deduplicatedRestPromises.has(l))return this._deduplicatedRestPromises.get(l);const u=(async()=>{i&&(a.Authorization=`Bearer ${i}`);let r,l=x()(U.F).call(U.F,(e=>z()(t).call(t,e)));if(l&&i){let e=localStorage.planywayPlanywayToken;e&&(a["x-planyway-token"]=e)}switch(e){case U.L.Get:r=ee.a.get(t);break;case U.L.PutForm:r=ee.a.put(t).type("form").send(o);break;case U.L.PostForm:r=ee.a.post(t).type("form").send(o);break;case U.L.PostFile:c=0;let i=new FormData;for(let[e,t]of W()(o))switch(e){case"file":i.append("file",new File([new Blob([ne()(o.file)])],o.name));break;default:i.append(e,t)}r=ee.a.post(t).send(i);break;default:r=ee.a[e](t).send(o)}let u=await r.set(a).query(n).timeout({response:c}).retry(s,-1).on("progress",(e=>{null==d||d({direction:e.direction,percent:e.percent})}));if(l&&i){let e=u.headers["x-planyway-token"];if(e)try{localStorage.planywayPlanywayToken=e}catch(e){}}return u.body||u.text})();return l&&this._deduplicatedRestPromises.set(l,u),u}async exchangeSiteDataAsync(e,t,r){if(!this._exchangeSiteDataPromises[e]){const i=Object(te.a)();let a,n,o=null;const s=[new D.a((e=>{o=t=>{var r;(null===(r=t.data)||void 0===r?void 0:r.requestId)===i&&e(t.data)}}))],onBeforeUnload=()=>{var e;return null===(e=n)||void 0===e?void 0:e.close()};this._exchangeSiteDataPromises[e]=(async()=>{try{this._$window.addEventListener("message",o,!1),this._$window.addEventListener("beforeunload",onBeforeUnload,!1);let c=`${this._getExchangeUrl()}?${ie.a.stringify({request_type:e,request_id:i,return_url:this._$window.location.origin,data:t})}`;const handleExchangeNotificationsSubscriptionDataAsync=()=>{if(n)try{return void n.focus()}catch(e){}let e=this._$window.screenX+(this._$window.innerWidth-630)/2,t=this._$window.screenY+(this._$window.innerHeight-630)/2;if(n=this._$window.open(c,"PlanywayNotificationsEnableWindow",`width=630,height=630,left=${e},top=${t}`),!n)throw new Error("Cannot open Planyway notifications enable window");s.push(new D.a((e=>{const t=this._$interval((()=>{if(n)try{n.closed&&(this._$interval.cancel(t),e({success:!0}))}catch(r){this._$interval.cancel(t),e({success:!0})}}),200,0,!1)})))},handleExchangeDefaultDataAsync=()=>{switch(r?(a=Z()(r),s.push((async()=>(await this._htmlHelperSrv.elementRemovedOnceAsync("body",r),{success:!1,error:{message:"Planyway exchange frame removed"}}))())):(a=Z()('<iframe style="display: none"></iframe>'),a.appendTo("body")),a.attr("src",c),e){case U.o.GetGoogleAuthCode:break;default:s.push(this._$timeout((()=>({success:!1,error:{message:"Planyway exchange timeout exceeded"}})),5e3,!1))}};switch(e){case U.o.SubscribeNotifications:await handleExchangeNotificationsSubscriptionDataAsync();break;default:await handleExchangeDefaultDataAsync()}return await D.a.race(s)}finally{var l,d;this._exchangeSiteDataPromises[e]=null,this._$window.removeEventListener("message",o,!1),this._$window.removeEventListener("beforeunload",onBeforeUnload,!1),null===(l=a)||void 0===l||l.remove(),null===(d=n)||void 0===d||d.close()}})()}let i=await this._exchangeSiteDataPromises[e];if(!i.success){if(i.error instanceof Error)throw i.error;let e=new Error;for(let t in i.error)e[t]=i.error[t];throw e}return i.data}_getExchangeUrl(){return`${le.J}/common/exchange.html`}})},216:function(e,t,r){"use strict";(function(e){r.d(t,"a",(function(){return Z}));var i=r(5),a=r.n(i),n=r(9),o=r.n(n),s=r(11),l=r.n(s),d=r(4),c=r.n(d),u=r(2),h=r.n(u),_=r(14),m=r.n(_),p=r(39),E=r.n(p),f=r(6),y=r.n(f),C=r(27),T=r.n(C),g=r(43),S=r.n(g),D=r(29),v=r.n(D),A=r(19),b=r.n(A),I=r(23),R=r.n(I),k=r(12),O=r.n(k),w=r(3),L=r.n(w),N=r(8),P=r.n(N),M=r(17),B=r.n(M),F=r(15),G=r.n(F),U=r(16),H=r.n(U),Y=r(107),W=r.n(Y),$=r(26),z=r.n($),V=r(89),x=r.n(V),j=r(7),K=r(0),X=r(1);function _getDecoratorsApi(){_getDecoratorsApi=function(){return e};var e={elementsDefinitionOrder:[["method"],["field"]],initializeInstanceElements:function(e,t){var r;h()(r=["method","field"]).call(r,(function(r){h()(t).call(t,(function(t){t.kind===r&&"own"===t.placement&&this.defineClassElement(e,t)}),this)}),this)},initializeClassElements:function(e,t){var r,i=e.prototype;h()(r=["method","field"]).call(r,(function(r){h()(t).call(t,(function(t){var a=t.placement;if(t.kind===r&&("static"===a||"prototype"===a)){var n="static"===a?e:i;this.defineClassElement(n,t)}}),this)}),this)},defineClassElement:function(e,t){var r=t.descriptor;if("field"===t.kind){var i=t.initializer;r={enumerable:r.enumerable,writable:r.writable,configurable:r.configurable,value:void 0===i?void 0:i.call(e)}}c()(e,t.key,r)},decorateClass:function(e,t){var r=[],i=[],a={static:[],prototype:[],own:[]};if(h()(e).call(e,(function(e){this.addElementPlacement(e,a)}),this),h()(e).call(e,(function(e){if(!_hasDecorators(e))return r.push(e);var t=this.decorateElement(e,a);r.push(t.element),r.push.apply(r,t.extras),i.push.apply(i,t.finishers)}),this),!t)return{elements:r,finishers:i};var n=this.decorateConstructor(r,t);return i.push.apply(i,n.finishers),n.finishers=i,n},addElementPlacement:function(e,t,r){var i=t[e.placement];if(!r&&-1!==P()(i).call(i,e.key))throw new TypeError("Duplicated element ("+e.key+")");i.push(e.key)},decorateElement:function(e,t){for(var r=[],i=[],a=e.decorators,n=a.length-1;n>=0;n--){var o=t[e.placement];l()(o).call(o,P()(o).call(o,e.key),1);var s=this.fromElementDescriptor(e),d=this.toElementFinisherExtras((0,a[n])(s)||s);e=d.element,this.addElementPlacement(e,t),d.finisher&&i.push(d.finisher);var c=d.extras;if(c){for(var u=0;u<c.length;u++)this.addElementPlacement(c[u],t);r.push.apply(r,c)}}return{element:e,finishers:i,extras:r}},decorateConstructor:function(e,t){for(var r=[],i=t.length-1;i>=0;i--){var a=this.fromClassDescriptor(e),n=this.toClassDescriptor((0,t[i])(a)||a);if(void 0!==n.finisher&&r.push(n.finisher),void 0!==n.elements){e=n.elements;for(var o=0;o<e.length-1;o++)for(var s=o+1;s<e.length;s++)if(e[o].key===e[s].key&&e[o].placement===e[s].placement)throw new TypeError("Duplicated element ("+e[o].key+")")}}return{elements:e,finishers:r}},fromElementDescriptor:function(e){var t={kind:e.kind,key:e.key,placement:e.placement,descriptor:e.descriptor};return c()(t,o.a,{value:"Descriptor",configurable:!0}),"field"===e.kind&&(t.initializer=e.initializer),t},toElementDescriptors:function(e){var t;if(void 0!==e)return L()(t=G()(e)).call(t,(function(e){var t=this.toElementDescriptor(e);return this.disallowProperty(e,"finisher","An element descriptor"),this.disallowProperty(e,"extras","An element descriptor"),t}),this)},toElementDescriptor:function(e){var t=String(e.kind);if("method"!==t&&"field"!==t)throw new TypeError('An element descriptor\'s .kind property must be either "method" or "field", but a decorator created an element descriptor with .kind "'+t+'"');var r=_toPropertyKey(e.key),i=String(e.placement);if("static"!==i&&"prototype"!==i&&"own"!==i)throw new TypeError('An element descriptor\'s .placement property must be one of "static", "prototype" or "own", but a decorator created an element descriptor with .placement "'+i+'"');var a=e.descriptor;this.disallowProperty(e,"elements","An element descriptor");var n={kind:t,key:r,placement:i,descriptor:y()({},a)};return"field"!==t?this.disallowProperty(e,"initializer","A method descriptor"):(this.disallowProperty(a,"get","The property descriptor of a field descriptor"),this.disallowProperty(a,"set","The property descriptor of a field descriptor"),this.disallowProperty(a,"value","The property descriptor of a field descriptor"),n.initializer=e.initializer),n},toElementFinisherExtras:function(e){return{element:this.toElementDescriptor(e),finisher:_optionalCallableProperty(e,"finisher"),extras:this.toElementDescriptors(e.extras)}},fromClassDescriptor:function(e){var t={kind:"class",elements:L()(e).call(e,this.fromElementDescriptor,this)};return c()(t,o.a,{value:"Descriptor",configurable:!0}),t},toClassDescriptor:function(e){var t=String(e.kind);if("class"!==t)throw new TypeError('A class descriptor\'s .kind property must be "class", but a decorator created a class descriptor with .kind "'+t+'"');this.disallowProperty(e,"key","A class descriptor"),this.disallowProperty(e,"placement","A class descriptor"),this.disallowProperty(e,"descriptor","A class descriptor"),this.disallowProperty(e,"initializer","A class descriptor"),this.disallowProperty(e,"extras","A class descriptor");var r=_optionalCallableProperty(e,"finisher");return{elements:this.toElementDescriptors(e.elements),finisher:r}},runClassFinishers:function(e,t){for(var r=0;r<t.length;r++){var i=(0,t[r])(e);if(void 0!==i){if("function"!=typeof i)throw new TypeError("Finishers must return a constructor.");e=i}}return e},disallowProperty:function(e,t,r){if(void 0!==e[t])throw new TypeError(r+" can't have a ."+t+" property.")}};return e}function _createElementDescriptor(e){var t,r=_toPropertyKey(e.key);"method"===e.kind?t={value:e.value,writable:!0,configurable:!0,enumerable:!1}:"get"===e.kind?t={get:e.value,configurable:!0,enumerable:!1}:"set"===e.kind?t={set:e.value,configurable:!0,enumerable:!1}:"field"===e.kind&&(t={configurable:!0,writable:!0,enumerable:!0});var i={kind:"field"===e.kind?"field":"method",key:r,placement:e.static?"static":"field"===e.kind?"own":"prototype",descriptor:t};return e.decorators&&(i.decorators=e.decorators),"field"===e.kind&&(i.initializer=e.value),i}function _coalesceGetterSetter(e,t){void 0!==e.descriptor.get?t.descriptor.get=e.descriptor.get:t.descriptor.set=e.descriptor.set}function _hasDecorators(e){return e.decorators&&e.decorators.length}function _isDataDescriptor(e){return void 0!==e&&!(void 0===e.value&&void 0===e.writable)}function _optionalCallableProperty(e,t){var r=e[t];if(void 0!==r&&"function"!=typeof r)throw new TypeError("Expected '"+t+"' to be a function");return r}function _toPropertyKey(e){var t=function _toPrimitive(e,t){if("object"!=typeof e||null===e)return e;var r=e[m.a];if(void 0!==r){var i=r.call(e,t||"default");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}const q={[K.d.TrelloBoard]:1,[K.d.GoogleCalendar]:2,[K.d.ICalCalendar]:3},J=new H.a(["ru"]);let Z=function _decorate(e,t,r,i){var n,o=_getDecoratorsApi();if(i)for(var s=0;s<i.length;s++)o=i[s](o);var l=t((function initialize(e){o.initializeInstanceElements(e,d.elements)}),r),d=o.decorateClass(function _coalesceClassElements(e){for(var t=[],isSameElement=function(e){return"method"===e.kind&&e.key===n.key&&e.placement===n.placement},r=0;r<e.length;r++){var i,n=e[r];if("method"===n.kind&&(i=a()(t).call(t,isSameElement)))if(_isDataDescriptor(n.descriptor)||_isDataDescriptor(i.descriptor)){if(_hasDecorators(n)||_hasDecorators(i))throw new ReferenceError("Duplicated methods ("+n.key+") can't be decorated.");i.descriptor=n.descriptor}else{if(_hasDecorators(n)){if(_hasDecorators(i))throw new ReferenceError("Decorators can't be placed on different accessors with for the same property ("+n.key+").");i.decorators=n.decorators}_coalesceGetterSetter(n,i)}else t.push(n)}return t}(L()(n=l.d).call(n,_createElementDescriptor)),e);return o.initializeClassElements(l.F,d.elements),o.runClassFinishers(l.F,d.finishers)}([Object(X.Bb)(["$injector","$rootScope","$window","$interval","$timeout","$translate","backendSrv","licenseSrv","notificationSrv","settingsSrv","telemetrySrv"])],(function(t){return{F:class AppCommonService{constructor(e,r,i,a,n,o,s,l,d,c,u){t(this),this._$injector=e,this._$rootScope=r,this._$window=i,this._$interval=a,this._$timeout=n,this._$translate=o,this._backendSrv=s,this._licenseSrv=l,this._notificationSrv=d,this._settingsSrv=c,this._telemetrySrv=u,this._isSchedulerButtonBusy=!0,this._isSchedulerBusy=!1,this._watchTimeZoneChange()}},d:[{kind:"get",static:!0,key:"serviceName",value:function serviceName(){return"appCommonSrv"}},{kind:"get",key:"_googleIntegrationSrv",value:function _googleIntegrationSrv(){return this._googleIntegrationSrvLazy||(this._googleIntegrationSrvLazy=this._$injector.get("googleIntegrationSrv")),this._googleIntegrationSrvLazy}},{kind:"get",key:"_iCalIntegrationSrv",value:function _iCalIntegrationSrv(){return this._iCalIntegrationSrvLazy||(this._iCalIntegrationSrvLazy=this._$injector.get("iCalIntegrationSrv")),this._iCalIntegrationSrvLazy}},{kind:"get",key:"_trelloIntegrationSrv",value:function _trelloIntegrationSrv(){return this._trelloIntegrationSrvLazy||(this._trelloIntegrationSrvLazy=this._$injector.get("trelloIntegrationSrv")),this._trelloIntegrationSrvLazy}},{kind:"get",key:"_onboardingSrv",value:function _onboardingSrv(){return this._onboardingSrvLazy||(this._onboardingSrvLazy=this._$injector.get("onboardingSrv")),this._onboardingSrvLazy}},{kind:"method",key:"getLocale",value:function getLocale(){return this._globalSettings.locale?(this._localSettings.locale!==this._globalSettings.locale&&(this._localSettings.locale=this._globalSettings.locale,this._settingsSrv.saveLocal()),this._globalSettings.locale):this._localSettings.locale?this._localSettings.locale:Object(X.K)(W.a.replace("_","-"))}},{kind:"method",key:"getLanguage",value:function getLanguage(e){return(e||this.getLocale()).replace("-","_")}},{kind:"method",key:"applyLocale",value:function applyLocale(e){kendo.culture(e),z.a.locale(e)}},{kind:"method",key:"checkReloadLocaleRequired",value:function checkReloadLocaleRequired(e,t){e!==t&&(J.has(e)||J.has(t))&&this._notificationSrv.showNotification(this._$translate.instant("NOTIFICATIONS.LOCALE_CHANGED_WARNING"),K.A.Reload)}},{kind:"method",key:"isMacOS",value:function isMacOS(){var e;void 0===this._isMacOS&&(this._isMacOS=B()(e=navigator.platform.toUpperCase()).call(e,"MAC"));return this._isMacOS}},{kind:"method",key:"isInsideElectron",value:function isInsideElectron(){var t;void 0===this._isInsideElectron&&("undefined"!=typeof window&&"object"==typeof window.process&&"renderer"===window.process.type||void 0!==e&&"object"==typeof e.versions&&e.versions.electron||"object"==typeof navigator&&"string"==typeof navigator.userAgent&&P()(t=navigator.userAgent).call(t,"Electron")>=0?this._isInsideElectron=!0:this._isInsideElectron=!1);return this._isInsideElectron}},{kind:"method",key:"isInsideTeams",value:function isInsideTeams(){return void 0===this._isInsideTeams&&(this._isInsideTeams="true"===Object(X.bb)(this._$window,j.O)),this._isInsideTeams}},{kind:"method",key:"isSchedulerButtonBusy",value:function isSchedulerButtonBusy(){return this._isSchedulerButtonBusy}},{kind:"method",key:"setSchedulerButtonBusy",value:function setSchedulerButtonBusy(e){this._$timeout((()=>this._isSchedulerButtonBusy=e))}},{kind:"method",key:"isSchedulerBusy",value:function isSchedulerBusy(){return this._isSchedulerBusy}},{kind:"method",key:"setSchedulerBusy",value:function setSchedulerBusy(e){void 0===this._schedulerBusyCounter&&(this._schedulerBusyCounter=0),e?(0===this._schedulerBusyCounter&&this._$timeout((()=>this._isSchedulerBusy=!0)),this._schedulerBusyCounter++):(this._schedulerBusyCounter--,0===this._schedulerBusyCounter&&this._$timeout((()=>this._isSchedulerBusy=!1)))}},{kind:"get",key:"isUiPreconditionsPassed",value:function isUiPreconditionsPassed(){return!!this._globalSettings.isOnboardingWelcomeSurveyPassed&&!(this._currentBoardId&&!this._globalBoardSettings.isViewTemplateSelected)}},{kind:"method",key:"isSchedulerInPreview",value:function isSchedulerInPreview(){return!this._trelloIntegrationSrv.isAuthorized()||this.isSchedulerUnavailable()}},{kind:"method",key:"isSchedulerLoading",value:function isSchedulerLoading(){return this._trelloIntegrationSrv.isCurrentBoardInitializing()}},{kind:"method",key:"isSchedulerUnavailable",value:function isSchedulerUnavailable(){return this._trelloIntegrationSrv.isCurrentBoardUnavailable()}},{kind:"method",key:"isSchedulerShown",value:function isSchedulerShown(){return!!this._trelloIntegrationSrv.isAuthorized()&&(this.isSchedulerInPreview()?this._localSettings.showSchedulerPreview:!this._trelloIntegrationSrv.isCurrentBoardUnavailable()&&(this.isSchedulerLoading()?this._localSettings.showSchedulerPreview:this._globalBoardSettings.showCalendar&&this.isUiPreconditionsPassed))}},{kind:"method",key:"setSchedulerShown",value:function setSchedulerShown(e){this._$timeout((()=>{if(this.isSchedulerInPreview()||this.isSchedulerUnavailable()&&!this._trelloIntegrationSrv.isCurrentBoardUnavailable())return this._localSettings.showSchedulerPreview=e,void this._settingsSrv.saveLocal();this._trelloIntegrationSrv.isCurrentBoardUnavailable()||(this._globalBoardSettings.showCalendar=e,this._settingsSrv.saveGlobalAsync())}))}},{kind:"method",key:"getSchedulerOrientation",value:function getSchedulerOrientation(){return this.isSchedulerInPreview()||this.isSchedulerUnavailable()?this._globalSettings.defaultSchedulerOrientation:this._globalBoardSettings.schedulerOrientation}},{kind:"method",key:"getSchedulerMode",value:function getSchedulerMode(){if(this.isSchedulerInPreview()||this.isSchedulerUnavailable())return this._globalSettings.defaultSchedulerMode;let e=K.C[this._globalBoardSettings.schedulerMode];return e&&!this._licenseSrv.checkPaidFeatureAvailable(e,!1)?K.M.Calendar:this._globalBoardSettings.schedulerMode}},{kind:"method",key:"getSchedulerView",value:function getSchedulerView(){switch(this.getSchedulerMode()){case K.M.Timeline:return K.O.Timeline;case K.M.Calendar:return this.isSchedulerInPreview()||this.isSchedulerUnavailable()?this._globalSettings.defaultSchedulerView:this._globalBoardSettings.schedulerView;case K.M.TimeTracking:return K.O.Week}}},{kind:"method",key:"getTimelineView",value:function getTimelineView(){if(this.isSchedulerInPreview()||this.isSchedulerUnavailable())return this._globalSettings.defaultTimelineView;let e=K.D[this._globalBoardSettings.timelineView];return e&&!this._licenseSrv.checkPaidFeatureAvailable(e,!1)?K.ib.None:this._globalBoardSettings.timelineView}},{kind:"method",key:"getSchedulerSelectedDate",value:function getSchedulerSelectedDate(){return this._schedulerSelectedDate||(this._schedulerSelectedDate=Object(X.O)(new Date)),this._schedulerSelectedDate}},{kind:"method",key:"setSchedulerSelectedDate",value:function setSchedulerSelectedDate(e){return this._schedulerSelectedDate=e}},{kind:"method",key:"isSchedulerMini",value:function isSchedulerMini(){return this._isSchedulerMini}},{kind:"method",key:"setSchedulerMini",value:function setSchedulerMini(e){this._isSidebarShown=!e&&this._localSettings.schedulerSidebar.isShown,void 0===this._isSchedulerMini?this._isSchedulerMini=e:this._$timeout((()=>this._isSchedulerMini=e))}},{kind:"method",key:"isSchedulerSidebarShown",value:function isSchedulerSidebarShown(){return!this.isHomePageShown()&&(!!this.isSchedulerInPreview()||(this.isSchedulerMini()&&null!==(e=this._isSidebarShown)&&void 0!==e?e:this._localSettings.schedulerSidebar.isShown));var e}},{kind:"method",key:"setSchedulerSidebarShown",value:function setSchedulerSidebarShown(e){this.isSchedulerInPreview()||this.isHomePageShown()||(this.isSchedulerMini()?this._isSidebarShown=e:(this._localSettings.schedulerSidebar.isShown=e,this._settingsSrv.saveLocal()))}},{kind:"method",key:"getSchedulerWorkWeek",value:function getSchedulerWorkWeek(){if(this.isSchedulerInPreview()||this.isSchedulerUnavailable())return;let e=this.getSchedulerView();return(e===K.O.Week||e===K.O.Timeline)&&this._globalBoardSettings.showWorkDays?{start:this._globalSettings.workWeekStart,end:this._globalSettings.workWeekEnd}:void 0}},{kind:"method",key:"getTimelineResourcesType",value:function getTimelineResourcesType(){switch(this.getTimelineView()){case K.ib.None:return K.fb.NoResources;case K.ib.Member:return K.fb.Members;case K.ib.Board:return K.fb.Calendars;case K.ib.List:return K.fb.Lists;case K.ib.Label:return K.fb.Labels}}},{kind:"method",key:"getTimelineResources",value:function getTimelineResources(e=this.getTimelineResourcesType()){var t,r,i;if(this.isSchedulerInPreview()||this.isSchedulerUnavailable())return[];if(e===K.fb.NoResources)return[];const a=this._trelloIntegrationSrv.getMemberId(),n=this._trelloIntegrationSrv.getTrelloBoardById(this._currentBoardId),o=this._globalBoardSettings.timelineHiddenResources[e],s=[n,...L()(t=O()(r=this._trelloIntegrationSrv.getCurrentBoardConnectedBoards()).call(r,(e=>e.isSelected))).call(t,(e=>this._trelloIntegrationSrv.getTrelloBoardById(e.id)))];let l;switch(e){case K.fb.Members:if(l=[{id:j.k,type:K.fb.Members,name:this._$translate.instant("MISC.UNASSIGNED_MEMBER_FULL_NAME"),isSelected:!B()(o).call(o,j.k),canCreateCard:n&&!n.isReadOnly,resourceData:{}}],null!=n&&n.members){var d;let e=R()(d=[...n.members]).call(d,((e,t)=>e.id===a?-1:t.id===a?1:0)),t=this._licenseSrv.getMaxMemberLanes(),r=t;for(let i of e){let e=!B()(o).call(o,i.id);e&&void 0!==r&&(1===t?e=i.id===a:r--<=0&&(e=!1)),l.push({id:i.id,type:K.fb.Members,name:i.fullName,isSelected:e,canCreateCard:!n.isReadOnly,resourceData:{avatarUrl:i.avatarUrlNormal,initials:i.initials}})}}break;case K.fb.Calendars:l=[];for(let e of s)l.push({id:e.id,type:K.fb.Calendars,name:e.name,isSelected:!B()(o).call(o,e.id),canCreateCard:!e.isReadOnly,resourceData:{calendarType:K.d.TrelloBoard,calendarColor:e.color,calendarIcon:e.imageUrls[K.kb.Small]}});for(let e of this._googleIntegrationSrv.getCurrentBoardConnectedGoogleCalendars())if(e.isSelected){let t=this._googleIntegrationSrv.getGoogleCalendarById(e.id);l.push({id:t.id,type:K.fb.Calendars,name:t.name,isSelected:!B()(o).call(o,t.id),canCreateCard:!0,resourceData:{calendarType:K.d.GoogleCalendar,calendarColor:t.color.base}})}for(let e of this._iCalIntegrationSrv.getCurrentBoardConnectedICalCalendars())if(e.isSelected){let t=this._iCalIntegrationSrv.getICalCalendarById(e.id);l.push({id:t.id,type:K.fb.Calendars,name:t.name,isSelected:!B()(o).call(o,t.id),canCreateCard:!1,resourceData:{calendarType:K.d.ICalCalendar,calendarColor:t.color,iCalCalendarType:t.type}})}break;case K.fb.Lists:l=[];for(let e of s)for(let t of e.lists)l.push({id:t.id,type:K.fb.Lists,name:t.name,isSelected:!B()(o).call(o,t.id),canCreateCard:!e.isReadOnly,resourceData:{boardId:t.boardId,boardName:e.name,boardColor:e.color,boardIcon:e.imageUrls[K.kb.Small]}});break;case K.fb.Labels:let e=new b.a;for(let t of s)for(let r of t.labels){let i=Object(X.V)(r),a=e.get(i);a?t.isReadOnly||(a.canCreateCard=!0):e.set(i,{id:i,type:K.fb.Labels,name:r.name||Object(X.i)(r.color),isSelected:!B()(o).call(o,i),canCreateCard:n&&!n.isReadOnly,resourceData:{name:r.name,color:r.color}})}l=[{id:j.k,type:K.fb.Labels,name:this._$translate.instant("MISC.NO_LABEL"),isSelected:!B()(o).call(o,j.k),canCreateCard:n&&!n.isReadOnly,resourceData:{color:"default"}},...v()(e).call(e)]}let c=this._globalBoardSettings.timelineResourcesOrder[e];return L()(i=R()(l).call(l,((t,r)=>{if(c){let e=P()(c).call(c,t.id),i=P()(c).call(c,r.id);if(-1!==e&&-1!==i)return e-i;if(-1!==e)return-1;if(-1!==i)return 1}switch(e){case K.fb.Members:if(t.id===j.k)return-1;if(r.id===j.k)return 1;if(t.id===a)return-1;if(r.id===a)return 1;break;case K.fb.Calendars:if(t.resourceData.calendarType!==r.resourceData.calendarType)return q[t.resourceData.calendarType]-q[r.resourceData.calendarType];if(t.id===this._currentBoardId)return-1;if(r.id===this._currentBoardId)return 1;if("primary"===t.id)return-1;if("primary"===r.id)return 1;break;case K.fb.Lists:let e=this._trelloIntegrationSrv.getTrelloListById(t.id),i=this._trelloIntegrationSrv.getTrelloBoardById(e.boardId),n=this._trelloIntegrationSrv.getTrelloListById(r.id),o=this._trelloIntegrationSrv.getTrelloBoardById(n.boardId);return e.boardId===this._currentBoardId&&n.boardId!==this._currentBoardId?-1:n.boardId===this._currentBoardId&&e.boardId!==this._currentBoardId?1:Object(X.q)({...e,boardName:i.name},{...n,boardName:o.name});case K.fb.Labels:return t.id===j.k?-1:r.id===j.k?1:Object(X.p)(t.resourceData,r.resourceData)}return Object(X.j)(t.name,r.name)||Object(X.j)(t.id,r.id)}))).call(i,((e,t)=>({...e,order:t})))}},{kind:"method",key:"isHomePageShown",value:function isHomePageShown(){return!1}},{kind:"method",key:"isTaskListShown",value:function isTaskListShown(){return!1}},{kind:"method",key:"getTaskListsView",value:function getTaskListsView(){}},{kind:"method",key:"getTaskListsOrientation",value:function getTaskListsOrientation(){}},{kind:"method",key:"isABTestEnabled",value:function isABTestEnabled(e){var t,r;return null!==(t=null===(r=this._ABTests)||void 0===r?void 0:r[e])&&void 0!==t&&t}},{kind:"method",key:"initABTest",value:function initABTest(e){this._ABTests={};try{let e=JSON.parse(localStorage.planywayABTests);for(let t in e)K.a.hasValue(t)&&(this._ABTests[t]=e[t])}catch(e){}for(let t of S()(K.a))t in this._ABTests||(this._ABTests[t]=getRandomGroup(`${t}${e}`,2)>0);this._telemetrySrv.setABTestTests(this._ABTests);try{localStorage.planywayABTests=T()(this._ABTests)}catch(e){}}},{kind:"method",key:"sendLaunchAsync",value:async function sendLaunchAsync(){if(!this._launchInfoSent)return this._launchInfoSent=!0,this._backendSrv.sendLaunchAsync(),await this._trelloIntegrationSrv.initMemberAsync(),this._telemetrySrv.initMemberAsync()}},{kind:"method",key:"selectTemplateAsync",value:async function selectTemplateAsync(e){try{let t=K.tb[e];this._globalBoardSettings.viewTemplate=e,y()(this._globalBoardSettings,t),this._$rootScope.$broadcast(K.n.ChangeSchedulerViewRequested),this.setSchedulerButtonBusy(!0),this.setSchedulerBusy(!0),await this._settingsSrv.saveGlobalAsync()}finally{this.setSchedulerButtonBusy(!1),this.setSchedulerBusy(!1)}}},{kind:"get",key:"_currentBoardId",value:function _currentBoardId(){return this._trelloIntegrationSrv.getCurrentBoardId()}},{kind:"get",key:"_globalSettings",value:function _globalSettings(){return this._settingsSrv.currentSettings.global}},{kind:"get",key:"_localSettings",value:function _localSettings(){return this._settingsSrv.currentSettings.local}},{kind:"get",key:"_localBoardSettings",value:function _localBoardSettings(){return this._settingsSrv.currentSettings.getLocalBoardSettings(this._currentBoardId)}},{kind:"get",key:"_globalBoardSettings",value:function _globalBoardSettings(){return this._settingsSrv.currentSettings.getGlobalBoardSettings(this._currentBoardId)}},{kind:"method",key:"_watchTimeZoneChange",value:function _watchTimeZoneChange(){this._lastTimeZone=z.a.tz.guess(),this._$interval((()=>{let e=z.a.tz.guess(!0);e!==this._lastTimeZone&&(this._telemetrySrv.logSingleEvent(K.X.GeneralEvents.TimeZoneChanged,{previousTimeZone:this._lastTimeZone}),this._lastTimeZone=e,this._notificationSrv.showNotification(this._$translate.instant("NOTIFICATIONS.TIME_ZONE_CHANGED"),K.A.Reload))}),5e3,0,!1)}}]}}));function getRandomGroup(e,t){var r;let i=x()(e);return E()(r=i.split("")).call(r,((e,t)=>e+t.charCodeAt(0)),0)%t}}).call(this,r(61))},217:function(e,t,r){"use strict";r.d(t,"a",(function(){return X}));var i=r(5),a=r.n(i),n=r(6),o=r.n(n),s=r(9),l=r.n(s),d=r(11),c=r.n(d),u=r(8),h=r.n(u),_=r(4),m=r.n(_),p=r(2),E=r.n(p),f=r(14),y=r.n(f),C=r(27),T=r.n(C),g=r(3),S=r.n(g),D=r(21),v=r.n(D),A=r(45),b=r.n(A),I=r(41),R=r.n(I),k=r(94),O=r.n(k),w=r(15),L=r.n(w),N=r(26),P=r.n(N),M=r(124),B=r.n(M),F=r(107),G=r.n(F),U=r(182),H=r.n(U),Y=r(263),W=r.n(Y),$=r(10),z=r(7),V=r(0),x=r(1);function _getDecoratorsApi(){_getDecoratorsApi=function(){return e};var e={elementsDefinitionOrder:[["method"],["field"]],initializeInstanceElements:function(e,t){var r;E()(r=["method","field"]).call(r,(function(r){E()(t).call(t,(function(t){t.kind===r&&"own"===t.placement&&this.defineClassElement(e,t)}),this)}),this)},initializeClassElements:function(e,t){var r,i=e.prototype;E()(r=["method","field"]).call(r,(function(r){E()(t).call(t,(function(t){var a=t.placement;if(t.kind===r&&("static"===a||"prototype"===a)){var n="static"===a?e:i;this.defineClassElement(n,t)}}),this)}),this)},defineClassElement:function(e,t){var r=t.descriptor;if("field"===t.kind){var i=t.initializer;r={enumerable:r.enumerable,writable:r.writable,configurable:r.configurable,value:void 0===i?void 0:i.call(e)}}m()(e,t.key,r)},decorateClass:function(e,t){var r=[],i=[],a={static:[],prototype:[],own:[]};if(E()(e).call(e,(function(e){this.addElementPlacement(e,a)}),this),E()(e).call(e,(function(e){if(!_hasDecorators(e))return r.push(e);var t=this.decorateElement(e,a);r.push(t.element),r.push.apply(r,t.extras),i.push.apply(i,t.finishers)}),this),!t)return{elements:r,finishers:i};var n=this.decorateConstructor(r,t);return i.push.apply(i,n.finishers),n.finishers=i,n},addElementPlacement:function(e,t,r){var i=t[e.placement];if(!r&&-1!==h()(i).call(i,e.key))throw new TypeError("Duplicated element ("+e.key+")");i.push(e.key)},decorateElement:function(e,t){for(var r=[],i=[],a=e.decorators,n=a.length-1;n>=0;n--){var o=t[e.placement];c()(o).call(o,h()(o).call(o,e.key),1);var s=this.fromElementDescriptor(e),l=this.toElementFinisherExtras((0,a[n])(s)||s);e=l.element,this.addElementPlacement(e,t),l.finisher&&i.push(l.finisher);var d=l.extras;if(d){for(var u=0;u<d.length;u++)this.addElementPlacement(d[u],t);r.push.apply(r,d)}}return{element:e,finishers:i,extras:r}},decorateConstructor:function(e,t){for(var r=[],i=t.length-1;i>=0;i--){var a=this.fromClassDescriptor(e),n=this.toClassDescriptor((0,t[i])(a)||a);if(void 0!==n.finisher&&r.push(n.finisher),void 0!==n.elements){e=n.elements;for(var o=0;o<e.length-1;o++)for(var s=o+1;s<e.length;s++)if(e[o].key===e[s].key&&e[o].placement===e[s].placement)throw new TypeError("Duplicated element ("+e[o].key+")")}}return{elements:e,finishers:r}},fromElementDescriptor:function(e){var t={kind:e.kind,key:e.key,placement:e.placement,descriptor:e.descriptor};return m()(t,l.a,{value:"Descriptor",configurable:!0}),"field"===e.kind&&(t.initializer=e.initializer),t},toElementDescriptors:function(e){var t;if(void 0!==e)return S()(t=L()(e)).call(t,(function(e){var t=this.toElementDescriptor(e);return this.disallowProperty(e,"finisher","An element descriptor"),this.disallowProperty(e,"extras","An element descriptor"),t}),this)},toElementDescriptor:function(e){var t=String(e.kind);if("method"!==t&&"field"!==t)throw new TypeError('An element descriptor\'s .kind property must be either "method" or "field", but a decorator created an element descriptor with .kind "'+t+'"');var r=_toPropertyKey(e.key),i=String(e.placement);if("static"!==i&&"prototype"!==i&&"own"!==i)throw new TypeError('An element descriptor\'s .placement property must be one of "static", "prototype" or "own", but a decorator created an element descriptor with .placement "'+i+'"');var a=e.descriptor;this.disallowProperty(e,"elements","An element descriptor");var n={kind:t,key:r,placement:i,descriptor:o()({},a)};return"field"!==t?this.disallowProperty(e,"initializer","A method descriptor"):(this.disallowProperty(a,"get","The property descriptor of a field descriptor"),this.disallowProperty(a,"set","The property descriptor of a field descriptor"),this.disallowProperty(a,"value","The property descriptor of a field descriptor"),n.initializer=e.initializer),n},toElementFinisherExtras:function(e){return{element:this.toElementDescriptor(e),finisher:_optionalCallableProperty(e,"finisher"),extras:this.toElementDescriptors(e.extras)}},fromClassDescriptor:function(e){var t={kind:"class",elements:S()(e).call(e,this.fromElementDescriptor,this)};return m()(t,l.a,{value:"Descriptor",configurable:!0}),t},toClassDescriptor:function(e){var t=String(e.kind);if("class"!==t)throw new TypeError('A class descriptor\'s .kind property must be "class", but a decorator created a class descriptor with .kind "'+t+'"');this.disallowProperty(e,"key","A class descriptor"),this.disallowProperty(e,"placement","A class descriptor"),this.disallowProperty(e,"descriptor","A class descriptor"),this.disallowProperty(e,"initializer","A class descriptor"),this.disallowProperty(e,"extras","A class descriptor");var r=_optionalCallableProperty(e,"finisher");return{elements:this.toElementDescriptors(e.elements),finisher:r}},runClassFinishers:function(e,t){for(var r=0;r<t.length;r++){var i=(0,t[r])(e);if(void 0!==i){if("function"!=typeof i)throw new TypeError("Finishers must return a constructor.");e=i}}return e},disallowProperty:function(e,t,r){if(void 0!==e[t])throw new TypeError(r+" can't have a ."+t+" property.")}};return e}function _createElementDescriptor(e){var t,r=_toPropertyKey(e.key);"method"===e.kind?t={value:e.value,writable:!0,configurable:!0,enumerable:!1}:"get"===e.kind?t={get:e.value,configurable:!0,enumerable:!1}:"set"===e.kind?t={set:e.value,configurable:!0,enumerable:!1}:"field"===e.kind&&(t={configurable:!0,writable:!0,enumerable:!0});var i={kind:"field"===e.kind?"field":"method",key:r,placement:e.static?"static":"field"===e.kind?"own":"prototype",descriptor:t};return e.decorators&&(i.decorators=e.decorators),"field"===e.kind&&(i.initializer=e.value),i}function _coalesceGetterSetter(e,t){void 0!==e.descriptor.get?t.descriptor.get=e.descriptor.get:t.descriptor.set=e.descriptor.set}function _hasDecorators(e){return e.decorators&&e.decorators.length}function _isDataDescriptor(e){return void 0!==e&&!(void 0===e.value&&void 0===e.writable)}function _optionalCallableProperty(e,t){var r=e[t];if(void 0!==r&&"function"!=typeof r)throw new TypeError("Expected '"+t+"' to be a function");return r}function _toPropertyKey(e){var t=function _toPrimitive(e,t){if("object"!=typeof e||null===e)return e;var r=e[y.a];if(void 0!==r){var i=r.call(e,t||"default");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}const j=new H.a(z.I),K={[$.f.TrialNoRemainingTrials]:"NOTIFICATIONS.PLANYWAY_ACTIVATE_TRIAL_ERROR_NO_REMAINING_TRIALS",[$.f.TrialPaidAlreadyActive]:"NOTIFICATIONS.PLANYWAY_ACTIVATE_TRIAL_ERROR_PAID_ALREADY_ACTIVE",[$.f.InviteTokenInvalid]:"NOTIFICATIONS.PLANYWAY_INVITE_ERROR_TOKEN_INVALID",[$.f.InviteUnconfirmedAccount]:"NOTIFICATIONS.PLANYWAY_INVITE_ERROR_UNCONFIRMED_MEMBER"};let X=function _decorate(e,t,r,i){var n,o=_getDecoratorsApi();if(i)for(var s=0;s<i.length;s++)o=i[s](o);var l=t((function initialize(e){o.initializeInstanceElements(e,d.elements)}),r),d=o.decorateClass(function _coalesceClassElements(e){for(var t=[],isSameElement=function(e){return"method"===e.kind&&e.key===n.key&&e.placement===n.placement},r=0;r<e.length;r++){var i,n=e[r];if("method"===n.kind&&(i=a()(t).call(t,isSameElement)))if(_isDataDescriptor(n.descriptor)||_isDataDescriptor(i.descriptor)){if(_hasDecorators(n)||_hasDecorators(i))throw new ReferenceError("Duplicated methods ("+n.key+") can't be decorated.");i.descriptor=n.descriptor}else{if(_hasDecorators(n)){if(_hasDecorators(i))throw new ReferenceError("Decorators can't be placed on different accessors with for the same property ("+n.key+").");i.decorators=n.decorators}_coalesceGetterSetter(n,i)}else t.push(n)}return t}(S()(n=l.d).call(n,_createElementDescriptor)),e);return o.initializeClassElements(l.F,d.elements),o.runClassFinishers(l.F,d.finishers)}([Object(x.Bb)(["$injector","$log","$window","$translate","notificationSrv","platformSrv","telemetrySrv"])],(function(e){return{F:class BackendService{constructor(t,r,i,a,n,o,s){e(this),this._$injector=t,this._$log=r,this._$window=i,this._$translate=a,this._notificationSrv=n,this._platformSrv=o,this._telemetrySrv=s;try{this._browser=B.a.getParser(this._$window.navigator.userAgent)}catch(e){}}},d:[{kind:"get",static:!0,key:"serviceName",value:function serviceName(){return"backendSrv"}},{kind:"get",key:"_trelloIntegrationSrv",value:function _trelloIntegrationSrv(){return this._trelloIntegrationSrvLazy||(this._trelloIntegrationSrvLazy=this._$injector.get("trelloIntegrationSrv")),this._trelloIntegrationSrvLazy}},{kind:"method",key:"getMemberSettingsAsync",value:async function getMemberSettingsAsync(){let e=await this._restAsync(V.L.Get,`${z.c}/trello/${this._memberId}/memberSettings`,"Get member settings",{token:this._trelloToken});if(!e.success){let t=new Error(e.message);throw t.code=e.code,t.details=e.details,t}return this._memberSettingsETag=e.data._etag,{creationDate:new Date(e.data.creationDate),settingsString:e.data.serialized,flags:O()(e.data)}}},{kind:"method",key:"setMemberSettingsAsync",value:async function setMemberSettingsAsync(e,t){let r=await this._restAsync(V.L.Post,`${z.c}/trello/${this._memberId}/memberSettings`,"Set member settings",{token:this._trelloToken,body:{action:"set",data:{creationDate:null==e?void 0:e.toISOString(),serialized:t,_etag:this._memberSettingsETag}}});if(!r.success){let e=new Error(r.message);throw e.code=r.code,e.details=r.details,e}this._memberSettingsETag=r.data._etag}},{kind:"method",key:"getBoardsSettingsAsync",value:async function getBoardsSettingsAsync(e){let t=await this._restAsync(V.L.Get,`${z.c}/trello/${this._memberId}/boardSettings`,"Get board settings",{token:this._trelloToken,query:{ids:R()(e).call(e,0,50).join()}});if(!t.success){let e=new Error(t.message);throw e.code=t.code,e.details=t.details,e}return t.data}},{kind:"method",key:"setBoardSettingsAsync",value:async function setBoardSettingsAsync(e,t){let r=await this._restAsync(V.L.Post,`${z.c}/trello/${this._memberId}/boardSettings`,"Set board settings",{token:this._trelloToken,body:{action:"set",data:{...t,id:e}}});if(!r.success){let e=new Error(r.message);throw e.code=r.code,e.details=r.details,e}}},{kind:"method",key:"sendLaunchAsync",value:async function sendLaunchAsync(){try{await this._restAsync(V.L.Post,`${z.c}/trello/${this._memberId}/acquisition`,"Send launch",{token:this._trelloToken,body:{action:"launch",data:{appType:this._platformSrv.getAppType(),unauthorizedId:this._telemetrySrv.unauthorizedId}},deduplicationTag:`Launch Request ${Math.floor(b()()/1e3/60/60)}`})}catch(e){}}},{kind:"method",key:"sendSurveyAsync",value:async function sendSurveyAsync(e){try{await this._restAsync(V.L.Post,`${z.c}/trello/${this._memberId}/acquisition`,"Send survey",{token:this._trelloToken,body:{action:"survey",data:e}})}catch(e){}}},{kind:"method",key:"getMemberLicenseAsync",value:async function getMemberLicenseAsync(){let e=await this._restAsync(V.L.Get,`${z.c}/trello/${this._memberId}/license`,"Get member license",{token:this._trelloToken});if(!e.success){let t=new Error(e.message);throw t.code=e.code,t.details=e.details,t}let t=e.data;return this._verifySignature(t),{licenseType:t.licenseType,expirationDate:t.expirationDate&&new Date(t.expirationDate),maxMemberLanes:t.maxMemberLanes,remainingTrials:t.remainingTrials,isLicenseAdmin:t.isLicenseAdmin}}},{kind:"method",key:"activateTrialLicenseAsync",value:async function activateTrialLicenseAsync(){let e=await this._restAsync(V.L.Post,`${z.c}/trello/${this._memberId}/license`,"Activate trial license",{token:this._trelloToken,body:{action:"activateTrial"}});if(!e.success)return void this._notificationSrv.showNotification(K[e.code]?this._$translate.instant(K[e.code]):this._$translate.instant("NOTIFICATIONS.PLANYWAY_ACTIVATE_TRIAL_ERROR_WITH_MESSAGE",{message:e.message}),V.A.Error);let t=e.data;return this._verifySignature(t),{licenseType:t.licenseType,expirationDate:t.expirationDate&&new Date(t.expirationDate),maxMemberLanes:t.maxMemberLanes,remainingTrials:t.remainingTrials,isLicenseAdmin:t.isLicenseAdmin}}},{kind:"method",key:"sendFeedbackAsync",value:async function sendFeedbackAsync(e){try{var t,r;let a,n=this._restAsync(V.L.Get,`${z.c}/feedback/link`,"Get feedback upload link");var i;if(e.files)a=v.a.all(S()(i=e.files).call(i,(async e=>{let t=await Object(x.ub)(e);return{name:e.name,content:t}})));let[o,s]=await v.a.all([n,a]);if(!o.success)throw new Error(`Failed to get feedback upload link! Response:\n${T()(o,null,4)}`);return await this._restAsync(V.L.Put,o.data,"Send feedback",{headers:{"x-ms-blob-type":"BlockBlob"},body:{memberId:e.memberId,memberName:e.memberName,memberEmail:e.memberEmail,appType:this._platformSrv.getAppType(),appVersion:this._platformSrv.getAppVersion(),browserName:null===(t=this._browser)||void 0===t?void 0:t.getBrowserName(),browserVersion:null===(r=this._browser)||void 0===r?void 0:r.getBrowserVersion(),browserLocale:G.a,timeZone:P.a.tz.guess(),isEnterpriseContactUs:e.isEnterpriseContactUs,message:e.message,attachments:s}}),this._notificationSrv.showNotification(this._$translate.instant("NOTIFICATIONS.SEND_FEEDBACK_SUCCESS"),V.A.Success),!0}catch(e){return this._$log.error("Planyway send feedback error:"),this._$log.error(e),this._telemetrySrv.logError("Planyway send feedback error",e,{class:this.constructor.name,method:this.sendFeedbackAsync.name}),this._notificationSrv.showNotification(this._$translate.instant("NOTIFICATIONS.SEND_FEEDBACK_ERROR"),V.A.Error),!1}}},{kind:"method",key:"createInviteTokenAsync",value:async function createInviteTokenAsync(e){let t=await this._restAsync(V.L.Post,`${z.c}/trello/${this._memberId}/invite`,"Create invite token",{token:this._trelloToken,body:{action:"createInvite",data:{boardId:e}}});return t.success||this._notificationSrv.showNotification(K[t.code]?this._$translate.instant(K[t.code]):this._$translate.instant("NOTIFICATIONS.PLANYWAY_INVITE_ERROR_WITH_MESSAGE",{message:t.message}),V.A.Error),t.data.inviteToken}},{kind:"method",key:"deleteInviteTokenAsync",value:async function deleteInviteTokenAsync(e){let t=await this._restAsync(V.L.Post,`${z.c}/trello/${this._memberId}/invite`,"Delete invite token",{token:this._trelloToken,body:{action:"deleteInvite",data:{inviteToken:e}}});t.success||this._notificationSrv.showNotification(K[t.code]?this._$translate.instant(K[t.code]):this._$translate.instant("NOTIFICATIONS.PLANYWAY_INVITE_ERROR_WITH_MESSAGE",{message:t.message}),V.A.Error)}},{kind:"method",key:"addMemberToBoardByInviteAsync",value:async function addMemberToBoardByInviteAsync(e){let t=await this._restAsync(V.L.Post,`${z.c}/trello/${this._memberId}/invite`,"Add member to board by invite",{token:this._trelloToken,body:{action:"addMemberByInvite",data:{inviteToken:e}}});return!!t.success||(this._notificationSrv.showNotification(K[t.code]?this._$translate.instant(K[t.code]):this._$translate.instant("NOTIFICATIONS.PLANYWAY_INVITE_ERROR_WITH_MESSAGE",{message:t.message}),V.A.Error),!1)}},{kind:"method",key:"notifyMemberInvitedToBoardAsync",value:async function notifyMemberInvitedToBoardAsync(e,t){let r=await this._restAsync(V.L.Post,`${z.c}/trello/${this._memberId}/invite`,"Notify member invited to board",{token:this._trelloToken,body:{action:"notifyMemberInvited",data:{boardId:e,inviteeId:t.inviteeId,inviteeEmail:t.inviteeEmail}}});r.success||this._notificationSrv.showNotification(K[r.code]?this._$translate.instant(K[r.code]):this._$translate.instant("NOTIFICATIONS.PLANYWAY_INVITE_ERROR_WITH_MESSAGE",{message:r.message}),V.A.Error)}},{kind:"method",key:"clearMemberDataAsync",value:async function clearMemberDataAsync(){}},{kind:"method",key:"getPricingAsync",value:async function getPricingAsync(){let e=await this._restAsync(V.L.Get,`${z.c}/payment/pd/prices`,"Get pricing");if(!e.success){let t=new Error(e.message);throw t.code=e.code,t.details=e.details,t}return e.data}},{kind:"method",key:"subscribePushNotificationsAsync",value:async function subscribePushNotificationsAsync(e,t){let r=await this._restAsync(V.L.Post,`${z.x}/trello/${this._memberId}/control`,"Subscribe Push Notifications",{token:this._trelloToken,body:{action:"subscribe",data:{subscription:e,timeZone:t}}});if(!r.success){let e=new Error(r.message);throw e.code=r.code,e.details=r.details,e}}},{kind:"method",key:"checkPushNotificationsSubscriptionAsync",value:async function checkPushNotificationsSubscriptionAsync(e){var t;let r=await this._restAsync(V.L.Post,`${z.x}/trello/${this._memberId}/control`,"Check Push Notifications subscription",{token:this._trelloToken,body:{action:"check",data:{subscription:e}}});if(!r.success){let e=new Error(r.message);throw e.code=r.code,e.details=r.details,e}return null!==(t=r.data.isExists)&&void 0!==t&&t}},{kind:"method",key:"unsubscribePushNotificationsAsync",value:async function unsubscribePushNotificationsAsync(){let e=await this._restAsync(V.L.Post,`${z.x}/trello/${this._memberId}/control`,"Unsubscribe Push Notifications",{token:this._trelloToken,body:{action:"unsubscribe"}});if(!e.success){let t=new Error(e.message);throw t.code=e.code,t.details=e.details,t}}},{kind:"get",key:"_memberId",value:function _memberId(){return this._trelloIntegrationSrv.getMemberId()}},{kind:"get",key:"_trelloToken",value:function _trelloToken(){return this._trelloIntegrationSrv.getTrelloToken()}},{kind:"method",key:"_restAsync",value:async function _restAsync(e,t,r,i={}){let a,n=this._telemetrySrv.logRequest(r,e,t,{...i.query,...i.body}),o=200;try{return await this._platformSrv.restAsync(e,t,i)}catch(e){throw o=e.status,a=e.response,e}finally{this._telemetrySrv.logRequestEnd(n,o,a)}}},{kind:"method",key:"_verifySignature",value:function _verifySignature(e){let{signature:t,...r}=e;try{if(j.verify(W()(r),t,"utf-8","base64"))return!0;throw new Error("Invalid signature")}catch(e){e.signature=t,e.data=r,this._$log.error("Planyway failed to verify signature:"),this._$log.error(e),this._telemetrySrv.logError("Planyway failed to verify signature",e,{class:this.constructor.name,method:this._verifySignature.name})}return!1}}]}}))},219:function(e,t,r){"use strict";r.d(t,"a",(function(){return L}));var i=r(5),a=r.n(i),n=r(6),o=r.n(n),s=r(9),l=r.n(s),d=r(11),c=r.n(d),u=r(8),h=r.n(u),_=r(4),m=r.n(_),p=r(2),E=r.n(p),f=r(3),y=r.n(f),C=r(14),T=r.n(C),g=r(45),S=r.n(g),D=r(144),v=r.n(D),A=r(16),b=r.n(A),I=r(15),R=r.n(I),k=r(10),O=r(0),w=r(1);function _getDecoratorsApi(){_getDecoratorsApi=function(){return e};var e={elementsDefinitionOrder:[["method"],["field"]],initializeInstanceElements:function(e,t){var r;E()(r=["method","field"]).call(r,(function(r){E()(t).call(t,(function(t){t.kind===r&&"own"===t.placement&&this.defineClassElement(e,t)}),this)}),this)},initializeClassElements:function(e,t){var r,i=e.prototype;E()(r=["method","field"]).call(r,(function(r){E()(t).call(t,(function(t){var a=t.placement;if(t.kind===r&&("static"===a||"prototype"===a)){var n="static"===a?e:i;this.defineClassElement(n,t)}}),this)}),this)},defineClassElement:function(e,t){var r=t.descriptor;if("field"===t.kind){var i=t.initializer;r={enumerable:r.enumerable,writable:r.writable,configurable:r.configurable,value:void 0===i?void 0:i.call(e)}}m()(e,t.key,r)},decorateClass:function(e,t){var r=[],i=[],a={static:[],prototype:[],own:[]};if(E()(e).call(e,(function(e){this.addElementPlacement(e,a)}),this),E()(e).call(e,(function(e){if(!_hasDecorators(e))return r.push(e);var t=this.decorateElement(e,a);r.push(t.element),r.push.apply(r,t.extras),i.push.apply(i,t.finishers)}),this),!t)return{elements:r,finishers:i};var n=this.decorateConstructor(r,t);return i.push.apply(i,n.finishers),n.finishers=i,n},addElementPlacement:function(e,t,r){var i=t[e.placement];if(!r&&-1!==h()(i).call(i,e.key))throw new TypeError("Duplicated element ("+e.key+")");i.push(e.key)},decorateElement:function(e,t){for(var r=[],i=[],a=e.decorators,n=a.length-1;n>=0;n--){var o=t[e.placement];c()(o).call(o,h()(o).call(o,e.key),1);var s=this.fromElementDescriptor(e),l=this.toElementFinisherExtras((0,a[n])(s)||s);e=l.element,this.addElementPlacement(e,t),l.finisher&&i.push(l.finisher);var d=l.extras;if(d){for(var u=0;u<d.length;u++)this.addElementPlacement(d[u],t);r.push.apply(r,d)}}return{element:e,finishers:i,extras:r}},decorateConstructor:function(e,t){for(var r=[],i=t.length-1;i>=0;i--){var a=this.fromClassDescriptor(e),n=this.toClassDescriptor((0,t[i])(a)||a);if(void 0!==n.finisher&&r.push(n.finisher),void 0!==n.elements){e=n.elements;for(var o=0;o<e.length-1;o++)for(var s=o+1;s<e.length;s++)if(e[o].key===e[s].key&&e[o].placement===e[s].placement)throw new TypeError("Duplicated element ("+e[o].key+")")}}return{elements:e,finishers:r}},fromElementDescriptor:function(e){var t={kind:e.kind,key:e.key,placement:e.placement,descriptor:e.descriptor};return m()(t,l.a,{value:"Descriptor",configurable:!0}),"field"===e.kind&&(t.initializer=e.initializer),t},toElementDescriptors:function(e){var t;if(void 0!==e)return y()(t=R()(e)).call(t,(function(e){var t=this.toElementDescriptor(e);return this.disallowProperty(e,"finisher","An element descriptor"),this.disallowProperty(e,"extras","An element descriptor"),t}),this)},toElementDescriptor:function(e){var t=String(e.kind);if("method"!==t&&"field"!==t)throw new TypeError('An element descriptor\'s .kind property must be either "method" or "field", but a decorator created an element descriptor with .kind "'+t+'"');var r=_toPropertyKey(e.key),i=String(e.placement);if("static"!==i&&"prototype"!==i&&"own"!==i)throw new TypeError('An element descriptor\'s .placement property must be one of "static", "prototype" or "own", but a decorator created an element descriptor with .placement "'+i+'"');var a=e.descriptor;this.disallowProperty(e,"elements","An element descriptor");var n={kind:t,key:r,placement:i,descriptor:o()({},a)};return"field"!==t?this.disallowProperty(e,"initializer","A method descriptor"):(this.disallowProperty(a,"get","The property descriptor of a field descriptor"),this.disallowProperty(a,"set","The property descriptor of a field descriptor"),this.disallowProperty(a,"value","The property descriptor of a field descriptor"),n.initializer=e.initializer),n},toElementFinisherExtras:function(e){return{element:this.toElementDescriptor(e),finisher:_optionalCallableProperty(e,"finisher"),extras:this.toElementDescriptors(e.extras)}},fromClassDescriptor:function(e){var t={kind:"class",elements:y()(e).call(e,this.fromElementDescriptor,this)};return m()(t,l.a,{value:"Descriptor",configurable:!0}),t},toClassDescriptor:function(e){var t=String(e.kind);if("class"!==t)throw new TypeError('A class descriptor\'s .kind property must be "class", but a decorator created a class descriptor with .kind "'+t+'"');this.disallowProperty(e,"key","A class descriptor"),this.disallowProperty(e,"placement","A class descriptor"),this.disallowProperty(e,"descriptor","A class descriptor"),this.disallowProperty(e,"initializer","A class descriptor"),this.disallowProperty(e,"extras","A class descriptor");var r=_optionalCallableProperty(e,"finisher");return{elements:this.toElementDescriptors(e.elements),finisher:r}},runClassFinishers:function(e,t){for(var r=0;r<t.length;r++){var i=(0,t[r])(e);if(void 0!==i){if("function"!=typeof i)throw new TypeError("Finishers must return a constructor.");e=i}}return e},disallowProperty:function(e,t,r){if(void 0!==e[t])throw new TypeError(r+" can't have a ."+t+" property.")}};return e}function _createElementDescriptor(e){var t,r=_toPropertyKey(e.key);"method"===e.kind?t={value:e.value,writable:!0,configurable:!0,enumerable:!1}:"get"===e.kind?t={get:e.value,configurable:!0,enumerable:!1}:"set"===e.kind?t={set:e.value,configurable:!0,enumerable:!1}:"field"===e.kind&&(t={configurable:!0,writable:!0,enumerable:!0});var i={kind:"field"===e.kind?"field":"method",key:r,placement:e.static?"static":"field"===e.kind?"own":"prototype",descriptor:t};return e.decorators&&(i.decorators=e.decorators),"field"===e.kind&&(i.initializer=e.value),i}function _coalesceGetterSetter(e,t){void 0!==e.descriptor.get?t.descriptor.get=e.descriptor.get:t.descriptor.set=e.descriptor.set}function _hasDecorators(e){return e.decorators&&e.decorators.length}function _isDataDescriptor(e){return void 0!==e&&!(void 0===e.value&&void 0===e.writable)}function _optionalCallableProperty(e,t){var r=e[t];if(void 0!==r&&"function"!=typeof r)throw new TypeError("Expected '"+t+"' to be a function");return r}function _toPropertyKey(e){var t=function _toPrimitive(e,t){if("object"!=typeof e||null===e)return e;var r=e[T.a];if(void 0!==r){var i=r.call(e,t||"default");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}let L=function _decorate(e,t,r,i){var n,o=_getDecoratorsApi();if(i)for(var s=0;s<i.length;s++)o=i[s](o);var l=t((function initialize(e){o.initializeInstanceElements(e,d.elements)}),r),d=o.decorateClass(function _coalesceClassElements(e){for(var t=[],isSameElement=function(e){return"method"===e.kind&&e.key===n.key&&e.placement===n.placement},r=0;r<e.length;r++){var i,n=e[r];if("method"===n.kind&&(i=a()(t).call(t,isSameElement)))if(_isDataDescriptor(n.descriptor)||_isDataDescriptor(i.descriptor)){if(_hasDecorators(n)||_hasDecorators(i))throw new ReferenceError("Duplicated methods ("+n.key+") can't be decorated.");i.descriptor=n.descriptor}else{if(_hasDecorators(n)){if(_hasDecorators(i))throw new ReferenceError("Decorators can't be placed on different accessors with for the same property ("+n.key+").");i.decorators=n.decorators}_coalesceGetterSetter(n,i)}else t.push(n)}return t}(y()(n=l.d).call(n,_createElementDescriptor)),e);return o.initializeClassElements(l.F,d.elements),o.runClassFinishers(l.F,d.finishers)}([Object(w.Bb)(["$log","$window","$translate","backendSrv","dialogSrv","notificationSrv","platformSrv","telemetrySrv"])],(function(e){return{F:class LicenseService{constructor(t,r,i,a,n,o,s,l){e(this),this._$log=t,this._$window=r,this._$translate=i,this._backendSrv=a,this._dialogSrv=n,this._notificationSrv=o,this._platformSrv=s,this._telemetrySrv=l}},d:[{kind:"get",static:!0,key:"serviceName",value:function serviceName(){return"licenseSrv"}},{kind:"field",key:"_memberLicense",value:void 0},{kind:"method",key:"loadLicenseAsync",value:async function loadLicenseAsync(){let e=this._getCancellationToken("loadMemberLicense");this._memberLicense=null,this._availablePaidFeatures=new b.a;try{let t=await this._backendSrv.getMemberLicenseAsync();if(e.isCanceled())return;this._memberLicense=t}catch(e){this._$log.error("Planyway get license error:"),this._$log.error(e),this._telemetrySrv.logError("Planyway get license error",e,{class:this.constructor.name,method:this.loadLicenseAsync.name}),this._notificationSrv.showNotification(this._$translate.instant("NOTIFICATIONS.PLANYWAY_MEMBER_LICENSE_LOADING_ERROR"),O.A.Reload)}this.isLicenseLoaded()&&this._applyLicense()}},{kind:"method",key:"activateTrialLicenseAsync",value:async function activateTrialLicenseAsync(){let e=this._getCancellationToken("activateTrialLicense");try{let t=await this._backendSrv.activateTrialLicenseAsync();if(e.isCanceled())return!1;t&&(this._memberLicense=t)}catch(e){this._$log.error("Planyway activate trial license error:"),this._$log.error(e),this._telemetrySrv.logError("Planyway activate trial license error",e,{class:this.constructor.name,method:this.activateTrialLicenseAsync.name}),this._notificationSrv.showNotification(this._$translate.instant("NOTIFICATIONS.PLANYWAY_ACTIVATE_TRIAL_ERROR"),O.A.Error)}this.isLicenseLoaded()&&this._memberLicense.licenseType!==k.g.Free&&this._applyLicense()}},{kind:"method",key:"isLicenseLoaded",value:function isLicenseLoaded(){return!!this._memberLicense}},{kind:"method",key:"isLicenseActive",value:function isLicenseActive(){if(this.isLicenseLoaded())return this._memberLicense.licenseType!==k.g.Free&&this._memberLicense.expirationDate>new Date}},{kind:"method",key:"getLicenseType",value:function getLicenseType(){if(this.isLicenseLoaded())return this._memberLicense.licenseType}},{kind:"method",key:"getLicenseExpirationDate",value:function getLicenseExpirationDate(){if(this.isLicenseLoaded())return this._memberLicense.expirationDate}},{kind:"method",key:"getMaxMemberLanes",value:function getMaxMemberLanes(){var e;return null!==(e=this._memberLicense.maxMemberLanes)&&void 0!==e?e:v.a}},{kind:"method",key:"getRemainingTrials",value:function getRemainingTrials(){if(this.isLicenseLoaded())return this._memberLicense.remainingTrials}},{kind:"method",key:"isTrialAvailable",value:function isTrialAvailable(){return!this.isLicenseActive()&&this.getRemainingTrials()>0}},{kind:"method",key:"isLicenseAdmin",value:function isLicenseAdmin(){var e;return!!this.isLicenseLoaded()&&(null!==(e=this._memberLicense.isLicenseAdmin)&&void 0!==e&&e)}},{kind:"method",key:"checkPaidFeatureAvailable",value:function checkPaidFeatureAvailable(e,t=!1,r={}){if(!this.isLicenseLoaded())return t&&this._notificationSrv.showNotification(this._$translate.instant("NOTIFICATIONS.PLANYWAY_MEMBER_LICENSE_LOADING_ERROR"),O.A.Reload),!1;if(this._availablePaidFeatures.has(e))switch(e){case O.B.TimelineMember:if(void 0===r.paidLanesCount||r.paidLanesCount<=this.getMaxMemberLanes())return!0;break;default:return this.isLicenseActive()}return t&&this._dialogSrv.showPaidFeatureOfferDialogAsync(e,r),!1}},{kind:"method",key:"_applyLicense",value:function _applyLicense(){let e=this.isLicenseActive()?this.getLicenseType():k.g.Free;this._availablePaidFeatures=O.E[e]}},{kind:"method",key:"_getCancellationToken",value:function _getCancellationToken(e){this._cancellationTokens||(this._cancellationTokens={});let t=S()(),r={_timestamp:t,isCanceled:()=>this._cancellationTokens[e]._timestamp!==t};return this._cancellationTokens[e]=r,r}}]}}))},220:function(e,t,r){"use strict";r.d(t,"a",(function(){return b}));var i=r(5),a=r.n(i),n=r(6),o=r.n(n),s=r(9),l=r.n(s),d=r(11),c=r.n(d),u=r(8),h=r.n(u),_=r(4),m=r.n(_),p=r(3),E=r.n(p),f=r(14),y=r.n(f),C=r(2),T=r.n(C),g=r(16),S=r.n(g),D=r(15),v=r.n(D),A=r(1);function _getDecoratorsApi(){_getDecoratorsApi=function(){return e};var e={elementsDefinitionOrder:[["method"],["field"]],initializeInstanceElements:function(e,t){var r;T()(r=["method","field"]).call(r,(function(r){T()(t).call(t,(function(t){t.kind===r&&"own"===t.placement&&this.defineClassElement(e,t)}),this)}),this)},initializeClassElements:function(e,t){var r,i=e.prototype;T()(r=["method","field"]).call(r,(function(r){T()(t).call(t,(function(t){var a=t.placement;if(t.kind===r&&("static"===a||"prototype"===a)){var n="static"===a?e:i;this.defineClassElement(n,t)}}),this)}),this)},defineClassElement:function(e,t){var r=t.descriptor;if("field"===t.kind){var i=t.initializer;r={enumerable:r.enumerable,writable:r.writable,configurable:r.configurable,value:void 0===i?void 0:i.call(e)}}m()(e,t.key,r)},decorateClass:function(e,t){var r=[],i=[],a={static:[],prototype:[],own:[]};if(T()(e).call(e,(function(e){this.addElementPlacement(e,a)}),this),T()(e).call(e,(function(e){if(!_hasDecorators(e))return r.push(e);var t=this.decorateElement(e,a);r.push(t.element),r.push.apply(r,t.extras),i.push.apply(i,t.finishers)}),this),!t)return{elements:r,finishers:i};var n=this.decorateConstructor(r,t);return i.push.apply(i,n.finishers),n.finishers=i,n},addElementPlacement:function(e,t,r){var i=t[e.placement];if(!r&&-1!==h()(i).call(i,e.key))throw new TypeError("Duplicated element ("+e.key+")");i.push(e.key)},decorateElement:function(e,t){for(var r=[],i=[],a=e.decorators,n=a.length-1;n>=0;n--){var o=t[e.placement];c()(o).call(o,h()(o).call(o,e.key),1);var s=this.fromElementDescriptor(e),l=this.toElementFinisherExtras((0,a[n])(s)||s);e=l.element,this.addElementPlacement(e,t),l.finisher&&i.push(l.finisher);var d=l.extras;if(d){for(var u=0;u<d.length;u++)this.addElementPlacement(d[u],t);r.push.apply(r,d)}}return{element:e,finishers:i,extras:r}},decorateConstructor:function(e,t){for(var r=[],i=t.length-1;i>=0;i--){var a=this.fromClassDescriptor(e),n=this.toClassDescriptor((0,t[i])(a)||a);if(void 0!==n.finisher&&r.push(n.finisher),void 0!==n.elements){e=n.elements;for(var o=0;o<e.length-1;o++)for(var s=o+1;s<e.length;s++)if(e[o].key===e[s].key&&e[o].placement===e[s].placement)throw new TypeError("Duplicated element ("+e[o].key+")")}}return{elements:e,finishers:r}},fromElementDescriptor:function(e){var t={kind:e.kind,key:e.key,placement:e.placement,descriptor:e.descriptor};return m()(t,l.a,{value:"Descriptor",configurable:!0}),"field"===e.kind&&(t.initializer=e.initializer),t},toElementDescriptors:function(e){var t;if(void 0!==e)return E()(t=v()(e)).call(t,(function(e){var t=this.toElementDescriptor(e);return this.disallowProperty(e,"finisher","An element descriptor"),this.disallowProperty(e,"extras","An element descriptor"),t}),this)},toElementDescriptor:function(e){var t=String(e.kind);if("method"!==t&&"field"!==t)throw new TypeError('An element descriptor\'s .kind property must be either "method" or "field", but a decorator created an element descriptor with .kind "'+t+'"');var r=_toPropertyKey(e.key),i=String(e.placement);if("static"!==i&&"prototype"!==i&&"own"!==i)throw new TypeError('An element descriptor\'s .placement property must be one of "static", "prototype" or "own", but a decorator created an element descriptor with .placement "'+i+'"');var a=e.descriptor;this.disallowProperty(e,"elements","An element descriptor");var n={kind:t,key:r,placement:i,descriptor:o()({},a)};return"field"!==t?this.disallowProperty(e,"initializer","A method descriptor"):(this.disallowProperty(a,"get","The property descriptor of a field descriptor"),this.disallowProperty(a,"set","The property descriptor of a field descriptor"),this.disallowProperty(a,"value","The property descriptor of a field descriptor"),n.initializer=e.initializer),n},toElementFinisherExtras:function(e){return{element:this.toElementDescriptor(e),finisher:_optionalCallableProperty(e,"finisher"),extras:this.toElementDescriptors(e.extras)}},fromClassDescriptor:function(e){var t={kind:"class",elements:E()(e).call(e,this.fromElementDescriptor,this)};return m()(t,l.a,{value:"Descriptor",configurable:!0}),t},toClassDescriptor:function(e){var t=String(e.kind);if("class"!==t)throw new TypeError('A class descriptor\'s .kind property must be "class", but a decorator created a class descriptor with .kind "'+t+'"');this.disallowProperty(e,"key","A class descriptor"),this.disallowProperty(e,"placement","A class descriptor"),this.disallowProperty(e,"descriptor","A class descriptor"),this.disallowProperty(e,"initializer","A class descriptor"),this.disallowProperty(e,"extras","A class descriptor");var r=_optionalCallableProperty(e,"finisher");return{elements:this.toElementDescriptors(e.elements),finisher:r}},runClassFinishers:function(e,t){for(var r=0;r<t.length;r++){var i=(0,t[r])(e);if(void 0!==i){if("function"!=typeof i)throw new TypeError("Finishers must return a constructor.");e=i}}return e},disallowProperty:function(e,t,r){if(void 0!==e[t])throw new TypeError(r+" can't have a ."+t+" property.")}};return e}function _createElementDescriptor(e){var t,r=_toPropertyKey(e.key);"method"===e.kind?t={value:e.value,writable:!0,configurable:!0,enumerable:!1}:"get"===e.kind?t={get:e.value,configurable:!0,enumerable:!1}:"set"===e.kind?t={set:e.value,configurable:!0,enumerable:!1}:"field"===e.kind&&(t={configurable:!0,writable:!0,enumerable:!0});var i={kind:"field"===e.kind?"field":"method",key:r,placement:e.static?"static":"field"===e.kind?"own":"prototype",descriptor:t};return e.decorators&&(i.decorators=e.decorators),"field"===e.kind&&(i.initializer=e.value),i}function _coalesceGetterSetter(e,t){void 0!==e.descriptor.get?t.descriptor.get=e.descriptor.get:t.descriptor.set=e.descriptor.set}function _hasDecorators(e){return e.decorators&&e.decorators.length}function _isDataDescriptor(e){return void 0!==e&&!(void 0===e.value&&void 0===e.writable)}function _optionalCallableProperty(e,t){var r=e[t];if(void 0!==r&&"function"!=typeof r)throw new TypeError("Expected '"+t+"' to be a function");return r}function _toPropertyKey(e){var t=function _toPrimitive(e,t){if("object"!=typeof e||null===e)return e;var r=e[y.a];if(void 0!==r){var i=r.call(e,t||"default");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}let b=function _decorate(e,t,r,i){var n,o=_getDecoratorsApi();if(i)for(var s=0;s<i.length;s++)o=i[s](o);var l=t((function initialize(e){o.initializeInstanceElements(e,d.elements)}),r),d=o.decorateClass(function _coalesceClassElements(e){for(var t=[],isSameElement=function(e){return"method"===e.kind&&e.key===n.key&&e.placement===n.placement},r=0;r<e.length;r++){var i,n=e[r];if("method"===n.kind&&(i=a()(t).call(t,isSameElement)))if(_isDataDescriptor(n.descriptor)||_isDataDescriptor(i.descriptor)){if(_hasDecorators(n)||_hasDecorators(i))throw new ReferenceError("Duplicated methods ("+n.key+") can't be decorated.");i.descriptor=n.descriptor}else{if(_hasDecorators(n)){if(_hasDecorators(i))throw new ReferenceError("Decorators can't be placed on different accessors with for the same property ("+n.key+").");i.decorators=n.decorators}_coalesceGetterSetter(n,i)}else t.push(n)}return t}(E()(n=l.d).call(n,_createElementDescriptor)),e);return o.initializeClassElements(l.F,d.elements),o.runClassFinishers(l.F,d.finishers)}([Object(A.Bb)([])],(function(e){return{F:class NotificationService{constructor(){e(this),this._notificationListeners=new S.a,this._notificationQueue=[]}},d:[{kind:"get",static:!0,key:"serviceName",value:function serviceName(){return"notificationSrv"}},{kind:"method",key:"addEventListener",value:function addEventListener(e){this._notificationListeners.add(e)}},{kind:"method",key:"removeEventListener",value:function removeEventListener(e){this._notificationListeners.delete(e)}},{kind:"method",key:"showNotification",value:function showNotification(e,t,r){var i;this._notificationQueue.push({message:e,type:t}),T()(i=this._notificationListeners).call(i,(i=>i(e,t,r)))}},{kind:"method",key:"getNotificationQueue",value:function getNotificationQueue(){return this._notificationQueue}},{kind:"method",key:"clearNotificationQueue",value:function clearNotificationQueue(){this._notificationQueue=[]}}]}}))},221:function(e,t,r){"use strict";r.d(t,"a",(function(){return le}));var i=r(9),a=r.n(i),n=r(4),o=r.n(n),s=r(14),l=r.n(s),d=r(144),c=r.n(d),u=r(27),h=r.n(u),_=r(6),m=r.n(_),p=r(58),E=r.n(p),f=r(56),y=r.n(f),C=r(8),T=r.n(C),g=r(20),S=r.n(g),D=r(95),v=r.n(D),A=r(11),b=r.n(A),I=r(12),R=r.n(I),k=r(23),O=r.n(k),w=r(29),L=r.n(w),N=r(22),P=r.n(N),M=r(3),B=r.n(M),F=r(17),G=r.n(F),U=r(21),H=r.n(U),Y=r(16),W=r.n(Y),$=r(19),z=r.n($),V=r(5),x=r.n(V),j=r(2),K=r.n(j),X=r(15),q=r.n(X),J=r(187),Z=r(7),Q=r(0),ee=r(1),te=r(28),re=r(88);function _getDecoratorsApi(){_getDecoratorsApi=function(){return e};var e={elementsDefinitionOrder:[["method"],["field"]],initializeInstanceElements:function(e,t){var r;K()(r=["method","field"]).call(r,(function(r){K()(t).call(t,(function(t){t.kind===r&&"own"===t.placement&&this.defineClassElement(e,t)}),this)}),this)},initializeClassElements:function(e,t){var r,i=e.prototype;K()(r=["method","field"]).call(r,(function(r){K()(t).call(t,(function(t){var a=t.placement;if(t.kind===r&&("static"===a||"prototype"===a)){var n="static"===a?e:i;this.defineClassElement(n,t)}}),this)}),this)},defineClassElement:function(e,t){var r=t.descriptor;if("field"===t.kind){var i=t.initializer;r={enumerable:r.enumerable,writable:r.writable,configurable:r.configurable,value:void 0===i?void 0:i.call(e)}}o()(e,t.key,r)},decorateClass:function(e,t){var r=[],i=[],a={static:[],prototype:[],own:[]};if(K()(e).call(e,(function(e){this.addElementPlacement(e,a)}),this),K()(e).call(e,(function(e){if(!_hasDecorators(e))return r.push(e);var t=this.decorateElement(e,a);r.push(t.element),r.push.apply(r,t.extras),i.push.apply(i,t.finishers)}),this),!t)return{elements:r,finishers:i};var n=this.decorateConstructor(r,t);return i.push.apply(i,n.finishers),n.finishers=i,n},addElementPlacement:function(e,t,r){var i=t[e.placement];if(!r&&-1!==T()(i).call(i,e.key))throw new TypeError("Duplicated element ("+e.key+")");i.push(e.key)},decorateElement:function(e,t){for(var r=[],i=[],a=e.decorators,n=a.length-1;n>=0;n--){var o=t[e.placement];b()(o).call(o,T()(o).call(o,e.key),1);var s=this.fromElementDescriptor(e),l=this.toElementFinisherExtras((0,a[n])(s)||s);e=l.element,this.addElementPlacement(e,t),l.finisher&&i.push(l.finisher);var d=l.extras;if(d){for(var c=0;c<d.length;c++)this.addElementPlacement(d[c],t);r.push.apply(r,d)}}return{element:e,finishers:i,extras:r}},decorateConstructor:function(e,t){for(var r=[],i=t.length-1;i>=0;i--){var a=this.fromClassDescriptor(e),n=this.toClassDescriptor((0,t[i])(a)||a);if(void 0!==n.finisher&&r.push(n.finisher),void 0!==n.elements){e=n.elements;for(var o=0;o<e.length-1;o++)for(var s=o+1;s<e.length;s++)if(e[o].key===e[s].key&&e[o].placement===e[s].placement)throw new TypeError("Duplicated element ("+e[o].key+")")}}return{elements:e,finishers:r}},fromElementDescriptor:function(e){var t={kind:e.kind,key:e.key,placement:e.placement,descriptor:e.descriptor};return o()(t,a.a,{value:"Descriptor",configurable:!0}),"field"===e.kind&&(t.initializer=e.initializer),t},toElementDescriptors:function(e){var t;if(void 0!==e)return B()(t=q()(e)).call(t,(function(e){var t=this.toElementDescriptor(e);return this.disallowProperty(e,"finisher","An element descriptor"),this.disallowProperty(e,"extras","An element descriptor"),t}),this)},toElementDescriptor:function(e){var t=String(e.kind);if("method"!==t&&"field"!==t)throw new TypeError('An element descriptor\'s .kind property must be either "method" or "field", but a decorator created an element descriptor with .kind "'+t+'"');var r=_toPropertyKey(e.key),i=String(e.placement);if("static"!==i&&"prototype"!==i&&"own"!==i)throw new TypeError('An element descriptor\'s .placement property must be one of "static", "prototype" or "own", but a decorator created an element descriptor with .placement "'+i+'"');var a=e.descriptor;this.disallowProperty(e,"elements","An element descriptor");var n={kind:t,key:r,placement:i,descriptor:m()({},a)};return"field"!==t?this.disallowProperty(e,"initializer","A method descriptor"):(this.disallowProperty(a,"get","The property descriptor of a field descriptor"),this.disallowProperty(a,"set","The property descriptor of a field descriptor"),this.disallowProperty(a,"value","The property descriptor of a field descriptor"),n.initializer=e.initializer),n},toElementFinisherExtras:function(e){return{element:this.toElementDescriptor(e),finisher:_optionalCallableProperty(e,"finisher"),extras:this.toElementDescriptors(e.extras)}},fromClassDescriptor:function(e){var t={kind:"class",elements:B()(e).call(e,this.fromElementDescriptor,this)};return o()(t,a.a,{value:"Descriptor",configurable:!0}),t},toClassDescriptor:function(e){var t=String(e.kind);if("class"!==t)throw new TypeError('A class descriptor\'s .kind property must be "class", but a decorator created a class descriptor with .kind "'+t+'"');this.disallowProperty(e,"key","A class descriptor"),this.disallowProperty(e,"placement","A class descriptor"),this.disallowProperty(e,"descriptor","A class descriptor"),this.disallowProperty(e,"initializer","A class descriptor"),this.disallowProperty(e,"extras","A class descriptor");var r=_optionalCallableProperty(e,"finisher");return{elements:this.toElementDescriptors(e.elements),finisher:r}},runClassFinishers:function(e,t){for(var r=0;r<t.length;r++){var i=(0,t[r])(e);if(void 0!==i){if("function"!=typeof i)throw new TypeError("Finishers must return a constructor.");e=i}}return e},disallowProperty:function(e,t,r){if(void 0!==e[t])throw new TypeError(r+" can't have a ."+t+" property.")}};return e}function _createElementDescriptor(e){var t,r=_toPropertyKey(e.key);"method"===e.kind?t={value:e.value,writable:!0,configurable:!0,enumerable:!1}:"get"===e.kind?t={get:e.value,configurable:!0,enumerable:!1}:"set"===e.kind?t={set:e.value,configurable:!0,enumerable:!1}:"field"===e.kind&&(t={configurable:!0,writable:!0,enumerable:!0});var i={kind:"field"===e.kind?"field":"method",key:r,placement:e.static?"static":"field"===e.kind?"own":"prototype",descriptor:t};return e.decorators&&(i.decorators=e.decorators),"field"===e.kind&&(i.initializer=e.value),i}function _coalesceGetterSetter(e,t){void 0!==e.descriptor.get?t.descriptor.get=e.descriptor.get:t.descriptor.set=e.descriptor.set}function _hasDecorators(e){return e.decorators&&e.decorators.length}function _isDataDescriptor(e){return void 0!==e&&!(void 0===e.value&&void 0===e.writable)}function _optionalCallableProperty(e,t){var r=e[t];if(void 0!==r&&"function"!=typeof r)throw new TypeError("Expected '"+t+"' to be a function");return r}function _toPropertyKey(e){var t=function _toPrimitive(e,t){if("object"!=typeof e||null===e)return e;var r=e[l.a];if(void 0!==r){var i=r.call(e,t||"default");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}const ie="https://trello.com",ae="https://api.trello.com/1",ne=["fullName","email"].join(),oe=["name","displayName","logoHash","limits","memberships","prefs","premiumFeatures"].join(),se=["name","closed","shortLink","prefs","premiumFeatures","idOrganization","memberships"].join();let le=function _decorate(e,t,r,i){var a,n=_getDecoratorsApi();if(i)for(var o=0;o<i.length;o++)n=i[o](n);var s=t((function initialize(e){n.initializeInstanceElements(e,l.elements)}),r),l=n.decorateClass(function _coalesceClassElements(e){for(var t=[],isSameElement=function(e){return"method"===e.kind&&e.key===a.key&&e.placement===a.placement},r=0;r<e.length;r++){var i,a=e[r];if("method"===a.kind&&(i=x()(t).call(t,isSameElement)))if(_isDataDescriptor(a.descriptor)||_isDataDescriptor(i.descriptor)){if(_hasDecorators(a)||_hasDecorators(i))throw new ReferenceError("Duplicated methods ("+a.key+") can't be decorated.");i.descriptor=a.descriptor}else{if(_hasDecorators(a)){if(_hasDecorators(i))throw new ReferenceError("Decorators can't be placed on different accessors with for the same property ("+a.key+").");i.decorators=a.decorators}_coalesceGetterSetter(a,i)}else t.push(a)}return t}(B()(a=s.d).call(a,_createElementDescriptor)),e);return n.initializeClassElements(s.F,l.elements),n.runClassFinishers(s.F,l.finishers)}([Object(ee.Bb)(["$injector","$rootScope","$log","$window","$timeout","$interval","$httpParamSerializer","$translate","appCommonSrv","licenseSrv","notificationSrv","platformSrv","settingsSrv","telemetrySrv"])],(function(e){return{F:class TrelloIntegrationService{constructor(t,r,i,a,n,o,s,l,d,c,u,h,_,m){e(this),this._$injector=t,this._$rootScope=r,this._$log=i,this._$window=a,this._$timeout=n,this._$interval=o,this._$httpParamSerializer=s,this._$translate=l,this._appCommonSrv=d,this._licenseSrv=c,this._notificationSrv=u,this._platformSrv=h,this._settingsSrv=_,this._telemetrySrv=m,this._isAuthorizationChecking=!1,this._isMemberInitializing=!1,this._isMemberAvailable=!1,this._isCurrentBoardInitializing=!1,this._isCurrentBoardAvailable=!1,this._isCurrentCardMode=!1,this._$window.addEventListener("beforeunload",(()=>{if(this._authPopup)try{this._authPopup.close()}catch(e){}}));for(const e in this._boardsListeners)this._boardsMap.addEventListener(e,((t,r={})=>{var i,a;r.silent||K()(a=this._boardsListeners[e]).call(a,(e=>e(t,r)));if(!this._currentBoardId)return;if("cleared"===e)return this._$rootScope.$broadcast(Q.n.TimelineResourcesReloaded,{resourcesType:Q.fb.Members}),this._$rootScope.$broadcast(Q.n.TimelineResourcesReloaded,{resourcesType:Q.fb.Calendars}),this._$rootScope.$broadcast(Q.n.TimelineResourcesReloaded,{resourcesType:Q.fb.Lists}),void this._$rootScope.$broadcast(Q.n.TimelineResourcesReloaded,{resourcesType:Q.fb.Labels});let n=x()(i=this.getCurrentBoardConnectedBoards()).call(i,(e=>e.id===t.id));switch(e){case"updated":if(t.closed!==r.oldValue.closed)return this._$rootScope.$broadcast(Q.n.TimelineResourcesReloaded,{resourcesType:Q.fb.Members}),this._$rootScope.$broadcast(Q.n.TimelineResourcesReloaded,{resourcesType:Q.fb.Calendars}),this._$rootScope.$broadcast(Q.n.TimelineResourcesReloaded,{resourcesType:Q.fb.Lists}),void this._$rootScope.$broadcast(Q.n.TimelineResourcesReloaded,{resourcesType:Q.fb.Labels});if(t.id!==this._currentBoardId&&n&&!n.isSelected)return;t.name!==r.oldValue.name&&this._$rootScope.$broadcast(Q.n.TimelineResourcesReloaded,{resourcesType:Q.fb.Calendars}),Object(ee.h)(t.members,r.oldValue.members)||this._$rootScope.$broadcast(Q.n.TimelineResourcesReloaded,{resourcesType:Q.fb.Members}),Object(ee.h)(t.lists,r.oldValue.lists)||this._$rootScope.$broadcast(Q.n.TimelineResourcesReloaded,{resourcesType:Q.fb.Lists}),Object(ee.h)(t.labels,r.oldValue.labels)||this._$rootScope.$broadcast(Q.n.TimelineResourcesReloaded,{resourcesType:Q.fb.Labels});break;case"deleted":if(t.id!==this._currentBoardId&&n&&!n.isSelected)return;this._$rootScope.$broadcast(Q.n.TimelineResourcesReloaded,{resourcesType:Q.fb.Members}),this._$rootScope.$broadcast(Q.n.TimelineResourcesReloaded,{resourcesType:Q.fb.Calendars}),this._$rootScope.$broadcast(Q.n.TimelineResourcesReloaded,{resourcesType:Q.fb.Lists}),this._$rootScope.$broadcast(Q.n.TimelineResourcesReloaded,{resourcesType:Q.fb.Labels})}}));this._$window.document.addEventListener(Q.n.TrelloFiltersChanged,(e=>{this._filtersChangedTimeout&&this._$timeout.cancel(this._filtersChangedTimeout),this._filtersChangedTimeout=this._$timeout((()=>{e.detail===this._currentBoardId&&(this._trelloFilters=null,this._$rootScope.$broadcast(Q.n.FiltersChanged))}),100,!1)})),this._$window.document.addEventListener(Q.n.TrelloSyncUpdate,(e=>{switch(e.detail.typeName){case"Member":for(let t of e.detail.deltas)this._updateByTrelloMemberDelta(t);break;case"Board":for(let t of e.detail.deltas)this._updateByTrelloBoardDelta(t);break;case"List":for(let t of e.detail.deltas)this._updateByTrelloListDelta(t);break;case"Label":for(let t of e.detail.deltas)this._updateByTrelloLabelDelta(t);break;case"CustomField":for(let t of e.detail.deltas)this._updateByTrelloCustomFieldDelta(t)}})),this._$window.document.addEventListener(Q.n.TrelloSyncDelete,(e=>{switch(e.detail.typeName){case"CustomField":for(let t of e.detail.deltas)this._deleteByTrelloCustomFieldDelta(t)}}))}},d:[{kind:"get",static:!0,key:"serviceName",value:function serviceName(){return"trelloIntegrationSrv"}},{kind:"field",key:"_token",value:void 0},{kind:"field",key:"_organizationsMap",value:()=>new z.a},{kind:"field",key:"_boardsMap",value:()=>new re.a("id")},{kind:"field",key:"_listsMap",value:()=>new z.a},{kind:"field",key:"_labelsMap",value:()=>new z.a},{kind:"field",key:"_membersMap",value:()=>new z.a},{kind:"field",key:"_membersByUserNameMap",value:()=>new z.a},{kind:"field",key:"_customFieldsMap",value:()=>new z.a},{kind:"field",key:"_boardsListeners",value:()=>({added:new W.a,updated:new W.a,deleted:new W.a,cleared:new W.a})},{kind:"get",key:"_chatSrv",value:function _chatSrv(){return this._chatSrvLazy||(this._chatSrvLazy=this._$injector.get("chatSrv")),this._chatSrvLazy}},{kind:"get",key:"_iCalIntegrationSrv",value:function _iCalIntegrationSrv(){return this._iCalIntegrationSrvLazy||(this._iCalIntegrationSrvLazy=this._$injector.get("iCalIntegrationSrv")),this._iCalIntegrationSrvLazy}},{kind:"get",key:"_googleIntegrationSrv",value:function _googleIntegrationSrv(){return this._googleIntegrationSrvLazy||(this._googleIntegrationSrvLazy=this._$injector.get("googleIntegrationSrv")),this._googleIntegrationSrvLazy}},{kind:"get",key:"_trelloCardsSrv",value:function _trelloCardsSrv(){return this._trelloCardsSrvLazy||(this._trelloCardsSrvLazy=this._$injector.get("trelloCardsSrv")),this._trelloCardsSrvLazy}},{kind:"method",key:"isAuthorized",value:function isAuthorized(){return!!this._token}},{kind:"method",key:"checkAuthorizationAsync",value:async function checkAuthorizationAsync(){if(this.isAuthorized())return!0;this._checkAuthorizationPromise||(this._checkAuthorizationPromise=(async()=>{let e;try{e=await this._platformSrv.getTrelloTokenAsync()}catch(e){this._$log.error("Planyway failed to get Trello token:"),this._$log.error(e)}let t=await this._checkTrelloTokenAsync(e);this._token=t?e:null;try{await this._platformSrv.setTrelloTokenAsync(this._token)}catch(e){this._$log.error("Planyway failed to set Trello token:"),this._$log.error(e)}})());try{return await this._checkAuthorizationPromise,this.isAuthorized()}finally{this._checkAuthorizationPromise=null}}},{kind:"method",key:"authorizeAsync",value:async function authorizeAsync(e){if(this.isAuthorized())return!0;if(this._authPopup)try{return this._authPopup.focus(),!1}catch(e){}try{if(this._telemetrySrv.logSingleEvent(Q.X.GeneralEvents.AuthRequested),this._appCommonSrv.isInsideTeams()&&this._appCommonSrv.isInsideElectron())e=await new H.a(((e,t)=>{J.initialize((()=>{J.authentication.authenticate({height:720,width:650,url:this.getRequestTrelloTokenUrl(),successCallback:t=>e(t),failureCallback:e=>t("CancelledByUser"===e?Z.t:e)})}))}));else if(!e){let t=this._getReturnUrl(),r=this._getAuthUrl({name:Z.S,return_url:t,callback_method:"postMessage",expiration:"never",scope:"read,write,account"});e=await this._openAuthPopupAsync(r)}this._isAuthorizationChecking=!0;let t=await this._checkTrelloTokenAsync(e);this._token=t?e:null,await this._platformSrv.setTrelloTokenAsync(this._token)}catch(e){if("string"==typeof e&&G()(e).call(e,Z.t))return this._telemetrySrv.logSingleEvent(Q.X.GeneralEvents.AuthRejected),!1;this._$log.error("Trello authorization error:"),this._$log.error(e),this._telemetrySrv.logError("Trello authorization error",e,{class:this.constructor.name,method:this.authorizeAsync.name})}finally{this._isAuthorizationChecking=!1}return this.isAuthorized()?(this._$rootScope.$broadcast(Q.n.TrelloAuthorized),this._platformSrv.reloadAppAsync(!0),this._telemetrySrv.logSingleEvent(Q.X.GeneralEvents.AuthConfirmed),!0):(this._telemetrySrv.logSingleEvent(Q.X.GeneralEvents.AuthRejected),!1)}},{kind:"method",key:"getTrelloToken",value:function getTrelloToken(){return this._token}},{kind:"method",key:"getRequestTrelloTokenUrl",value:function getRequestTrelloTokenUrl(){}},{kind:"method",key:"getTrelloTokenUrl",value:function getTrelloTokenUrl(){}},{kind:"method",key:"initMemberAsync",value:async function initMemberAsync(){if(!await this.checkAuthorizationAsync())return!1;this._initMemberPromise||(this._initMemberPromise=(async()=>await this._loadMemberAsync()?(this._appCommonSrv.applyLocale(this._appCommonSrv.getLocale()),!0):(this._notificationSrv.showNotification(this._$translate.instant("NOTIFICATIONS.LOAD_MEMBER_INFO_ERROR"),Q.A.Error),!1))());try{return this._isMemberInitializing=!0,await this._initMemberPromise}catch(e){return this._$log.error("Planyway member initialization error:"),this._$log.error(e),this._telemetrySrv.logError("Planyway member initialization error",e,{class:this.constructor.name,method:this.initMemberAsync.name}),this._notificationSrv.showNotification(this._$translate.instant("NOTIFICATIONS.PLANYWAY_INITIALIZATION_ERROR"),Q.A.Error),!1}finally{this._isMemberInitializing=!1,this._initMemberPromise=null}}},{kind:"method",key:"isMemberInitializing",value:function isMemberInitializing(){return this._isAuthorizationChecking||this._isMemberInitializing}},{kind:"method",key:"isMemberUnavailable",value:function isMemberUnavailable(){return!this._isMemberAvailable}},{kind:"method",key:"getMemberId",value:function getMemberId(){return this._memberId}},{kind:"method",key:"getMemberName",value:function getMemberName(){return this._memberName}},{kind:"method",key:"getMemberEmail",value:function getMemberEmail(){return this._memberEmail}},{kind:"method",key:"getTrelloOrganizations",value:function getTrelloOrganizations(){var e,t,r;let i={availableBoardsCount:0,canCreatePublicBoards:!1,canCreatePrivateBoards:!1,canCreateOrganizationBoards:!1,canDeletePublicBoards:!1,canDeletePrivateBoards:!1,canDeleteOrganizationBoards:!1,canInviteGuests:!1},a={...i,id:Z.A,type:"personal",name:this._$translate.instant("MENU.PERSONAL_BOARDS"),memberships:new z.a([[this._memberId,Q.rb.Admin]]),boards:[],canCreatePublicBoards:!0,canCreatePrivateBoards:!0,canCreateOrganizationBoards:!0,canDeletePublicBoards:!0,canDeletePrivateBoards:!0,canDeleteOrganizationBoards:!0,canInviteGuests:!0},n={...i,id:Z.H,type:"public",name:this._$translate.instant("MENU.PUBLIC_BOARDS"),memberships:new z.a,boards:[]},o={...i,id:Z.M,type:"starred",name:this._$translate.instant("MENU.STARRED_BOARDS"),memberships:new z.a([[this._memberId,Q.rb.Admin]]),boards:[]},s=[o,a,...B()(e=P()(L()(t=this._organizationsMap).call(t))).call(e,(e=>({...i,...e,type:"real",boards:[]}))),n];for(let e of this.getTrelloBoards())switch(e.starred&&o.boards.push({...e}),e.organizationId){case Z.H:n.boards.push({...e,starredPosition:void 0});break;case Z.A:a.boards.push({...e,starredPosition:void 0});break;default:let t=x()(s).call(s,(t=>t.id===e.organizationId));t&&t.boards.push({...e,starredPosition:void 0})}return O()(r=o.boards).call(r,((e,t)=>e.starredPosition-t.starredPosition)),s}},{kind:"method",key:"getTrelloOrganizationById",value:function getTrelloOrganizationById(e){return this._organizationsMap.get(e)}},{kind:"method",key:"getTrelloBoards",value:function getTrelloBoards(){var e,t;return R()(e=L()(t=this._boardsMap).call(t)).call(e,(e=>!e.closed))}},{kind:"method",key:"getTrelloBoardById",value:function getTrelloBoardById(e){return this._boardsMap.get(e)}},{kind:"method",key:"getTrelloListById",value:function getTrelloListById(e){return this._listsMap.get(e)}},{kind:"method",key:"getTrelloLabelById",value:function getTrelloLabelById(e){return this._labelsMap.get(e)}},{kind:"method",key:"getTrelloMemberById",value:function getTrelloMemberById(e){return this._membersMap.get(e)}},{kind:"method",key:"getMemberByUserName",value:function getMemberByUserName(e){return this._membersByUserNameMap.get(e)}},{kind:"method",key:"getTrelloCustomFieldById",value:function getTrelloCustomFieldById(e){return this._customFieldsMap.get(e)}},{kind:"method",key:"getTrelloFilters",value:function getTrelloFilters(){if(!this._trelloFilters)try{let e=localStorage[`boardCardFilterSettings-${this._currentBoardId}-${this._memberId}`];if(!e)return;let t=JSON.parse(e);this._trelloFilters={keywords:Object(te.h)(t.title),labelIds:t.idLabels||[],memberIds:t.idMembers||[],due:t.due,mode:t.mode||"or"}}catch(e){this._$log.error("Trello filters getting error:"),this._$log.error(e)}return this._trelloFilters}},{kind:"method",key:"initCurrentBoardAsync",value:async function initCurrentBoardAsync(e){try{this._appCommonSrv.setSchedulerButtonBusy(!0);let t=await this.checkAuthorizationAsync();if(e.isCanceled())return;if(!t)return this._appCommonSrv.applyLocale(this._appCommonSrv.getLocale()),await this._settingsSrv.loadSettingsAsync(),this._isCurrentBoardInPreview=!0,void this._$rootScope.$once(Q.n.TrelloAuthorized,(()=>{this.initCurrentBoardAsync(e)}))}finally{e.isCanceled()||this._appCommonSrv.setSchedulerButtonBusy(!1)}try{this._isCurrentBoardInitializing=!0,this._appCommonSrv.setSchedulerBusy(!0),this._appCommonSrv.setSchedulerButtonBusy(!0);let t=!1,r=!1;if(this._lastBoardId)t=!0,await Object(ee.x)(50);else{if(!await this.initMemberAsync())return}if(this._currentBoardId=await this._getCurrentBoardIdAsync(),!this._currentBoardId)return void(this._isCurrentBoardAvailable=!1);if(e.isCanceled())return;this._currentBoardId!==this._lastBoardId&&(this._isCurrentBoardAvailable=!1);let i=this._settingsSrv.currentSettings.getGlobalBoardSettings(this._currentBoardId);this._isCurrentBoardInPreview&&(this._isCurrentBoardInPreview=!1,i.showCalendar=!0,this._settingsSrv.saveGlobalAsync());let a=this._boardsMap.get(this._currentBoardId);if(!a||this._currentBoardId===this._lastBoardId){if(!await this._loadMemberAsync(!0))return void this._notificationSrv.showNotification(this._$translate.instant("NOTIFICATIONS.LOAD_MEMBER_INFO_ERROR"),Q.A.Error);if(a=this._boardsMap.get(this._currentBoardId),!a){if(a=await this.addPublicBoardAsync(this._currentBoardId),!a)return this.changeCurrentBoardAsync(null);r=!0}}0,this._isCurrentBoardAvailable=!0,this._currentBoardId!==this._lastBoardId&&(this._lastBoardId=this._currentBoardId,this._trelloFilters=null),await this.loadBoardsSettingsAsync([this._currentBoardId]);for(let e of a.connectedPublicBoards)await this.addPublicBoardAsync(e.id);this._subscribeTrelloSync(this._currentBoardId);for(let e of this.getCurrentBoardConnectedBoards())e.isSelected&&this._subscribeTrelloSync(e.id);this._trelloCardsSrv.initCurrentBoardAsync(e),this._googleIntegrationSrv.initCurrentBoardAsync(e),this._iCalIntegrationSrv.initCurrentBoardAsync(e),this._isCurrentBoardInitializing=!1;const sendTelemetry=()=>{t&&this._telemetrySrv.logSessionEvent(Q.X.TrelloEvents.BoardSwitched),this._telemetrySrv.logSessionEvent(Q.X.CalendarEvents.Opened),r&&this._telemetrySrv.logSessionEvent(Q.X.CalendarEvents.PublicBoardAdded,{source:"Direct"})};this._appCommonSrv.isSchedulerShown()?sendTelemetry():this._$rootScope.$once(Q.n.SchedulerShown,(()=>{e.isCanceled()||sendTelemetry()}))}catch(e){this._$log.error("Planyway board initialization error:"),this._$log.error(e),this._telemetrySrv.logError("Planyway board initialization error",e,{class:this.constructor.name,method:this.initCurrentBoardAsync.name}),this._notificationSrv.showNotification(this._$translate.instant("NOTIFICATIONS.PLANYWAY_INITIALIZATION_ERROR"),Q.A.Error)}finally{this._appCommonSrv.setSchedulerBusy(!1),e.isCanceled()||(this._appCommonSrv.setSchedulerButtonBusy(!1),this._isCurrentBoardInitializing=!1,this._isCurrentBoardInPreview=!1,this._$rootScope.$broadcast(Q.n.BoardInitialized))}}},{kind:"method",key:"changeCurrentBoardAsync",value:async function changeCurrentBoardAsync(e){this._notificationSrv.clearNotificationQueue(),e?(await this.initCurrentBoardAsync({isCanceled:()=>!1}),this._$rootScope.$broadcast(Q.n.BoardChanged),this._$rootScope.$broadcast(Q.n.SettingsChanged)):this._currentBoardId=null}},{kind:"method",key:"initCurrentCardAsync",value:async function initCurrentCardAsync(e){let t=await this.checkAuthorizationAsync();if(!e.isCanceled()&&t)try{if(this._isCurrentCardMode=!0,!await this.initMemberAsync())return;if(this._currentBoardId=await this._getCurrentBoardIdAsync(),!this._currentBoardId)return;if(e.isCanceled())return;await this.loadBoardsSettingsAsync([this._currentBoardId])}catch(e){this._$log.error("Planyway card initialization error:"),this._$log.error(e),this._telemetrySrv.logError("Planyway card initialization error",e,{class:this.constructor.name,method:this.initCurrentCardAsync.name}),this._notificationSrv.showNotification(this._$translate.instant("NOTIFICATIONS.PLANYWAY_INITIALIZATION_ERROR"),Q.A.Error)}}},{kind:"method",key:"getCurrentBoardConnectedBoards",value:function getCurrentBoardConnectedBoards(){var e,t;let r=this._boardsMap.get(this._currentBoardId);if(!r)return[];let i=this._licenseSrv.checkPaidFeatureAvailable(Q.B.MultiBoard,!1),a=this._settingsSrv.currentSettings.getGlobalBoardSettings(this._currentBoardId).multiBoard,n=r.connectedPublicBoards;return B()(e=R()(t=this.getTrelloBoards()).call(t,(e=>e.id!==this._currentBoardId))).call(e,(e=>{let t={isSelected:!1,isFavorite:!1,showOnlyMemberCards:!1,...a[e.id]};if(r.isPublic&&e.isPublic){let r=x()(n).call(n,(t=>t.id===e.id));if(r)return{...r,isShared:!0,showOnlyMemberCards:t.showOnlyMemberCards}}return{id:e.id,isShared:!1,isSelected:i&&t.isSelected,isFavorite:t.isFavorite||t.isSelected,showOnlyMemberCards:t.showOnlyMemberCards}}))}},{kind:"method",key:"setCurrentBoardConnectedBoards",value:function setCurrentBoardConnectedBoards(e){let t=this._boardsMap.get(this._currentBoardId);if(!t)return;let r=[this._currentBoardId],i=this._settingsSrv.currentSettings.getGlobalBoardSettings(this._currentBoardId).multiBoard,a=[];for(let n of e){n.isSelected&&(r.push(n.id),this._subscribeTrelloSync(n.id));let e=this._boardsMap.get(n.id);!t.isReadOnly&&t.isPublic&&e.isPublic?(n.isSelected||n.isFavorite)&&a.push({id:n.id,isSelected:n.isSelected,isFavorite:n.isFavorite}):i[n.id]={...i[n.id],isSelected:n.isSelected,isFavorite:n.isFavorite,showOnlyMemberCards:n.showOnlyMemberCards}}this._trelloCardsSrv.setBoardsLoad(r),t.connectedPublicBoards=a,this._settingsSrv.saveGlobalAsync(),!t.isReadOnly&&t.isPublic&&this._settingsSrv.saveBoardSettingsAsync(this._currentBoardId,{connectedPublicBoards:a})}},{kind:"method",key:"logOutAsync",value:async function logOutAsync(){await this._platformSrv.setTrelloTokenAsync(null),await this._platformSrv.reloadAppAsync()}},{kind:"method",key:"isCurrentBoardInitializing",value:function isCurrentBoardInitializing(){return this._isAuthorizationChecking||this._isCurrentBoardInitializing}},{kind:"method",key:"isCurrentBoardUnavailable",value:function isCurrentBoardUnavailable(){return!this._isCurrentBoardInPreview&&!this._isCurrentBoardAvailable}},{kind:"method",key:"isCurrentBoardReadOnly",value:function isCurrentBoardReadOnly(){let e=this._boardsMap.get(this._currentBoardId);return!e||e.isReadOnly}},{kind:"method",key:"getCurrentBoardId",value:function getCurrentBoardId(){return this._currentBoardId}},{kind:"method",key:"loadBoardDataAsync",value:function loadBoardDataAsync(e){return this.loadBoardsDataAsync([e])}},{kind:"method",key:"loadBoardsDataAsync",value:async function loadBoardsDataAsync(e){let t=new z.a,[r]=await H.a.all([this._settingsSrv.getBoardsSettingsAsync(e),(async()=>{let r=B()(e).call(e,(e=>`/boards/${e}`));for(;r.length>0;){let e=[];for(let t=0;t<4&&r.length>0;t++)e.push(b()(r).call(r,0,20));try{let r=await H.a.all(B()(e).call(e,(e=>this.batchAsync(e,"Get Trello boards",{fields:se,lists:"open",labels:"all",members:"all",customFields:!0,boardStars:"mine"}))));for(let e of v()(r).call(r))t.set(e.id,e)}catch(e){this._$log.error("Trello load boards data error:"),this._$log.error(e),this._telemetrySrv.logError("Trello load boards data error",e,{class:this.constructor.name,method:this.loadBoardsDataAsync.name})}}})()]);for(let i of e)t.has(i)?this._addOrUpdateBoard(t.get(i),r[i]):this._boardsMap.delete(i)}},{kind:"method",key:"loadBoardsSettingsAsync",value:async function loadBoardsSettingsAsync(e){let t=await this._settingsSrv.getBoardsSettingsAsync(e,!0);for(let a of e){let e=this._boardsMap.get(a),n=t[a];if(e&&n){e.dueLinkType=n.dueLinkType,e.dueLinkTypeAllDay=n.dueLinkTypeAllDay,e.defaultCardIsAllDay=n.defaultCardIsAllDay,e.defaultCardDuration=n.defaultCardDuration;let t=e.defaultListId;var r;if(n.defaultListId)S()(r=e.lists).call(r,(e=>e.id===n.defaultListId))?e.defaultListId=n.defaultListId:(e.defaultListId=void 0,n.defaultListId=void 0);if(t!==e.defaultListId&&this._$rootScope.$broadcast(Q.n.TimelineResourcesReloaded,{resourcesType:Q.fb.Lists}),e.defaultCardPosition=n.defaultCardPosition,n.customFilters){var i;let t=R()(i=n.customFilters).call(i,(t=>{var r,i;switch(t.targetType){case Q.m.CustomField:let a=x()(r=e.customFields).call(r,(e=>e.id===t.targetId));if(!a)return!1;switch(a.type){case Q.pb.List:return!!x()(i=a.options).call(i,(e=>e.id===t.value));case Q.pb.Checkbox:return!0}}}));e.customFilters=t,n.customFilters=t}e.connectedPublicBoards=n.connectedPublicBoards}}}},{kind:"method",key:"checkPublicBoardAsync",value:async function checkPublicBoardAsync(e){var t,r;let i=x()(t=L()(r=this._boardsMap).call(r)).call(t,(t=>t.id===e||t.shortId===e));if(i)return i;try{let t=await this.restAsync(Q.L.Get,`/boards/${e}`,"Get Trello public board",{fields:"name,closed"});if(!t.closed)return{id:t.id,name:t.name}}catch(e){this._$log.error("Trello check public board error:"),this._$log.error(e),this._telemetrySrv.logError("Trello check public board error",e,{class:this.constructor.name,method:this.checkPublicBoardAsync.name})}}},{kind:"method",key:"addPublicBoardAsync",value:async function addPublicBoardAsync(e){let t=this._boardsMap.get(e);if(t)return t;if(await this.loadBoardDataAsync(e),t=this._boardsMap.get(e),t){var r;let i=this._settingsSrv.currentSettings.global;return S()(r=i.publicBoardIds).call(r,(t=>t===e))||(i.publicBoardIds.push(e),this._settingsSrv.saveGlobalAsync()),t}}},{kind:"method",key:"removePublicBoard",value:function removePublicBoard(e){var t;this._boardsMap.delete(e);let r=this._settingsSrv.currentSettings.global,i=T()(t=r.publicBoardIds).call(t,e);var a;-1!==i&&(b()(a=r.publicBoardIds).call(a,i,1),this._settingsSrv.saveGlobalAsync())}},{kind:"method",key:"createTrelloBoardAsync",value:async function createTrelloBoardAsync(e){let{id:t}=await this.restAsync(Q.L.Post,"/boards","Create Trello board",{name:e.name,idOrganization:e.organizationId,prefs_permissionLevel:e.permissionLevel,prefs_comments:e.isCommentsPublic?"public":"members",prefs_background:e.color,defaultLists:!1});return t}},{kind:"method",key:"updateTrelloBoardAsync",value:async function updateTrelloBoardAsync(e,t){let r=await this.restAsync(Q.L.PutForm,`/boards/${e}`,"Update Trello board",{name:t.name,"prefs/permissionLevel":t.permissionLevel,"prefs/comments":t.isCommentsPublic?"public":"members",closed:t.closed,"prefs/background":t.color}),i={...this._boardsMap.get(e),name:r.name,permissionLevel:r.prefs.permissionLevel,isPublic:r.prefs.permissionLevel===Q.mb.Public,isCommentsPublic:"public"===r.prefs.comments,closed:r.closed,color:r.prefs.backgroundColor&&r.prefs.background||"default",imageUrls:this._getBoardImageUrls(r.prefs)};return this._boardsMap.update(i),this._$rootScope.$broadcast(Q.n.TimelineResourcesReloaded,{resourcesType:this._appCommonSrv.getTimelineResourcesType()}),i}},{kind:"method",key:"addTrelloBoardEventListener",value:function addTrelloBoardEventListener(e,t){let r=this._boardsListeners[e];if(!r)throw new Error(`Unsupported event type: ${e}`);r.add(t)}},{kind:"method",key:"removeTrelloBoardEventListener",value:function removeTrelloBoardEventListener(e,t){let r=this._boardsListeners[e];if(!r)throw new Error(`Unsupported event type: ${e}`);r.delete(t)}},{kind:"method",key:"addMemberToBoardAsync",value:async function addMemberToBoardAsync(e,t,r="normal"){await this.restAsync(Q.L.Put,`/boards/${e}/members/${t}`,"Add Trello member to board",{type:r,allowBillableGuest:!0}),await this.loadBoardDataAsync(e)}},{kind:"method",key:"inviteMemberToBoardAsync",value:async function inviteMemberToBoardAsync(e,t,r="normal"){var i;let a=t.split("@")[0],n=await this.restAsync(Q.L.Put,`/boards/${e}/members`,"Invite Trello member to board",{email:t,type:r,fullName:a,allowBillableGuest:!0});await this.loadBoardDataAsync(e);let o=x()(i=n.members).call(i,(e=>e.fullName===a&&!1===e.confirmed&&"ghost"===e.memberType&&e.idMemberReferrer===this._memberId));return null==o?void 0:o.id}},{kind:"method",key:"removeMemberFromBoardAsync",value:async function removeMemberFromBoardAsync(e,t){await this.restAsync(Q.L.Delete,`/boards/${e}/members/${t}`,"Remove Trello member from board"),await this.loadBoardDataAsync(e),this._$rootScope.$broadcast(Q.n.CardsReloadRequested),this._trelloCardsSrv.needReloadCalendarCards(),this._$rootScope.$broadcast(Q.n.CardsReloaded)}},{kind:"method",key:"searchMembersAsync",value:async function searchMembersAsync(e){var t;let r;if(/^([0-9a-f]{24})$/.test(e))try{r=[await this.restAsync(Q.L.Get,`/member/${e}`,"Get Trello member by ID")]}catch(e){r=[]}else r=await this.restAsync(Q.L.Get,"/search/members","Search Trello members",{query:e,limit:10});return R()(t=B()(r).call(r,(e=>e.id?{...this._fromTrelloMember(e),similarity:e.similarity||0}:e.email?{id:e.email,email:e.email,userName:e.email,fullName:e.email,initials:e.email.substr(0,1).toUpperCase(),similarity:e.similarity||0}:void 0))).call(t,(e=>e))}},{kind:"method",key:"createTrelloListAsync",value:async function createTrelloListAsync(e,t){const r=await this.restAsync(Q.L.Post,"/lists","Create Trello list",{idBoard:e,name:t.name,pos:t.position});let i=this._fromTrelloList(r);this._listsMap.set(i.id,i);let a=this._boardsMap.get(e);if(a){let e={...a};e.lists=[...a.lists,i],this._boardsMap.update(e)}return i}},{kind:"method",key:"updateTrelloListAsync",value:async function updateTrelloListAsync(e,t){const r=await this.restAsync(Q.L.Put,`/lists/${e}`,"Update Trello list",{name:t.name,pos:t.position});let i=this._fromTrelloList(r),a=this._boardsMap.get(i.boardId);if(a){var n;let e={...a};e.lists=[...a.lists];let t=y()(n=e.lists).call(n,(e=>e.id===i.id));if(-1!==t){var o;let r={...e.lists[t]};r.name=i.name,r.position=i.position,b()(o=e.lists).call(o,t,1,r),this._boardsMap.update(e)}}let s=this._listsMap.get(i.id);return s&&(s.name=i.name,s.position=i.position,this._$rootScope.$broadcast(Q.n.TimelineResourcesReloaded,{resourcesType:Q.fb.Lists})),i}},{kind:"method",key:"deleteTrelloListAsync",value:async function deleteTrelloListAsync(e){var t;await this.restAsync(Q.L.Put,`/lists/${e}/closed`,"Delete Trello list",{value:!0});const r=null===(t=this._listsMap.get(e))||void 0===t?void 0:t.boardId;this._listsMap.delete(e);let i=this._boardsMap.get(r);if(i){var a;let t={...i};t.lists=R()(a=i.lists).call(a,(t=>t.id!==e)),this._boardsMap.update(t)}}},{kind:"method",key:"getOrCreateTrelloLabel",value:function getOrCreateTrelloLabel(e,t,r){let i=this.getTrelloBoardById(e).labels,a=x()(i).call(i,(e=>e.color===t&&e.name===r));if(a)return a;let n=`${e}-${t}-${r}`;return a=this.getTrelloLabelById(n),a||(a={id:n,boardId:e,color:t,name:r,isTempLabel:!0},this._labelsMap.set(n,a)),a}},{kind:"method",key:"createTrelloLabelAsync",value:function createTrelloLabelAsync(e){if(e===Z.k)return;let t,r,i=this.getTrelloLabelById(e);if(i){if(!i.isTempLabel)return i;i.getLabelPromise||(t=this.restAsync(Q.L.Post,"/labels","Create Trello label",{name:i.name||"",color:i.color,idBoard:i.boardId}),r={forTelemetry:"NOTIFICATIONS.CREATE_TRELLO_LABEL_ERROR",forNotification:"Create Trello label error"})}else i={id:e,isTempLabel:!0},this._labelsMap.set(e,i),t=this.restAsync(Q.L.Get,`/labels/${e}`,"Get Trello label"),r={forTelemetry:"Load Trello label error",forNotification:"NOTIFICATIONS.LOAD_TRELLO_LABEL_ERROR"};return i.getLabelPromise||(i.getLabelPromise=(async()=>{try{var e;let r=await t,a={id:r.id,boardId:r.idBoard,name:r.name,color:r.color};this._labelsMap.set(a.id,a);let n={...this.getTrelloBoardById(a.boardId)};var i;if(E()(e=n.labels).call(e,(e=>e.id!==a.id)))n.labels=O()(i=[...n.labels,a]).call(i,ee.p),this._boardsMap.update(n);return a}catch(e){this._$log.error(r.forTelemetry),this._$log.error(e),this._telemetrySrv.logError(r.forTelemetry,e,{class:this.constructor.name,method:this.createTrelloLabelAsync.name}),this._notificationSrv.showNotification(this._$translate.instant(r.forNotification),Q.A.Error)}})()),i.getLabelPromise}},{kind:"method",key:"fireKeydownEvent",value:function fireKeydownEvent(e){this._$window.document.dispatchEvent(new CustomEvent(Q.n.TrelloFireKeyRequested,{detail:{key:e,event:"keydown"}}))}},{kind:"method",key:"extractCardIds",value:function extractCardIds(e){try{var t;let r=e.attr("href");if(r){let e=r.match(/^\/c\/(\w+)/);if(e)return{shortId:e[1]};if(e=r.match(/^\/card\/board\/-\/[0-9a-f]{24}\/([0-9a-f]{24})/),e)return{id:e[1]}}let i=new Error("Unable to extract Trello IDs from card");throw i.card=null===(t=e[0])||void 0===t?void 0:t.outerHTML,i}catch(e){this._$log.error("Trello extract card IDs error:"),this._$log.error(e),this._telemetrySrv.logError("Trello extract card IDs error",e,{class:this.constructor.name,method:this.extractCardIds.name})}}},{kind:"method",key:"getCurrentCardIdAsync",value:function getCurrentCardIdAsync(){}},{kind:"method",key:"restAsync",value:async function restAsync(e,t,r,i,a=3,n){let o={query:{key:Z.R,token:this._token},maxRetryCount:a,onProgress:n};switch(e){case Q.L.Get:m()(o.query,i);break;case Q.L.Delete:o.headers={"Content-Type":"application/json"};break;default:o.body=i}let s,l=this._telemetrySrv.logRequest(r,e,ae+t,{...o.query,...o.body}),d=200;try{return await this._platformSrv.restAsync(e,ae+t,o)}catch(e){throw d=e.status,s=e,e}finally{this._telemetrySrv.logRequestEnd(l,d,s)}}},{kind:"method",key:"batchAsync",value:async function batchAsync(e,t,r,i={}){let{maxRetryCount:a=3,keepResultPlacement:n}=i;if(r){r.constructor!==Array&&(r=[r]);let t=B()(r).call(r,(e=>{for(let t in e)e[t]=encodeURIComponent(e[t]);return decodeURIComponent(this._$httpParamSerializer(e))}));e=B()(e).call(e,((e,r)=>`${e}?${t[r<t.length?r:t.length-1]}`))}let o=await this.restAsync(Q.L.Get,`/batch/?urls=${encodeURIComponent(e.join())}`,t,null,a),s=[];for(let e of o){let r=e[200];if(r)s.push(r);else{n&&s.push(null);let r=new Error(`Batch request error, message: ${h()(e.message)}, code: "${e.statusCode}"`);this._$log.error(`${t} batch error:`),this._$log.error(r),this._telemetrySrv.logError(`${t} batch error`,r,{class:this.constructor.name,method:this.batchAsync.name})}}return s}},{kind:"method",key:"_loadMemberAsync",value:async function _loadMemberAsync(e=!1){this._loadMemberPromise||(this._loadMemberPromise=(async()=>{if(this._isMemberLoaded&&!e)return!0;try{this._isMemberLoaded=!1;let e,n,o=await this.restAsync(Q.L.Get,"/member/me","Get Trello member me",{fields:ne,organizations:"all",organization_fields:oe,boards:"all",board_fields:"id",channels:!0});if(this._memberId=o.id,this._memberName=o.fullName,this._memberEmail=o.email,this._appCommonSrv.initABTest(this._memberId),this._oldLocale=this._appCommonSrv.getLocale(),this._isCurrentCardMode||(await H.a.all([this._settingsSrv.loadSettingsAsync(),this._licenseSrv.loadLicenseAsync()]),this._chatSrv.initializeChatAsync()),this._organizationsMap=new z.a,o.organizations){var t,r;let e=O()(t=B()(r=o.organizations).call(r,(e=>{var t;let r=new z.a(B()(t=e.memberships).call(t,(({idMember:e,memberType:t})=>[e,t]))),i=r.get(o.id)===Q.rb.Admin,a=e.premiumFeatures.length?c.a:e.limits.orgs.freeBoardsPerOrg.disableAt-(e.limits.orgs.freeBoardsPerOrg.count||0);return{id:e.id,name:e.displayName,logoUrlSmall:e.logoHash&&`${Z.T}/${e.logoHash}/30.png`,logoUrlNormal:e.logoHash&&`${Z.T}/${e.logoHash}/50.png`,memberships:r,availableBoardsCount:a,canCreatePublicBoards:i||"org"===e.prefs.boardVisibilityRestrict.public,canCreatePrivateBoards:i||"org"===e.prefs.boardVisibilityRestrict.private,canCreateOrganizationBoards:i||"org"===e.prefs.boardVisibilityRestrict.org,canDeletePublicBoards:i||"org"===e.prefs.boardDeleteRestrict.public,canDeletePrivateBoards:i||"org"===e.prefs.boardDeleteRestrict.private,canDeleteOrganizationBoards:i||"org"===e.prefs.boardDeleteRestrict.org,canInviteGuests:"any"===e.prefs.boardInviteRestrict}}))).call(t,((e,t)=>Object(ee.j)(e.name,t.name)));for(let t of e)this._organizationsMap.set(t.id,t)}if(this._isCurrentCardMode){let t=await this._getCurrentBoardIdAsync();e=t?[t]:[],n=[]}else{var i,a;e=B()(i=o.boards).call(i,(e=>e.id)),n=R()(a=this._settingsSrv.currentSettings.global.publicBoardIds).call(a,(t=>!G()(e).call(e,t))),e.push(...n)}await this.loadBoardsDataAsync(e);let s=R()(n).call(n,(e=>this._boardsMap.has(e)));s.length!==n.length&&(this._settingsSrv.currentSettings.global.publicBoardIds=s,this._settingsSrv.saveGlobalAsync()),this._platformSrv.setMemberInfoAsync({memberId:this._memberId,memberName:this._memberName,memberEmail:this._memberEmail}),this._isMemberLoaded=!0,this._isMemberAvailable=!0}catch(e){this._$log.error("Trello load member info error:"),this._$log.error(e),this._telemetrySrv.logError("Trello load member info error",e,{class:this.constructor.name,method:this._loadMemberAsync.name}),this._isMemberAvailable=!1}return this._isMemberLoaded})());try{let e=await this._loadMemberPromise;if(e){const e=this._appCommonSrv.getLocale();this._appCommonSrv.checkReloadLocaleRequired(this._oldLocale,e)}return e}finally{this._loadMemberPromise=null}}},{kind:"method",key:"_addOrUpdateBoard",value:function _addOrUpdateBoard(e,t){var r,i,a,n,o,s,l,d,c,u;let h=e.id,_=x()(r=e.boardStars).call(r,(e=>e.idBoard===h)),m=this._organizationsMap.get(e.idOrganization),p={id:h,shortId:e.shortLink,isReadOnly:!(null!==(i=e.members)&&void 0!==i&&S()(i).call(i,(e=>e.id===this._memberId))),permissionLevel:e.prefs.permissionLevel,invitationLevel:e.prefs.invitations,isPublic:e.prefs.permissionLevel===Q.mb.Public,isCommentsPublic:"public"===e.prefs.comments,closed:e.closed||!1,starred:!!_,starredPosition:null==_?void 0:_.pos,name:e.name,color:e.prefs.backgroundColor&&e.prefs.background||"default",imageUrls:this._getBoardImageUrls(e.prefs),premiumFeatures:e.premiumFeatures,memberships:new z.a(B()(a=e.memberships).call(a,(({idMember:e,memberType:t})=>((null==m?void 0:m.memberships.get(e))===Q.rb.Admin&&(t=Q.rb.Admin),[e,t])))),lists:O()(n=B()(o=e.lists||[]).call(o,(e=>({id:e.id,boardId:h,name:e.name,position:e.pos})))).call(n,ee.q),labels:O()(s=B()(l=e.labels||[]).call(l,(e=>({id:e.id,boardId:h,name:e.name,color:e.color})))).call(s,ee.p),members:B()(d=e.members||[]).call(d,(e=>this._fromTrelloMember(e))),customFields:O()(c=B()(u=e.customFields||[]).call(u,(e=>{var t,r;return{id:e.id,boardId:h,name:e.name,type:e.type,position:e.pos,options:e.options&&O()(t=B()(r=e.options).call(r,(e=>({id:e.id,name:e.value.text,color:e.color,position:e.pos})))).call(t,((e,t)=>e.position-t.position))}}))).call(c,ee.o),cardDataCustomFieldId:this._getBoardCardDataCustomFieldId(e.customFields),organizationId:e.idOrganization,dueLinkType:t.dueLinkType,dueLinkTypeAllDay:t.dueLinkTypeAllDay,defaultCardIsAllDay:t.defaultCardIsAllDay,defaultCardDuration:t.defaultCardDuration,defaultCardPosition:t.defaultCardPosition,connectedPublicBoards:t.connectedPublicBoards};var E;(p.isReadOnly?p.organizationId=Z.H:e.idOrganization&&this._organizationsMap.has(e.idOrganization)?p.organizationId=e.idOrganization:p.organizationId=Z.A,t.defaultListId)&&(S()(E=p.lists).call(E,(e=>e.id===t.defaultListId))?p.defaultListId=t.defaultListId:t.defaultListId=void 0);if(t.customFilters){var f;let e=R()(f=t.customFilters).call(f,(e=>{var t,r;switch(e.targetType){case Q.m.CustomField:let i=x()(t=p.customFields).call(t,(t=>t.id===e.targetId));if(!i)return!1;switch(i.type){case Q.pb.List:return!!x()(r=i.options).call(r,(t=>t.id===e.value));case Q.pb.Checkbox:return!0}}}));p.customFilters=e,t.customFilters=e}for(let e of p.lists)this._listsMap.set(e.id,e);for(let e of p.labels)this._labelsMap.set(e.id,e);for(let e of p.members)this._membersMap.set(e.id,e),this._membersByUserNameMap.set(e.userName,e);for(let e of p.customFields)this._customFieldsMap.set(e.id,e);let y=this._boardsMap.get(h);y?p.isReadOnly===y.isReadOnly&&p.permissionLevel===y.permissionLevel&&p.invitationLevel===y.invitationLevel&&p.isCommentsPublic===y.isCommentsPublic&&p.closed===y.closed&&p.starred===y.starred&&p.starredPosition===y.starredPosition&&p.name===y.name&&p.color===y.color&&Object(ee.Cb)(p.imageUrls,y.imageUrls)&&Object(ee.h)(p.premiumFeatures,y.premiumFeatures)&&Object(ee.vb)(p.memberships,y.memberships)&&Object(ee.h)(p.lists,y.lists)&&Object(ee.h)(p.labels,y.labels)&&Object(ee.h)(p.members,y.members)&&Object(ee.h)(p.customFields,y.customFields)&&p.cardDataCustomFieldId===y.cardDataCustomFieldId&&p.organizationId===y.organizationId&&p.dueLinkType===y.dueLinkType&&p.dueLinkTypeAllDay===y.dueLinkTypeAllDay&&p.defaultCardIsAllDay===y.defaultCardIsAllDay&&p.defaultCardDuration===y.defaultCardDuration&&p.defaultListId===y.defaultListId&&p.defaultCardPosition===y.defaultCardPosition&&Object(ee.h)(p.customFilters,y.customFilters)&&Object(ee.h)(p.connectedPublicBoards,y.connectedPublicBoards)||this._boardsMap.update(p):this._boardsMap.add(p)}},{kind:"method",key:"_getBoardImageUrls",value:function _getBoardImageUrls(e){if(e){var t;if(!e.backgroundImageScaled)return{[Q.kb.Small]:e.backgroundImage,[Q.kb.Medium]:e.backgroundImage};O()(t=e.backgroundImageScaled).call(t,((e,t)=>e.width-t.width));let r=Math.floor((e.backgroundImageScaled.length-1)/2);return{[Q.kb.Small]:e.backgroundImageScaled[0].url,[Q.kb.Medium]:e.backgroundImageScaled[r].url}}return{}}},{kind:"method",key:"_getBoardCardDataCustomFieldId",value:function _getBoardCardDataCustomFieldId(e){var t;if(e)return null===(t=x()(e).call(e,(e=>e.type===Q.pb.Text&&te.c.test(e.name))))||void 0===t?void 0:t.id}},{kind:"method",key:"_getCurrentBoardIdAsync",value:async function _getCurrentBoardIdAsync(){if(/^\/b\//.test(this._$window.location.pathname)){var e;let t=this._$window.location.pathname.match(/^\/b\/(\w+)/);if(!t||t.length<2)throw new Error(`Cannot extract current board id from location! Location: ${window.location.pathname}`);let r=t[1],i=x()(e=this._boardsMap).call(e,(e=>e.shortId===r));return i?i.id:(await this.restAsync(Q.L.Get,`/boards/${r}`,"Get Trello board by short ID")).id}if(/^\/c\//.test(this._$window.location.pathname)){let e=this._$window.location.pathname.match(/^\/c\/(\w+)/);if(!e||e.length<2)throw new Error(`Cannot extract current card id from location! Location: ${window.location.pathname}`);let t=e[1];return(await this.restAsync(Q.L.Get,`/cards/${t}`,"Get Trello card by short ID",{fields:"idBoard"})).idBoard}}},{kind:"method",key:"_subscribeTrelloSync",value:function _subscribeTrelloSync(e){this._$window.document.dispatchEvent(new CustomEvent(Q.n.TrelloSyncSubscribeRequested,{detail:e}))}},{kind:"method",key:"_updateByTrelloMemberDelta",value:function _updateByTrelloMemberDelta(e){if(e.idBoards){var t;if(S()(t=e.idBoards).call(t,(e=>!this._boardsMap.has(e)||this._boardsMap.get(e).isReadOnly)))this._loadMemberAsync(!0);else for(let t of L()(r=this._boardsMap).call(r)){var r,i;t.isReadOnly||G()(i=e.idBoards).call(i,t.id)||this._boardsMap.delete(t.id)}}}},{kind:"method",key:"_updateByTrelloBoardDelta",value:function _updateByTrelloBoardDelta(e){let t=this._boardsMap.get(e.id);if(!t)return;let r={...t},i=!1,a=this._organizationsMap.get(r.organizationId);void 0!==e.closed&&e.closed!==t.closed&&(r.closed=e.closed,i=!0),e.name&&e.name!==t.name&&(r.name=e.name,i=!0);let n=e.prefs;if(n){n.permissionLevel!==t.permissionLevel&&(r.permissionLevel=n.permissionLevel,r.isPublic=n.permissionLevel===Q.mb.Public,i=!0),n.invitations!==t.invitationLevel&&(r.invitationLevel=n.invitations,i=!0);let e="public"===n.comments;e!==t.isCommentsPublic&&(r.isCommentsPublic=e,i=!0),n.background!==t.color&&(r.color=n.background,i=!0);let a=this._getBoardImageUrls(n);Object(ee.Cb)(a,t.imageUrls)||(r.imageUrls=a,i=!0)}let o=e.premiumFeatures;if(o&&(Object(ee.h)(o,t.premiumFeatures)||(r.premiumFeatures=o,i=!0)),e.memberships){var s;let n=new z.a(B()(s=e.memberships).call(s,(({idMember:e,memberType:t})=>((null==a?void 0:a.memberships.get(e))===Q.rb.Admin&&(t=Q.rb.Admin),[e,t]))));Object(ee.vb)(n,t.memberships)||(r.newMemberships=n,i=!0)}if(e.members){var l;let a=B()(l=e.members).call(l,(e=>this._fromTrelloMember(e)));if(!Object(ee.h)(a,t.members)){for(let e of a)this._membersMap.set(e.id,e),this._membersByUserNameMap.set(e.userName,e);r.isReadOnly=!S()(a).call(a,(e=>e.id===this._memberId)),r.members=a,i=!0}}if(e.customFields){var d;let a=B()(d=e.customFields).call(d,(t=>{var r,i;return{id:t.id,boardId:e.id,name:t.name,type:t.type,options:t.options&&O()(r=B()(i=t.options).call(i,(e=>({id:e.id,name:e.value.text,color:e.color,position:e.pos})))).call(r,((e,t)=>e.position-t.position))}}));if(!Object(ee.h)(a,t.customFields)){var c;for(let e of a)this._customFieldsMap.set(e.id,e);r.customFields=a,O()(c=r.customFields).call(c,ee.o),r.cardDataCustomFieldId=this._getBoardCardDataCustomFieldId(e.customFields),i=!0}}i&&this._boardsMap.update(r)}},{kind:"method",key:"_updateByTrelloListDelta",value:function _updateByTrelloListDelta(e){let t=this._boardsMap.get(e.idBoard);if(!t)return;t={...t,lists:[...t.lists],labels:[...t.labels],members:[...t.members],customFields:[...t.customFields]};let r=!1;if(e.closed){var i;this._listsMap.delete(e.id),t.lists=R()(i=t.lists).call(i,(t=>t.id!==e.id)),r=!0}else{let i=this._listsMap.get(e.id);if(i){let s={...i},l=!1;if(void 0!==e.name&&e.name!==i.name&&(s.name=e.name,l=!0),void 0!==e.pos&&e.pos!==i.position&&(s.position=e.pos,l=!0),void 0!==e.idBoard&&e.idBoard!==i.boardId){let t=this._boardsMap.get(i.boardId);var a;if(t)t.lists=R()(a=t.lists).call(a,(t=>t.id!==e.id)),this._boardsMap.update(t);s.boardId=e.idBoard,l=!0}var n,o;if(l)this._listsMap.set(s.id,s),t.lists=R()(n=t.lists).call(n,(t=>t.id!==e.id)),t.lists.push(s),O()(o=t.lists).call(o,ee.q),r=!0}else if(void 0!==e.name&&void 0!==e.pos){var s;let i={id:e.id,boardId:e.idBoard,name:e.name,position:e.pos};this._listsMap.set(i.id,i),t.lists.push(i),O()(s=t.lists).call(s,ee.q),r=!0}}r&&this._boardsMap.update(t)}},{kind:"method",key:"_updateByTrelloLabelDelta",value:function _updateByTrelloLabelDelta(e){let t=this._boardsMap.get(e.idBoard);if(!t)return;t={...t,lists:[...t.lists],labels:[...t.labels],members:[...t.members],customFields:[...t.customFields]};let r=!1,i=this._labelsMap.get(e.id);if(i){let o={...i},s=!1;var a,n;if(void 0!==e.name&&e.name!==i.name&&(o.name=e.name,s=!0),void 0!==e.color&&e.color!==i.color&&(o.color=e.color,s=!0),s)this._labelsMap.set(o.id,o),t.labels=R()(a=t.labels).call(a,(e=>e.id!==o.id)),t.labels.push(o),O()(n=t.labels).call(n,ee.p),r=!0}else if(void 0!==e.name&&void 0!==e.color){var o;let i={id:e.id,boardId:e.idBoard,name:e.name,color:e.color};this._labelsMap.set(i.id,i),t.labels.push(i),O()(o=t.labels).call(o,ee.p),r=!0}r&&this._boardsMap.update(t)}},{kind:"method",key:"_updateByTrelloCustomFieldDelta",value:function _updateByTrelloCustomFieldDelta(e){let t=this.getTrelloBoardById(e.idModel);if(!t)return;t={...t,lists:[...t.lists],labels:[...t.labels],members:[...t.members],customFields:[...t.customFields]};let r=!1,i=this._customFieldsMap.get(e.id);if(i){let l={...i},d=!1;if(void 0!==e.name&&e.name!==i.name&&(l.name=e.name,d=!0),void 0!==e.type&&e.type!==i.type&&(l.type=e.type,d=!0),void 0!==e.options){var a,n;let t=O()(a=B()(n=e.options).call(n,(e=>({id:e.id,name:e.value.text,color:e.color,position:e.pos})))).call(a,((e,t)=>e.position-t.position));Object(ee.h)(t,i.options)||(l.options=t,d=!0)}var o,s;if(d)this._customFieldsMap.set(l.id,l),t.customFields=R()(o=t.customFields).call(o,(e=>e.id!==l.id)),t.customFields.push(l),O()(s=t.customFields).call(s,ee.o),t.cardDataCustomFieldId=this._getBoardCardDataCustomFieldId(t.customFields),r=!0}else if(void 0!==e.name&&void 0!==e.type){var l,d,c;let i={id:e.id,boardId:e.idModel,name:e.name,type:e.type,options:e.options&&O()(l=B()(d=e.options).call(d,(e=>({id:e.id,name:e.value.text,color:e.color,position:e.pos})))).call(l,((e,t)=>e.position-t.position))};this._customFieldsMap.set(i.id,i),t.customFields.push(i),O()(c=t.customFields).call(c,ee.o),t.cardDataCustomFieldId=this._getBoardCardDataCustomFieldId(t.customFields),r=!0}r&&this._boardsMap.update(t)}},{kind:"method",key:"_deleteByTrelloCustomFieldDelta",value:function _deleteByTrelloCustomFieldDelta(e){var t;let r=this._customFieldsMap.get(e.id);if(!r)return;this._customFieldsMap.delete(r.id);let i=this.getTrelloBoardById(r.boardId);i&&(i.customFields=R()(t=i.customFields).call(t,(e=>e.id!==r.id)),i.cardDataCustomFieldId=this._getBoardCardDataCustomFieldId(i.customFields),this._boardsMap.update(i))}},{kind:"method",key:"_fromTrelloMember",value:function _fromTrelloMember(e){return{id:e.id,userName:e.username,fullName:e.fullName,initials:e.initials,avatarUrlSmall:e.avatarUrl&&`${e.avatarUrl}/30.png`,avatarUrlNormal:e.avatarUrl&&`${e.avatarUrl}/50.png`}}},{kind:"method",key:"_fromTrelloList",value:function _fromTrelloList(e){return{id:e.id,boardId:e.idBoard,name:e.name,position:e.pos}}},{kind:"method",key:"_getReturnUrl",value:function _getReturnUrl(){let e=/^[a-z]+:\/\/[^/]*/.exec(this._$window.location);if(e)return e[0]}},{kind:"method",key:"_getAuthUrl",value:function _getAuthUrl(e){return m()(e,{response_type:"token",key:Z.R}),`https://trello.com/1/authorize?${this._$httpParamSerializer(e)}`}},{kind:"method",key:"_openAuthPopupAsync",value:async function _openAuthPopupAsync(e){let t=this._$window.screenX+(this._$window.innerWidth-650)/2,r=this._$window.screenY+(this._$window.innerHeight-720)/2;if(this._authPopup=this._$window.open(e,"PlanywayAuthWindow",`width=650,height=720,left=${t},top=${r}`),!this._authPopup)throw new Error("Cannot open Trello auth popup!");try{return await new H.a(((e,t)=>{try{const r=this._$interval((()=>{if(this._authPopup)try{this._authPopup.closed&&(this._$interval.cancel(r),e())}catch(t){this._$interval.cancel(r),e()}}),200,0,!1),onMessageReceived=i=>{if(i.origin===ie&&i.source===this._authPopup){this._$interval.cancel(r),this._$window.removeEventListener("message",onMessageReceived);try{this._authPopup.close()}catch(e){}i.data?/^[0-9a-f]{64}$/.test(i.data)?e(i.data):t(new Error(`Invalid token message data: ${i.data}`)):e()}};this._$window.addEventListener("message",onMessageReceived)}catch(e){t(e)}}))}finally{this._authPopup=null}}},{kind:"method",key:"_checkTrelloTokenAsync",value:async function _checkTrelloTokenAsync(e){if(!e)return!1;try{let t,r=await this.restAsync(Q.L.Get,`/tokens/${e}`,"Check Trello token");if(3!==r.permissions.length)throw new Error(`Invalid Trello token permissions:\n${h()(r.permissions,null,4)}`);if(r.dateExpires&&new Date(r.dateExpires)<new Date)throw new Error(`Trello token expired: ${r.dateExpires}`);try{t=JSON.parse(localStorage.idMe)}catch(e){}if(t&&r.idMember!==t){try{localStorage.removeItem("idMe")}catch(e){}throw new Error("Trello token invalid for current Trello member!")}this._memberId=r.idMember}catch(e){return this._$log.warn("Planyway failed to check Trello token:"),this._$log.warn(e),!1}return!0}}]}}))},222:function(e,t,r){"use strict";r.d(t,"a",(function(){return J}));var i=r(5),a=r.n(i),n=r(6),o=r.n(n),s=r(9),l=r.n(s),d=r(8),c=r.n(d),u=r(4),h=r.n(u),_=r(2),m=r.n(_),p=r(3),E=r.n(p),f=r(14),y=r.n(f),C=r(27),T=r.n(C),g=r(17),S=r.n(g),D=r(11),v=r.n(D),A=r(94),b=r.n(A),I=r(15),R=r.n(I),k=r(73),O=r.n(k),w=r(10),L=r(1),N=r(29),P=r.n(N),M=r(22),B=r.n(M),F=r(30),G=r.n(F),U=r(19),H=r.n(U),Y=r(43),W=r.n(Y),$=r(41),z=r.n($),V=r(38),x=r.n(V),j=r(39),K=r.n(j),X=r(146),q=r(0);function getDefaultGlobalSettings(){return{calendarBoard:{},defaultSchedulerMode:q.M.Timeline,defaultSchedulerOrientation:q.N.Top,defaultSchedulerView:q.O.Month,defaultTaskListsOrientation:q.Q.Bottom,defaultTaskListsView:q.R.Kanban,defaultTimelineScale:q.gb.Default,defaultTimelineView:q.ib.Member,dontAskConfirmDialogs:{},firstWeekDay:null,iCalList:[],isOnboardingButtonPassed:!1,isOnboardingWelcomeSurveyPassed:!1,isProductTourClosed:!1,isProductTourMinimized:!1,isProductTourPassed:!1,isPushNotificationsRequestShown:!1,isTrelloFiltersEnabled:!0,locale:null,news:{},productTourType:q.H.Free,productTourStepIndex:0,publicBoardIds:[],workDayEnd:Object(L.Hb)(new Date(1980,1,1,18,0,0)),workDayStart:Object(L.Hb)(new Date(1980,1,1,9,0,0)),workWeekEnd:5,workWeekStart:1}}function getDefaultGlobalBoardSettings(){let e=getDefaultGlobalSettings();return{boardICals:{},cardTheme:q.g.Colorful,connectedGoogleCalendars:{primary:{isSelected:!0}},customFieldsAsCards:[],filters:{cardsVisibility:q.j.All,members:[],labels:[],lists:[],customFields:[],customFilters:[]},highlightToday:!1,isCheckItemCardsShown:!0,isMilestonesShown:!0,isTimeRecordCardsShown:!0,isViewTemplateSelected:!1,multiBoard:{},schedulerMode:e.defaultSchedulerMode,schedulerOrientation:e.defaultSchedulerOrientation,schedulerView:e.defaultSchedulerView,showArchivedCards:!1,showDateTime:!1,showTrelloBoard:!1,showTrelloCardNumber:!1,showWeekNumbers:!0,showWorkDays:!1,showWorkHours:!1,taskListsFilters:{onlyUnscheduled:!1},taskListsOrientation:e.defaultTaskListsOrientation,taskListsView:e.defaultTaskListsView,timelineHiddenResources:{[q.fb.Members]:[],[q.fb.Calendars]:[],[q.fb.Lists]:[],[q.fb.Labels]:[]},timelineResourcesOrder:{[q.fb.Members]:null,[q.fb.Calendars]:null,[q.fb.Lists]:null,[q.fb.Labels]:null},timelineScale:e.defaultTimelineScale,timelineView:e.defaultTimelineView}}class Settings_Settings{constructor(e,t,r,i){this._$log=e,this._telemetrySrv=t,this._localSettings=this._deserializeLocalSettings(r,!0)||{locale:null,showSchedulerPreview:!0,calendarBoard:{},syncOnlyMyCards:!1,syncSetEventColorByLabel:!1,syncCompletedCards:!1,syncAsFree:!1,taskLists:{trelloLists:{},trelloCards:{}},schedulerSidebar:{isShown:!0,groups:{boards:{isCollapsed:!1},iCals:{isCollapsed:!1}}},filters:{members:{isCollapsed:!1},labels:{isCollapsed:!1},lists:{isCollapsed:!1},customFields:{isCollapsed:!1}},editCardDialog:{isDetailed:!0,groups:{customFields:{isCollapsed:!1}},defaultRemindBefore:30,defaultRemindBeforeAllDay:900,checklists:{}}},this._globalSettings=this._deserializeGlobalSettings(i,!0)||getDefaultGlobalSettings(),this._remoteGlobalSettings=this.global}get local(){return this._localSettings}get global(){return this._globalSettings}getGlobalSettingsCopy(){let e=this.serializeGlobalSettings(null,!1);return this._deserializeGlobalSettings(e,!1)}getLocalBoardSettings(e){let t=this.local.calendarBoard[e];return t||(t={organizations:{},lastSyncStatus:null,schedulerWidth:"720px",schedulerHeight:"50%",trelloBoardHeight:"60%",taskListsWidth:"320px",taskLists:{isShown:!0}},e&&(this.local.calendarBoard[e]=t)),t}getGlobalBoardSettings(e){let t=this.global.calendarBoard[e];return t||(t=getDefaultGlobalBoardSettings(),e&&(this.global.calendarBoard[e]=t)),t}serializeLocalSettings(e){var t,r,i,a,n,o,s,l,d;let c=this.local;c.taskLists.trelloLists=K()(t=x()(c.taskLists.trelloLists)).call(t,((e,[t,r])=>(r.isCollapsed&&(e[t]=r),e)),{}),c.taskLists.trelloCards=K()(r=x()(c.taskLists.trelloCards)).call(r,((e,[t,r])=>(r.isCheckItemsExpanded&&(e[t]=r),e)),{}),c.editCardDialog.checklists=K()(i=x()(c.editCardDialog.checklists)).call(i,((e,[t,r])=>((r.isCollapsed||r.hideCompleted)&&(e[t]=r),e)),{}),c={...c,taskLists:{...c.taskLists,trelloLists:K()(a=z()(n=x()(c.taskLists.trelloLists)).call(n,-1e3)).call(a,((e,[t,r])=>(e[t]=r,e)),{}),trelloCards:K()(o=z()(s=x()(c.taskLists.trelloCards)).call(s,-1e3)).call(o,((e,[t,r])=>(e[t]=r,e)),{})},editCardDialog:{...c.editCardDialog,checklists:E()(l=z()(d=x()(c.editCardDialog.checklists)).call(d,-1e3)).call(l,(([e,t])=>({...t,id:e})))}};let u=T()(c);return u=e?btoa(O.a.deflate(u,{to:"string",level:3})):X.a.encode(u),`![Planyway Settings - DO NOT EDIT!]()[](${u})`}serializeGlobalSettings(e,t){let r;e?(r=this.getGlobalSettingsCopy(),this._remoteGlobalSettings&&Object(L.xb)(r,e,this._remoteGlobalSettings),this._remoteGlobalSettings=r):r=this.global;for(let e of W()(r.calendarBoard)){var i,a,n;let t=getDefaultGlobalBoardSettings();e.multiBoard=e.multiBoard?K()(i=x()(e.multiBoard)).call(i,((e,[t,r])=>((r.isSelected||r.isFavorite||r.showOnlyMemberCards)&&(e[t]=r),e)),{}):t.multiBoard,e.connectedGoogleCalendars=e.connectedGoogleCalendars?K()(a=x()(e.connectedGoogleCalendars)).call(a,((e,[t,r])=>(("primary"===t||r.isSelected)&&(e[t]=r),e)),{}):t.connectedGoogleCalendars,e.boardICals=e.boardICals?K()(n=x()(e.boardICals)).call(n,((e,[t,r])=>(r.isSelected&&(e[t]=r),e)),{}):t.boardICals}let o=T()(r);return o=t?btoa(O.a.deflate(o,{to:"string",level:3})):X.a.encode(o),`![Planyway Settings - DO NOT EDIT!]()[](${o})`}updateRemoteGlobalSettings(e){this._remoteGlobalSettings=this._deserializeGlobalSettings(e,!0)}updateLocalSettings(e){this._localSettings=this._deserializeLocalSettings(e,!0)||{locale:null,showSchedulerPreview:!0,calendarBoard:{},syncOnlyMyCards:!1,syncSetEventColorByLabel:!1,syncCompletedCards:!1,syncAsFree:!1,taskLists:{trelloLists:{},trelloCards:{}},schedulerSidebar:{isShown:!0,groups:{boards:{isCollapsed:!1},iCals:{isCollapsed:!1}}},filters:{members:{isCollapsed:!1},labels:{isCollapsed:!1},lists:{isCollapsed:!1},customFields:{isCollapsed:!1}},editCardDialog:{isDetailed:!0,groups:{customFields:{isCollapsed:!1}},defaultRemindBefore:30,defaultRemindBeforeAllDay:900,checklists:{}}}}_deserializeLocalSettings(e,t){let r=this._parseSettingsString(e,t);if(r){let e={locale:null,showSchedulerPreview:!0,calendarBoard:{},syncOnlyMyCards:!1,syncSetEventColorByLabel:!1,syncCompletedCards:!1,syncAsFree:!1,taskLists:{trelloLists:{},trelloCards:{}},schedulerSidebar:{isShown:!0,groups:{boards:{isCollapsed:!1},iCals:{isCollapsed:!1}}},filters:{members:{isCollapsed:!1},labels:{isCollapsed:!1},lists:{isCollapsed:!1},customFields:{isCollapsed:!1}},editCardDialog:{isDetailed:!0,groups:{customFields:{isCollapsed:!1}},defaultRemindBefore:30,defaultRemindBeforeAllDay:900,checklists:{}}},t={...e,...r};if(r.calendarBoard)for(let e in r.calendarBoard){let i=r.calendarBoard[e],a={organizations:{},lastSyncStatus:null,schedulerWidth:"720px",schedulerHeight:"50%",trelloBoardHeight:"60%",taskListsWidth:"320px",taskLists:{isShown:!0}};t.calendarBoard[e]={organizations:i.organizations||a.organizations,lastSyncStatus:i.lastSyncStatus||a.lastSyncStatus,schedulerWidth:i.schedulerWidth||t.schedulerWidth||a.schedulerWidth,schedulerHeight:i.schedulerHeight||t.schedulerHeight||a.schedulerHeight,trelloBoardHeight:i.trelloBoardHeight||t.trelloBoardHeight||a.trelloBoardHeight,taskListsWidth:i.taskListsWidth||t.taskListsWidth||a.taskListsWidth,taskLists:{...a.taskLists,...i.taskLists,...r.taskLists}}}var i;if(delete t.schedulerWidth,delete t.schedulerHeight,delete t.trelloBoardHeight,delete t.taskListsWidth,r.taskLists&&(t.taskLists={...e.taskLists,...r.taskLists}),r.schedulerSidebar&&(t.schedulerSidebar={...e.schedulerSidebar,...r.schedulerSidebar,groups:{...e.schedulerSidebar.groups,...r.schedulerSidebar.groups}}),r.filters&&(t.filters={...e.filters,...r.filters}),r.editCardDialog)t.editCardDialog={...e.editCardDialog,...r.editCardDialog,groups:{...e.editCardDialog.groups,...r.editCardDialog.groups},checklists:{...e.editCardDialog.checklists,...K()(i=r.editCardDialog.checklists||[]).call(i,((e,t)=>(e[t.id]=t,e)),{})}};return t}}_deserializeGlobalSettings(e,t){let r=this._parseSettingsString(e,t);if(r){let e=getDefaultGlobalSettings(),t={...e,...r},E=Object(L.Eb)(Object(L.J)(e.workDayStart),Object(L.J)(r.workDayStart)),f=Object(L.Eb)(Object(L.J)(e.workDayEnd),Object(L.J)(r.workDayEnd)),y=Object(L.S)(E,f);if(y>=30&&y<=1440?(t.workDayStart=Object(L.Hb)(Object(L.Q)(E)),t.workDayEnd=Object(L.Hb)(f)):(t.workDayStart=e.workDayStart,t.workDayEnd=e.workDayEnd),r.firstWeekDay>=0&&r.firstWeekDay<=6?t.firstWeekDay=r.firstWeekDay:t.firstWeekDay=e.firstWeekDay,r.workWeekStart>=0&&r.workWeekStart<=6?t.workWeekStart=r.workWeekStart:t.workWeekStart=e.workWeekStart,r.workWeekEnd>=0&&r.workWeekEnd<=6?t.workWeekEnd=r.workWeekEnd:t.workWeekEnd=e.workWeekEnd,t.defaultSchedulerOrientation=e.defaultSchedulerOrientation,t.defaultSchedulerMode=e.defaultSchedulerMode,t.defaultSchedulerView=e.defaultSchedulerView,t.defaultTimelineView=e.defaultTimelineView,t.defaultTaskListsOrientation=e.defaultTaskListsOrientation,t.defaultTaskListsView=e.defaultTaskListsView,r.calendarBoard)for(let e in r.calendarBoard){var i,a,n,o,s,l,d,c,u,h,_,m,p;let E=r.calendarBoard[e],f=getDefaultGlobalBoardSettings();if(!E.schedulerOrientation&&E.calendarOrientation&&(E.schedulerOrientation=E.calendarOrientation,delete E.calendarOrientation),!E.schedulerView&&E.calendarView&&(E.schedulerView=E.calendarView,delete E.calendarView),!E.timelineView&&E.timelineResourcesType){switch(E.timelineResourcesType){case q.fb.NoResources:E.timelineView=q.ib.None;break;case q.fb.Members:E.timelineView=q.ib.Member;break;case q.fb.Calendars:E.timelineView=q.ib.Board;break;case q.fb.Lists:E.timelineView=q.ib.List;break;case q.fb.Labels:E.timelineView=q.ib.Label}delete E.timelineResourcesType}!E.cardTheme&&E.theme&&(E.cardTheme=E.theme,delete E.theme),"detailed"===E.cardView&&(E.showTrelloBoard=!0,E.showDateTime=!0,delete E.cardView),!0===E.isCompletedHidden&&(E.cardsVisibility=q.j.Incompleted,delete E.isCompletedHidden),q.N.hasValue(E.schedulerOrientation)||(E.schedulerOrientation=t.defaultSchedulerOrientation),q.M.hasValue(E.schedulerMode)&&q.O.hasValue(E.schedulerView)||(E.schedulerMode=t.defaultSchedulerMode,E.schedulerView=t.defaultSchedulerView),q.ib.hasValue(E.timelineView)||(E.timelineView=t.defaultTimelineView),q.Q.hasValue(E.taskListsOrientation)||(E.taskListsOrientation=t.defaultTaskListsOrientation),q.R.hasValue(E.taskListsView)||(E.taskListsView=t.defaultTaskListsView),q.g.hasValue(E.cardTheme)||(E.cardTheme=f.cardTheme),t.calendarBoard[e]={boardICals:E.boardICals||f.boardICals,cardTheme:E.cardTheme||f.cardTheme,connectedGoogleCalendars:E.connectedGoogleCalendars||f.connectedGoogleCalendars,customFieldsAsCards:E.customFieldsAsCards||f.customFieldsAsCards,filters:{...f.filters,...E.filters},highlightToday:null!==(i=E.highlightToday)&&void 0!==i?i:f.highlightToday,isCheckItemCardsShown:null!==(a=E.isCheckItemCardsShown)&&void 0!==a?a:f.isCheckItemCardsShown,isMilestonesShown:null!==(n=E.isMilestonesShown)&&void 0!==n?n:f.isMilestonesShown,isTimeRecordCardsShown:null!==(o=E.isTimeRecordCardsShown)&&void 0!==o?o:f.isTimeRecordCardsShown,isViewTemplateSelected:null!==(s=E.isViewTemplateSelected)&&void 0!==s?s:f.isViewTemplateSelected,multiBoard:E.multiBoard||f.multiBoard,schedulerMode:E.schedulerMode,schedulerOrientation:E.schedulerOrientation,schedulerView:E.schedulerView,showArchivedCards:null!==(l=E.showArchivedCards)&&void 0!==l?l:f.showArchivedCards,showCalendar:null!==(d=E.showCalendar)&&void 0!==d&&d,showDateTime:null!==(c=E.showDateTime)&&void 0!==c?c:f.showDateTime,showTrelloBoard:null!==(u=E.showTrelloBoard)&&void 0!==u?u:f.showTrelloBoard,showTrelloCardNumber:null!==(h=E.showTrelloCardNumber)&&void 0!==h?h:f.showTrelloCardNumber,showWeekNumbers:null!==(_=E.showWeekNumbers)&&void 0!==_?_:f.showWeekNumbers,showWorkDays:null!==(m=E.showWorkDays)&&void 0!==m?m:f.showWorkDays,showWorkHours:null!==(p=E.showWorkHours)&&void 0!==p?p:f.showWorkHours,taskListsBoardId:E.taskListsBoardId,taskListsFilters:{...f.taskListsFilters,...E.taskListsFilters},taskListsOrientation:E.taskListsOrientation,taskListsView:E.taskListsView,timelineHiddenResources:{...f.timelineHiddenResources,...E.timelineHiddenResources},timelineResourcesOrder:{...f.timelineResourcesOrder,...E.timelineResourcesOrder},timelineScale:E.timelineScale||t.defaultTimelineScale,timelineView:E.timelineView,viewTemplate:E.viewTemplate}}if(r.iCalList){let e=new H.a;for(let t of r.iCalList){q.s.hasValue(t.iCalType)||(t.iCalType=q.s.Other);let r=t.calendarUrl.replace(/^http:\/+/,"http://").replace(/^https:\/+/,"https://").replace(/^webcal:\/+/,"https://").replace(/^\/+/,"");G()(r).call(r,"http")||(r=`https://${r}`),S()(q.r).call(q.r,t.calendarColor)||(t.calendarColor="default"),e.set(t.id,{id:t.id,iCalType:t.iCalType,calendarUrl:r,calendarName:t.calendarName,calendarColor:t.calendarColor})}t.iCalList=B()(P()(e).call(e))}r.dontAskConfirmDialogs&&(t.dontAskConfirmDialogs={...e.dontAskConfirmDialogs,...r.dontAskConfirmDialogs});const C=["isProductTourClosed","isProductTourPassed","isOnboardingWelcomeSurveyPassed"];for(let e of C)void 0===r[e]&&(t[e]=!0);return t}}_parseSettingsString(e,t){if(e)try{let r=e.match(/(!)(\[Planyway Settings - DO NOT EDIT!]).*?\(.*?(\()(.*?)(\))/);if(r){let e=r[4];return t?S()(e).call(e,"{")||(e=O.a.inflate(atob(e),{to:"string"})):e=X.a.decode(e),JSON.parse(e)}throw new Error("Unable to extract settings from string")}catch(t){t.settingsString=e,this._$log.error("Planyway parse settings error:"),this._$log.error(t),this._telemetrySrv.logError("Planyway parse settings error",t,{class:this.constructor.name,method:this._parseSettingsString.name})}}}function _getDecoratorsApi(){_getDecoratorsApi=function(){return e};var e={elementsDefinitionOrder:[["method"],["field"]],initializeInstanceElements:function(e,t){var r;m()(r=["method","field"]).call(r,(function(r){m()(t).call(t,(function(t){t.kind===r&&"own"===t.placement&&this.defineClassElement(e,t)}),this)}),this)},initializeClassElements:function(e,t){var r,i=e.prototype;m()(r=["method","field"]).call(r,(function(r){m()(t).call(t,(function(t){var a=t.placement;if(t.kind===r&&("static"===a||"prototype"===a)){var n="static"===a?e:i;this.defineClassElement(n,t)}}),this)}),this)},defineClassElement:function(e,t){var r=t.descriptor;if("field"===t.kind){var i=t.initializer;r={enumerable:r.enumerable,writable:r.writable,configurable:r.configurable,value:void 0===i?void 0:i.call(e)}}h()(e,t.key,r)},decorateClass:function(e,t){var r=[],i=[],a={static:[],prototype:[],own:[]};if(m()(e).call(e,(function(e){this.addElementPlacement(e,a)}),this),m()(e).call(e,(function(e){if(!_hasDecorators(e))return r.push(e);var t=this.decorateElement(e,a);r.push(t.element),r.push.apply(r,t.extras),i.push.apply(i,t.finishers)}),this),!t)return{elements:r,finishers:i};var n=this.decorateConstructor(r,t);return i.push.apply(i,n.finishers),n.finishers=i,n},addElementPlacement:function(e,t,r){var i=t[e.placement];if(!r&&-1!==c()(i).call(i,e.key))throw new TypeError("Duplicated element ("+e.key+")");i.push(e.key)},decorateElement:function(e,t){for(var r=[],i=[],a=e.decorators,n=a.length-1;n>=0;n--){var o=t[e.placement];v()(o).call(o,c()(o).call(o,e.key),1);var s=this.fromElementDescriptor(e),l=this.toElementFinisherExtras((0,a[n])(s)||s);e=l.element,this.addElementPlacement(e,t),l.finisher&&i.push(l.finisher);var d=l.extras;if(d){for(var u=0;u<d.length;u++)this.addElementPlacement(d[u],t);r.push.apply(r,d)}}return{element:e,finishers:i,extras:r}},decorateConstructor:function(e,t){for(var r=[],i=t.length-1;i>=0;i--){var a=this.fromClassDescriptor(e),n=this.toClassDescriptor((0,t[i])(a)||a);if(void 0!==n.finisher&&r.push(n.finisher),void 0!==n.elements){e=n.elements;for(var o=0;o<e.length-1;o++)for(var s=o+1;s<e.length;s++)if(e[o].key===e[s].key&&e[o].placement===e[s].placement)throw new TypeError("Duplicated element ("+e[o].key+")")}}return{elements:e,finishers:r}},fromElementDescriptor:function(e){var t={kind:e.kind,key:e.key,placement:e.placement,descriptor:e.descriptor};return h()(t,l.a,{value:"Descriptor",configurable:!0}),"field"===e.kind&&(t.initializer=e.initializer),t},toElementDescriptors:function(e){var t;if(void 0!==e)return E()(t=R()(e)).call(t,(function(e){var t=this.toElementDescriptor(e);return this.disallowProperty(e,"finisher","An element descriptor"),this.disallowProperty(e,"extras","An element descriptor"),t}),this)},toElementDescriptor:function(e){var t=String(e.kind);if("method"!==t&&"field"!==t)throw new TypeError('An element descriptor\'s .kind property must be either "method" or "field", but a decorator created an element descriptor with .kind "'+t+'"');var r=_toPropertyKey(e.key),i=String(e.placement);if("static"!==i&&"prototype"!==i&&"own"!==i)throw new TypeError('An element descriptor\'s .placement property must be one of "static", "prototype" or "own", but a decorator created an element descriptor with .placement "'+i+'"');var a=e.descriptor;this.disallowProperty(e,"elements","An element descriptor");var n={kind:t,key:r,placement:i,descriptor:o()({},a)};return"field"!==t?this.disallowProperty(e,"initializer","A method descriptor"):(this.disallowProperty(a,"get","The property descriptor of a field descriptor"),this.disallowProperty(a,"set","The property descriptor of a field descriptor"),this.disallowProperty(a,"value","The property descriptor of a field descriptor"),n.initializer=e.initializer),n},toElementFinisherExtras:function(e){return{element:this.toElementDescriptor(e),finisher:_optionalCallableProperty(e,"finisher"),extras:this.toElementDescriptors(e.extras)}},fromClassDescriptor:function(e){var t={kind:"class",elements:E()(e).call(e,this.fromElementDescriptor,this)};return h()(t,l.a,{value:"Descriptor",configurable:!0}),t},toClassDescriptor:function(e){var t=String(e.kind);if("class"!==t)throw new TypeError('A class descriptor\'s .kind property must be "class", but a decorator created a class descriptor with .kind "'+t+'"');this.disallowProperty(e,"key","A class descriptor"),this.disallowProperty(e,"placement","A class descriptor"),this.disallowProperty(e,"descriptor","A class descriptor"),this.disallowProperty(e,"initializer","A class descriptor"),this.disallowProperty(e,"extras","A class descriptor");var r=_optionalCallableProperty(e,"finisher");return{elements:this.toElementDescriptors(e.elements),finisher:r}},runClassFinishers:function(e,t){for(var r=0;r<t.length;r++){var i=(0,t[r])(e);if(void 0!==i){if("function"!=typeof i)throw new TypeError("Finishers must return a constructor.");e=i}}return e},disallowProperty:function(e,t,r){if(void 0!==e[t])throw new TypeError(r+" can't have a ."+t+" property.")}};return e}function _createElementDescriptor(e){var t,r=_toPropertyKey(e.key);"method"===e.kind?t={value:e.value,writable:!0,configurable:!0,enumerable:!1}:"get"===e.kind?t={get:e.value,configurable:!0,enumerable:!1}:"set"===e.kind?t={set:e.value,configurable:!0,enumerable:!1}:"field"===e.kind&&(t={configurable:!0,writable:!0,enumerable:!0});var i={kind:"field"===e.kind?"field":"method",key:r,placement:e.static?"static":"field"===e.kind?"own":"prototype",descriptor:t};return e.decorators&&(i.decorators=e.decorators),"field"===e.kind&&(i.initializer=e.value),i}function _coalesceGetterSetter(e,t){void 0!==e.descriptor.get?t.descriptor.get=e.descriptor.get:t.descriptor.set=e.descriptor.set}function _hasDecorators(e){return e.decorators&&e.decorators.length}function _isDataDescriptor(e){return void 0!==e&&!(void 0===e.value&&void 0===e.writable)}function _optionalCallableProperty(e,t){var r=e[t];if(void 0!==r&&"function"!=typeof r)throw new TypeError("Expected '"+t+"' to be a function");return r}function _toPropertyKey(e){var t=function _toPrimitive(e,t){if("object"!=typeof e||null===e)return e;var r=e[y.a];if(void 0!==r){var i=r.call(e,t||"default");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}let J=function _decorate(e,t,r,i){var n,o=_getDecoratorsApi();if(i)for(var s=0;s<i.length;s++)o=i[s](o);var l=t((function initialize(e){o.initializeInstanceElements(e,d.elements)}),r),d=o.decorateClass(function _coalesceClassElements(e){for(var t=[],isSameElement=function(e){return"method"===e.kind&&e.key===n.key&&e.placement===n.placement},r=0;r<e.length;r++){var i,n=e[r];if("method"===n.kind&&(i=a()(t).call(t,isSameElement)))if(_isDataDescriptor(n.descriptor)||_isDataDescriptor(i.descriptor)){if(_hasDecorators(n)||_hasDecorators(i))throw new ReferenceError("Duplicated methods ("+n.key+") can't be decorated.");i.descriptor=n.descriptor}else{if(_hasDecorators(n)){if(_hasDecorators(i))throw new ReferenceError("Decorators can't be placed on different accessors with for the same property ("+n.key+").");i.decorators=n.decorators}_coalesceGetterSetter(n,i)}else t.push(n)}return t}(E()(n=l.d).call(n,_createElementDescriptor)),e);return o.initializeClassElements(l.F,d.elements),o.runClassFinishers(l.F,d.finishers)}([Object(L.Bb)(["$injector","$log","$window","$translate","backendSrv","notificationSrv","platformSrv","telemetrySrv"])],(function(e){return{F:class SettingsService{constructor(t,r,i,a,n,o,s,l){e(this),this._$injector=t,this._$log=r,this._$window=i,this._$translate=a,this._backendSrv=n,this._notificationSrv=o,this._platformSrv=s,this._telemetrySrv=l,this._currentSettings=new Settings_Settings(this._$log,this._telemetrySrv,localStorage.planywayLocalSettings),this._$window.addEventListener("storage",(e=>{"planywayLocalSettings"===e.key&&this._currentSettings.updateLocalSettings(localStorage.planywayLocalSettings)}),!1),(async()=>{let e=await this._platformSrv.getAppStorageDataAsync();this._localFlags=b()(e)})()}},d:[{kind:"get",static:!0,key:"serviceName",value:function serviceName(){return"settingsSrv"}},{kind:"get",key:"_trelloIntegrationSrv",value:function _trelloIntegrationSrv(){return this._trelloIntegrationSrvLazy||(this._trelloIntegrationSrvLazy=this._$injector.get("trelloIntegrationSrv")),this._trelloIntegrationSrvLazy}},{kind:"get",key:"currentFlags",value:function currentFlags(){return{telemetry:!1,...this._localFlags,...this._globalFlags}}},{kind:"get",key:"currentSettings",value:function currentSettings(){return this._currentSettings}},{kind:"method",key:"loadSettingsAsync",value:async function loadSettingsAsync(){if(this._trelloIntegrationSrv.isAuthorized()){if(!this._settingsLoaded){this._loadSettingsPromise||(this._loadSettingsPromise=(async()=>{let e;this._globalCreationDate=new Date,this._globalFlags=null;try{let{creationDate:t,settingsString:r,flags:i}=await this._backendSrv.getMemberSettingsAsync();this._globalCreationDate=t,e=r,this._globalFlags=i;let a=await this._platformSrv.getAppStorageDataAsync();a.flags=i,this._platformSrv.setAppStorageDataAsync(a)}catch(e){this._$log.error("Planyway load global settings error:"),this._$log.error(e),this._telemetrySrv.logError("Planyway load global settings error",e,{class:this.constructor.name,method:this.loadSettingsAsync.name})}e||(e=localStorage.planywayGlobalSettings),this._currentSettings=new Settings_Settings(this._$log,this._telemetrySrv,localStorage.planywayLocalSettings,e),this._previousGlobalSettings=this.currentSettings.getGlobalSettingsCopy(),this._settingsLoaded=!0})());try{return await this._loadSettingsPromise}finally{this._loadSettingsPromise=null}}}else this._currentSettings=new Settings_Settings(this._$log,this._telemetrySrv,localStorage.planywayLocalSettings,localStorage.planywayGlobalSettings)}},{kind:"method",key:"saveLocal",value:function saveLocal(){try{localStorage.planywayLocalSettings=this.currentSettings.serializeLocalSettings(!0)}catch(e){this._$log.error("Planyway local settings caching error:"),this._$log.error(e)}}},{kind:"method",key:"saveGlobalAsync",value:async function saveGlobalAsync(){this._processSaveGlobalPromise?this._needProcessSaveGlobal=!0:this._processSaveGlobalPromise=this._processSaveGlobalAsync();try{return await this._processSaveGlobalPromise}finally{this._processSaveGlobalPromise=null}}},{kind:"method",key:"getGlobalCreationDate",value:function getGlobalCreationDate(){return this._globalCreationDate}},{kind:"method",key:"getBoardsSettingsAsync",value:async function getBoardsSettingsAsync(e,t=!1){let r=function getDefaultBoardSettings(){return{dueLinkType:w.e.DueStart,dueLinkTypeAllDay:w.e.DueEnd,defaultCardIsAllDay:!0,defaultCardDuration:1,defaultCardPosition:w.b.Bottom,customFilters:[],connectedPublicBoards:[]}}();if(this._boardsSettings)for(let t of e)this._boardsSettings[t]||(this._boardsSettings[t]={dueLinkType:r.dueLinkType,dueLinkTypeAllDay:r.dueLinkTypeAllDay,defaultCardIsAllDay:r.defaultCardIsAllDay,defaultCardDuration:r.defaultCardDuration,defaultCardPosition:r.defaultCardPosition,customFilters:r.customFilters,connectedPublicBoards:r.connectedPublicBoards});else{this._boardsSettings={};let t=this._deserializeBoardSettings(localStorage.planywayBoardSettings,!0);for(let i of e){let e=t&&t[i]||{};this._boardsSettings[i]={dueLinkType:e.dueLinkType||r.dueLinkType,dueLinkTypeAllDay:e.dueLinkTypeAllDay||r.dueLinkTypeAllDay,defaultCardIsAllDay:void 0!==e.defaultCardIsAllDay?e.defaultCardIsAllDay:r.defaultCardIsAllDay,defaultCardDuration:e.defaultCardDuration||r.defaultCardDuration,defaultListId:e.defaultListId,defaultCardPosition:e.defaultCardPosition||r.defaultCardPosition,customFilters:e.customFilters||r.customFilters,connectedPublicBoards:e.connectedPublicBoards||r.connectedPublicBoards}}}if(t){let t=[...e];for(;t.length>0;)try{let e=await this._backendSrv.getBoardsSettingsAsync(v()(t).call(t,0,50));if(e&&e.length>0)for(let t of e){var i;this._boardsSettings[t.id]={dueLinkType:t.dueLinkType||r.dueLinkType,dueLinkTypeAllDay:t.dueLinkTypeAllDay||r.dueLinkTypeAllDay,defaultCardIsAllDay:null!==(i=t.defaultCardIsAllDay)&&void 0!==i?i:r.defaultCardIsAllDay,defaultCardDuration:t.defaultCardDuration||r.defaultCardDuration,defaultListId:t.defaultListId,defaultCardPosition:t.defaultCardPosition||r.defaultCardPosition,customFilters:t.customFilters||r.customFilters,connectedPublicBoards:t.connectedPublicBoards||r.connectedPublicBoards}}}catch(e){this._$log.error("Planyway boards settings loading error:"),this._$log.error(e),this._telemetrySrv.logError("Planyway load board settings error",e,{class:this.constructor.name,method:this.getBoardsSettingsAsync.name})}try{localStorage.planywayBoardSettings=this._serializeBoardSettings(this._boardsSettings,!0)}catch(e){this._$log.error("Planyway boards settings caching error:"),this._$log.error(e)}}return this._boardsSettings}},{kind:"method",key:"saveBoardSettingsAsync",value:async function saveBoardSettingsAsync(e,t){try{await this._backendSrv.setBoardSettingsAsync(e,t)}catch(e){throw this._telemetrySrv.logError("Planyway save board settings error",e,{class:this.constructor.name,method:this.saveBoardSettingsAsync.name}),e}this._boardsSettings[e]={...this._boardsSettings[e],...t};try{localStorage.planywayBoardSettings=this._serializeBoardSettings(this._boardsSettings,!0)}catch(e){this._$log.error("Planyway boards settings caching error:"),this._$log.error(e)}}},{kind:"method",key:"_processSaveGlobalAsync",value:async function _processSaveGlobalAsync(){this._needProcessSaveGlobal=!1;try{let e=this.currentSettings.serializeGlobalSettings(this._previousGlobalSettings,!0),t=this.currentSettings.getGlobalSettingsCopy();await this._backendSrv.setMemberSettingsAsync(this._globalCreationDate,e);try{localStorage.planywayGlobalSettings=e}catch(e){this._$log.error("Planyway global settings caching error:"),this._$log.error(e)}this._previousGlobalSettings=t}catch(e){switch(e.code){case w.f.UpdateSettingsConflict:try{let{settingsString:e}=await this._backendSrv.getMemberSettingsAsync();this.currentSettings.updateRemoteGlobalSettings(e),this._needProcessSaveGlobal=!0}catch(e){this._$log.error("Planyway actualize global settings error:"),this._$log.error(e),this._telemetrySrv.logError("Planyway actualize global settings error",e,{class:this.constructor.name,method:this._processSaveGlobalAsync.name})}break;default:this._$log.error("Planyway save global settings error:"),this._$log.error(e),this._telemetrySrv.logError("Planyway save global settings error",e,{class:this.constructor.name,method:this._processSaveGlobalAsync.name})}}if(this._needProcessSaveGlobal)return this._processSaveGlobalAsync()}},{kind:"method",key:"_deserializeBoardSettings",value:function _deserializeBoardSettings(e,t){if(e){let r=e.match(/(!)(\[Planyway Board Settings - DO NOT EDIT!]).*?\(.*?(\()(.*?)(\))/);if(r){let e=r[4];if(t&&!S()(e).call(e,"{"))try{e=O.a.inflate(atob(e),{to:"string"})}catch(e){}try{return JSON.parse(e)}catch(e){}}}}},{kind:"method",key:"_serializeBoardSettings",value:function _serializeBoardSettings(e,t){let r=T()(e);return t&&(r=btoa(O.a.deflate(r,{to:"string"}))),`![Planyway Board Settings - DO NOT EDIT!]()[](${r})`}}]}}))},28:function(e,t,r){"use strict";r.d(t,"c",(function(){return ie})),r.d(t,"b",(function(){return ae})),r.d(t,"a",(function(){return se})),r.d(t,"h",(function(){return parseTrelloCardKeywords})),r.d(t,"g",(function(){return parseTrelloCardDescription})),r.d(t,"i",(function(){return toggleLabel})),r.d(t,"f",(function(){return isMultipleMembersSupported})),r.d(t,"e",(function(){return isMemberRequired})),r.d(t,"j",(function(){return toggleMember})),r.d(t,"d",(function(){return getGoogleCardId}));var i=r(6),a=r.n(i),n=r(9),o=r.n(n),s=r(8),l=r.n(s),d=r(4),c=r.n(d),u=r(2),h=r.n(u),_=r(14),m=r.n(_),p=r(62),E=r.n(p),f=r(27),y=r.n(f),C=r(41),T=r.n(C),g=r(58),S=r.n(g),D=r(23),v=r.n(D),A=r(20),b=r.n(A),I=r(11),R=r.n(I),k=r(56),O=r.n(k),w=r(12),L=r.n(w),N=r(17),P=r.n(N),M=r(5),B=r.n(M),F=r(30),G=r.n(F),U=r(3),H=r.n(U),Y=r(22),W=r.n(Y),$=r(65),z=r.n($),V=r(16),x=r.n(V),j=r(15),K=r.n(j),X=r(73),q=r.n(X),J=r(82),Z=r.n(J),Q=r(10),ee=r(7),te=r(0),re=r(1);function _getDecoratorsApi(){_getDecoratorsApi=function(){return e};var e={elementsDefinitionOrder:[["method"],["field"]],initializeInstanceElements:function(e,t){var r;h()(r=["method","field"]).call(r,(function(r){h()(t).call(t,(function(t){t.kind===r&&"own"===t.placement&&this.defineClassElement(e,t)}),this)}),this)},initializeClassElements:function(e,t){var r,i=e.prototype;h()(r=["method","field"]).call(r,(function(r){h()(t).call(t,(function(t){var a=t.placement;if(t.kind===r&&("static"===a||"prototype"===a)){var n="static"===a?e:i;this.defineClassElement(n,t)}}),this)}),this)},defineClassElement:function(e,t){var r=t.descriptor;if("field"===t.kind){var i=t.initializer;r={enumerable:r.enumerable,writable:r.writable,configurable:r.configurable,value:void 0===i?void 0:i.call(e)}}c()(e,t.key,r)},decorateClass:function(e,t){var r=[],i=[],a={static:[],prototype:[],own:[]};if(h()(e).call(e,(function(e){this.addElementPlacement(e,a)}),this),h()(e).call(e,(function(e){if(!_hasDecorators(e))return r.push(e);var t=this.decorateElement(e,a);r.push(t.element),r.push.apply(r,t.extras),i.push.apply(i,t.finishers)}),this),!t)return{elements:r,finishers:i};var n=this.decorateConstructor(r,t);return i.push.apply(i,n.finishers),n.finishers=i,n},addElementPlacement:function(e,t,r){var i=t[e.placement];if(!r&&-1!==l()(i).call(i,e.key))throw new TypeError("Duplicated element ("+e.key+")");i.push(e.key)},decorateElement:function(e,t){for(var r=[],i=[],a=e.decorators,n=a.length-1;n>=0;n--){var o=t[e.placement];R()(o).call(o,l()(o).call(o,e.key),1);var s=this.fromElementDescriptor(e),d=this.toElementFinisherExtras((0,a[n])(s)||s);e=d.element,this.addElementPlacement(e,t),d.finisher&&i.push(d.finisher);var c=d.extras;if(c){for(var u=0;u<c.length;u++)this.addElementPlacement(c[u],t);r.push.apply(r,c)}}return{element:e,finishers:i,extras:r}},decorateConstructor:function(e,t){for(var r=[],i=t.length-1;i>=0;i--){var a=this.fromClassDescriptor(e),n=this.toClassDescriptor((0,t[i])(a)||a);if(void 0!==n.finisher&&r.push(n.finisher),void 0!==n.elements){e=n.elements;for(var o=0;o<e.length-1;o++)for(var s=o+1;s<e.length;s++)if(e[o].key===e[s].key&&e[o].placement===e[s].placement)throw new TypeError("Duplicated element ("+e[o].key+")")}}return{elements:e,finishers:r}},fromElementDescriptor:function(e){var t={kind:e.kind,key:e.key,placement:e.placement,descriptor:e.descriptor};return c()(t,o.a,{value:"Descriptor",configurable:!0}),"field"===e.kind&&(t.initializer=e.initializer),t},toElementDescriptors:function(e){var t;if(void 0!==e)return H()(t=K()(e)).call(t,(function(e){var t=this.toElementDescriptor(e);return this.disallowProperty(e,"finisher","An element descriptor"),this.disallowProperty(e,"extras","An element descriptor"),t}),this)},toElementDescriptor:function(e){var t=String(e.kind);if("method"!==t&&"field"!==t)throw new TypeError('An element descriptor\'s .kind property must be either "method" or "field", but a decorator created an element descriptor with .kind "'+t+'"');var r=_toPropertyKey(e.key),i=String(e.placement);if("static"!==i&&"prototype"!==i&&"own"!==i)throw new TypeError('An element descriptor\'s .placement property must be one of "static", "prototype" or "own", but a decorator created an element descriptor with .placement "'+i+'"');var n=e.descriptor;this.disallowProperty(e,"elements","An element descriptor");var o={kind:t,key:r,placement:i,descriptor:a()({},n)};return"field"!==t?this.disallowProperty(e,"initializer","A method descriptor"):(this.disallowProperty(n,"get","The property descriptor of a field descriptor"),this.disallowProperty(n,"set","The property descriptor of a field descriptor"),this.disallowProperty(n,"value","The property descriptor of a field descriptor"),o.initializer=e.initializer),o},toElementFinisherExtras:function(e){return{element:this.toElementDescriptor(e),finisher:_optionalCallableProperty(e,"finisher"),extras:this.toElementDescriptors(e.extras)}},fromClassDescriptor:function(e){var t={kind:"class",elements:H()(e).call(e,this.fromElementDescriptor,this)};return c()(t,o.a,{value:"Descriptor",configurable:!0}),t},toClassDescriptor:function(e){var t=String(e.kind);if("class"!==t)throw new TypeError('A class descriptor\'s .kind property must be "class", but a decorator created a class descriptor with .kind "'+t+'"');this.disallowProperty(e,"key","A class descriptor"),this.disallowProperty(e,"placement","A class descriptor"),this.disallowProperty(e,"descriptor","A class descriptor"),this.disallowProperty(e,"initializer","A class descriptor"),this.disallowProperty(e,"extras","A class descriptor");var r=_optionalCallableProperty(e,"finisher");return{elements:this.toElementDescriptors(e.elements),finisher:r}},runClassFinishers:function(e,t){for(var r=0;r<t.length;r++){var i=(0,t[r])(e);if(void 0!==i){if("function"!=typeof i)throw new TypeError("Finishers must return a constructor.");e=i}}return e},disallowProperty:function(e,t,r){if(void 0!==e[t])throw new TypeError(r+" can't have a ."+t+" property.")}};return e}function _createElementDescriptor(e){var t,r=_toPropertyKey(e.key);"method"===e.kind?t={value:e.value,writable:!0,configurable:!0,enumerable:!1}:"get"===e.kind?t={get:e.value,configurable:!0,enumerable:!1}:"set"===e.kind?t={set:e.value,configurable:!0,enumerable:!1}:"field"===e.kind&&(t={configurable:!0,writable:!0,enumerable:!0});var i={kind:"field"===e.kind?"field":"method",key:r,placement:e.static?"static":"field"===e.kind?"own":"prototype",descriptor:t};return e.decorators&&(i.decorators=e.decorators),"field"===e.kind&&(i.initializer=e.value),i}function _coalesceGetterSetter(e,t){void 0!==e.descriptor.get?t.descriptor.get=e.descriptor.get:t.descriptor.set=e.descriptor.set}function _hasDecorators(e){return e.decorators&&e.decorators.length}function _isDataDescriptor(e){return void 0!==e&&!(void 0===e.value&&void 0===e.writable)}function _optionalCallableProperty(e,t){var r=e[t];if(void 0!==r&&"function"!=typeof r)throw new TypeError("Expected '"+t+"' to be a function");return r}function _toPropertyKey(e){var t=function _toPrimitive(e,t){if("object"!=typeof e||null===e)return e;var r=e[m.a];if(void 0!==r){var i=r.call(e,t||"default");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}const ie=/^Planyway Data$/i,ae=30,ne=Z.a.RRule,oe=new Date("2999-01-01T00:00:00.000Z");let se=function _decorate(e,t,r,i){var a,n=_getDecoratorsApi();if(i)for(var o=0;o<i.length;o++)n=i[o](n);var s=t((function initialize(e){n.initializeInstanceElements(e,l.elements)}),r),l=n.decorateClass(function _coalesceClassElements(e){for(var t=[],isSameElement=function(e){return"method"===e.kind&&e.key===a.key&&e.placement===a.placement},r=0;r<e.length;r++){var i,a=e[r];if("method"===a.kind&&(i=B()(t).call(t,isSameElement)))if(_isDataDescriptor(a.descriptor)||_isDataDescriptor(i.descriptor)){if(_hasDecorators(a)||_hasDecorators(i))throw new ReferenceError("Duplicated methods ("+a.key+") can't be decorated.");i.descriptor=a.descriptor}else{if(_hasDecorators(a)){if(_hasDecorators(i))throw new ReferenceError("Decorators can't be placed on different accessors with for the same property ("+a.key+").");i.decorators=a.decorators}_coalesceGetterSetter(a,i)}else t.push(a)}return t}(H()(a=s.d).call(a,_createElementDescriptor)),e);return n.initializeClassElements(s.F,l.elements),n.runClassFinishers(s.F,l.finishers)}(null,(function(e){class CalendarCard{constructor(t,r){e(this),this._id=t,this._cardType=r,this._isReadOnly=!1,this._keywordIds=[],this.labelIds=new x.a,this.memberIds=new x.a,this._exceptionDates=[],this._timeZones={},this._sourceCardId=null,this._trelloCustomFieldCards=[],this._trelloCheckItemCards=[],this._trelloTimeRecordCards=[],this._lastDataVersionId=0,this._ignoreFilters=!1}}return{F:CalendarCard,d:[{kind:"get",decorators:[Object(re.Jb)()],key:"id",value:function id(){return this._id}},{kind:"get",decorators:[Object(re.Jb)()],key:"cardType",value:function cardType(){return this._cardType}},{kind:"set",key:"cardType",value:function cardType(e){this._cardType=e}},{kind:"get",decorators:[Object(re.Jb)()],key:"calendarId",value:function calendarId(){switch(this.cardType){case te.h.TrelloCard:case te.h.TrelloCustomField:case te.h.TrelloCheckItem:case te.h.TrelloTimeRecord:return this.boardId;case te.h.GoogleEvent:return this.googleCalendarId;case te.h.ICalEvent:return this.iCalCalendarId}}},{kind:"get",decorators:[Object(re.Jb)()],key:"isReadOnly",value:function isReadOnly(){return this._isReadOnly||this.cardType===te.h.ICalEvent}},{kind:"get",decorators:[Object(re.Jb)()],key:"shortId",value:function shortId(){return this._shortId}},{kind:"get",decorators:[Object(re.Jb)()],key:"trelloCardNumber",value:function trelloCardNumber(){return this._trelloCardNumber}},{kind:"set",key:"trelloCardNumber",value:function trelloCardNumber(e){this._trelloCardNumber=e}},{kind:"get",decorators:[Object(re.Jb)()],key:"boardId",value:function boardId(){return this._boardId}},{kind:"set",key:"boardId",value:function boardId(e){this._boardId=e}},{kind:"get",decorators:[Object(re.Jb)()],key:"isCurrentBoardCard",value:function isCurrentBoardCard(){if(te.ob.has(this.cardType))return this.boardId===this._currentBoardId}},{kind:"get",decorators:[Object(re.Jb)()],key:"listId",value:function listId(){return this._listId}},{kind:"set",key:"listId",value:function listId(e){this._listId=e}},{kind:"get",key:"position",value:function position(){return this._position||0}},{kind:"set",key:"position",value:function position(e){this._position=e}},{kind:"get",decorators:[Object(re.Jb)()],key:"keywords",value:function keywords(){return this._keywords}},{kind:"get",decorators:[Object(re.Jb)()],key:"due",value:function due(){if(this.hasDates)return this._due}},{kind:"get",key:"realDue",value:function realDue(){return this.hasDates?this._realDue:null}},{kind:"get",decorators:[Object(re.Jb)()],key:"googleCalendarId",value:function googleCalendarId(){return this._googleCalendarId}},{kind:"set",key:"googleCalendarId",value:function googleCalendarId(e){this._googleCalendarId=e}},{kind:"get",decorators:[Object(re.Jb)()],key:"googleEventId",value:function googleEventId(){return this._googleEventId}},{kind:"get",decorators:[Object(re.Jb)()],key:"googleShowAsFree",value:function googleShowAsFree(){return this._googleShowAsFree}},{kind:"set",key:"googleShowAsFree",value:function googleShowAsFree(e){this._googleShowAsFree=e}},{kind:"get",decorators:[Object(re.Jb)()],key:"iCalCalendarId",value:function iCalCalendarId(){return this._iCalCalendarId}},{kind:"get",decorators:[Object(re.Jb)()],key:"iCalType",value:function iCalType(){return this._iCalType}},{kind:"get",decorators:[Object(re.Jb)()],key:"cardUrl",value:function cardUrl(){switch(this.cardType){case te.h.TrelloCard:return`https://trello.com/c/${this.shortId||this.id}`;case te.h.TrelloCustomField:case te.h.TrelloCheckItem:case te.h.TrelloTimeRecord:return`https://trello.com/c/${this.parentShortId||this.parentId}`;case te.h.GoogleEvent:return this._googleEventUrl}}},{kind:"get",decorators:[Object(re.Jb)()],key:"shareUrl",value:function shareUrl(){switch(this.cardType){case te.h.TrelloCard:case te.h.TrelloCustomField:case te.h.TrelloCheckItem:case te.h.TrelloTimeRecord:let e=new z.a;return e.set(ee.e,this.boardId),e.set(ee.f,this.id),e.set(ee.V,te.G.ShareCard),`${ee.L}?${e}`}}},{kind:"get",decorators:[Object(re.Jb)()],key:"title",value:function title(){return this._title||""}},{kind:"set",key:"title",value:function title(e){this._title!==e&&(this._title=e,te.ob.has(this.cardType)&&(this._keywords=[...parseTrelloCardKeywords(this._title),...this._keywordIds]))}},{kind:"get",decorators:[Object(re.Jb)()],key:"description",value:function description(){return this._description||""}},{kind:"set",key:"description",value:function description(e){this._description=e}},{kind:"get",decorators:[Object(re.Jb)()],key:"isArchived",value:function isArchived(){return this._isArchived}},{kind:"set",key:"isArchived",value:function isArchived(e){this._isArchived=e}},{kind:"get",decorators:[Object(re.Jb)()],key:"isCompleted",value:function isCompleted(){return this._isCompleted}},{kind:"set",key:"isCompleted",value:function isCompleted(e){this._isCompleted=e}},{kind:"get",decorators:[Object(re.Jb)()],key:"isSubscribed",value:function isSubscribed(){return this._isSubscribed}},{kind:"set",key:"isSubscribed",value:function isSubscribed(e){this._isSubscribed=e}},{kind:"get",decorators:[Object(re.Jb)()],key:"labelIds",value:function labelIds(){return this._labelIds}},{kind:"set",key:"labelIds",value:function labelIds(e){let t=!1;if(this._labelIds&&this._labelIds.size===e.size){for(let r of this._labelIds)if(!e.has(r)){t=!0;break}}else t=!0;t&&(this._labelIds=e,0===this._labelIds.size&&this._labelIds.add(ee.k))}},{kind:"get",decorators:[Object(re.Jb)()],key:"memberIds",value:function memberIds(){return this._memberIds}},{kind:"set",key:"memberIds",value:function memberIds(e){let t=!1;if(this._memberIds&&this._memberIds.size===e.size){for(let r of this._memberIds)if(!e.has(r)){t=!0;break}}else t=!0;t&&(this._memberIds=e,0===this._memberIds.size&&this._memberIds.add(ee.k))}},{kind:"get",decorators:[Object(re.Jb)()],key:"members",value:function members(){return W()(this.memberIds)}},{kind:"get",decorators:[Object(re.Jb)()],key:"hasMembers",value:function hasMembers(){return this.memberIds.size>0&&(1!==this.memberIds.size||!this.memberIds.has(ee.k))}},{kind:"get",decorators:[Object(re.Jb)()],key:"isAllDay",value:function isAllDay(){return this._isAllDay}},{kind:"set",key:"isAllDay",value:function isAllDay(e){this._isAllDay=e,this._previousIsAllDay=this._isAllDay,this._updateRecurrenceRule()}},{kind:"get",decorators:[Object(re.Jb)()],key:"previousIsAllDay",value:function previousIsAllDay(){return this._previousIsAllDay}},{kind:"get",decorators:[Object(re.Jb)()],key:"start",value:function start(){return this._start}},{kind:"set",key:"start",value:function start(e){this._start=e&&new Date(e),this._previousStart=this._start,e?this._updateRecurrenceRule():this.recurrenceRule=void 0}},{kind:"get",decorators:[Object(re.Jb)()],key:"previousStart",value:function previousStart(){return this._previousStart}},{kind:"get",decorators:[Object(re.Jb)()],key:"end",value:function end(){return this.cardRole===Q.c.Milestone?this._start:this._end}},{kind:"set",key:"end",value:function end(e){this._end=e&&new Date(e),this._previousEnd=this._end}},{kind:"get",decorators:[Object(re.Jb)()],key:"previousEnd",value:function previousEnd(){return this.cardRole===Q.c.Milestone?this._previousStart:this._previousEnd}},{kind:"get",decorators:[Object(re.Jb)()],key:"hasDates",value:function hasDates(){return Object(re.rb)(this.start)&&Object(re.rb)(this.end)}},{kind:"get",decorators:[Object(re.Jb)()],key:"isSingleDate",value:function isSingleDate(){return this.isMilestone||this.cardType===te.h.TrelloCustomField}},{kind:"get",decorators:[Object(re.Jb)()],key:"durationMinutes",value:function durationMinutes(){return this.isAllDay?this._durationMinutes:Object(re.S)(this.start,this.end)}},{kind:"set",key:"durationMinutes",value:function durationMinutes(e){this._durationMinutes=e}},{kind:"get",decorators:[Object(re.Jb)()],key:"dailyEstimateMinutes",value:function dailyEstimateMinutes(){return this.customData.dailyEstimateMinutes}},{kind:"set",key:"dailyEstimateMinutes",value:function dailyEstimateMinutes(e){this.customData.dailyEstimateMinutes=e}},{kind:"get",decorators:[Object(re.Jb)()],key:"isDailyEstimateFieldShown",value:function isDailyEstimateFieldShown(){return this.customData.isDailyEstimateFieldShown}},{kind:"set",key:"isDailyEstimateFieldShown",value:function isDailyEstimateFieldShown(e){this.customData.isDailyEstimateFieldShown=e}},{kind:"get",decorators:[Object(re.Jb)()],key:"recurrenceRule",value:function recurrenceRule(){if(this.cardRole===Q.c.Card)return this._recurrenceRule}},{kind:"set",key:"recurrenceRule",value:function recurrenceRule(e){this.cardRole===Q.c.Card&&(this._recurrenceRule=e,this.recurrenceRule&&(this.customData.defaultSortOrder=Number.POSITIVE_INFINITY,this.customData.membersSortOrder=Number.POSITIVE_INFINITY,this.customData.calendarsSortOrder=Number.POSITIVE_INFINITY,this.customData.listsSortOrder=Number.POSITIVE_INFINITY,this.customData.labelsSortOrder=Number.POSITIVE_INFINITY),this._updateRecurrenceRule())}},{kind:"get",decorators:[Object(re.Jb)()],key:"recurrenceException",value:function recurrenceException(){return this._recurrenceException}},{kind:"get",key:"exceptionDates",value:function exceptionDates(){return this._exceptionDates}},{kind:"set",key:"exceptionDates",value:function exceptionDates(e){var t;(this._exceptionDates=e||[],this._exceptionDates.length>0)?this._recurrenceException=H()(t=this._exceptionDates).call(t,re.Gb).join():this._recurrenceException=void 0}},{kind:"get",decorators:[Object(re.Jb)()],key:"recurrenceId",value:function recurrenceId(){return this._recurrenceId}},{kind:"get",key:"exceptionDate",value:function exceptionDate(){return this._exceptionDate}},{kind:"get",decorators:[Object(re.Jb)()],key:"originalStart",value:function originalStart(){return this._originalStart}},{kind:"get",decorators:[Object(re.Jb)()],key:"customExpand",value:function customExpand(){return this._customExpand}},{kind:"get",decorators:[Object(re.Jb)()],key:"priority",value:function priority(){return this._priority||0}},{kind:"set",key:"priority",value:function priority(e){this._priority=e}},{kind:"get",key:"customData",value:function customData(){return this._customData||(this._customData={}),this._customData.cardRole||(this._customData.cardRole=Q.c.Card),"number"!=typeof this._customData.defaultSortOrder&&(this._customData.defaultSortOrder=Number.POSITIVE_INFINITY),"number"!=typeof this._customData.membersSortOrder&&(this._customData.membersSortOrder=Number.POSITIVE_INFINITY),"number"!=typeof this._customData.calendarsSortOrder&&(this._customData.calendarsSortOrder=Number.POSITIVE_INFINITY),"number"!=typeof this._customData.listsSortOrder&&(this._customData.listsSortOrder=Number.POSITIVE_INFINITY),"number"!=typeof this._customData.labelsSortOrder&&(this._customData.labelsSortOrder=Number.POSITIVE_INFINITY),this._customData.customFieldCardsData||(this._customData.customFieldCardsData=[]),this._customData.checkItemCardsData||(this._customData.checkItemCardsData=[]),this._customData.timeRecordCardsData||(this._customData.timeRecordCardsData=[]),this._customData.notifications||(this._customData.notifications=[]),this._customData.links||(this._customData.links=[]),this._customData}},{kind:"get",decorators:[Object(re.Jb)()],key:"cardRole",value:function cardRole(){return this.customData.cardRole}},{kind:"set",key:"cardRole",value:function cardRole(e){this.customData.cardRole=e}},{kind:"get",decorators:[Object(re.Jb)()],key:"isMilestone",value:function isMilestone(){return this.customData.cardRole===Q.c.Milestone}},{kind:"get",key:"sourceCardId",value:function sourceCardId(){return this._sourceCardId}},{kind:"get",key:"trelloCustomFieldCards",value:function trelloCustomFieldCards(){return this._trelloCustomFieldCards}},{kind:"set",key:"trelloCustomFieldCards",value:function trelloCustomFieldCards(e){this._trelloCustomFieldCards=e}},{kind:"get",key:"trelloCheckItemCards",value:function trelloCheckItemCards(){return this._trelloCheckItemCards}},{kind:"set",key:"trelloCheckItemCards",value:function trelloCheckItemCards(e){this._trelloCheckItemCards=e}},{kind:"get",key:"trelloTimeRecordCards",value:function trelloTimeRecordCards(){return this._trelloTimeRecordCards}},{kind:"set",key:"trelloTimeRecordCards",value:function trelloTimeRecordCards(e){this._trelloTimeRecordCards=e}},{kind:"get",decorators:[Object(re.Jb)()],key:"parentId",value:function parentId(){return this._parentId}},{kind:"set",key:"parentId",value:function parentId(e){this._parentId=e}},{kind:"get",decorators:[Object(re.Jb)()],key:"parentShortId",value:function parentShortId(){return this._parentShortId}},{kind:"get",decorators:[Object(re.Jb)()],key:"trelloCustomFieldId",value:function trelloCustomFieldId(){return this._trelloCustomFieldId}},{kind:"get",decorators:[Object(re.Jb)()],key:"defaultSortOrder",value:function defaultSortOrder(){return this.customData.defaultSortOrder}},{kind:"get",decorators:[Object(re.Jb)()],key:"membersSortOrder",value:function membersSortOrder(){return this.customData.membersSortOrder}},{kind:"get",decorators:[Object(re.Jb)()],key:"calendarsSortOrder",value:function calendarsSortOrder(){return this.customData.calendarsSortOrder}},{kind:"get",decorators:[Object(re.Jb)()],key:"listsSortOrder",value:function listsSortOrder(){return this.customData.listsSortOrder}},{kind:"get",decorators:[Object(re.Jb)()],key:"labelsSortOrder",value:function labelsSortOrder(){return this.customData.labelsSortOrder}},{kind:"get",key:"customFieldCardsData",value:function customFieldCardsData(){return this.customData.customFieldCardsData}},{kind:"set",key:"customFieldCardsData",value:function customFieldCardsData(e){this.customData.customFieldCardsData=e}},{kind:"get",key:"checkItemCardsData",value:function checkItemCardsData(){return this.customData.checkItemCardsData}},{kind:"set",key:"checkItemCardsData",value:function checkItemCardsData(e){this.customData.checkItemCardsData=e}},{kind:"get",key:"timeRecordCardsData",value:function timeRecordCardsData(){return this.customData.timeRecordCardsData}},{kind:"set",key:"timeRecordCardsData",value:function timeRecordCardsData(e){this.customData.timeRecordCardsData=e}},{kind:"get",decorators:[Object(re.Jb)()],key:"notifications",value:function notifications(){return this.customData.notifications}},{kind:"set",key:"notifications",value:function notifications(e){this.customData.notifications=e}},{kind:"get",decorators:[Object(re.Jb)()],key:"canHaveLinks",value:function canHaveLinks(){return this.cardType===te.h.TrelloCard&&this.hasDates&&!this.recurrenceRule&&!this.recurrenceId}},{kind:"get",decorators:[Object(re.Jb)()],key:"links",value:function links(){return this.customData.links}},{kind:"set",key:"links",value:function links(e){this.customData.links=e}},{kind:"get",decorators:[Object(re.Jb)()],key:"isTempCard",value:function isTempCard(){var e;return G()(e=this.id).call(e,ee.k)}},{kind:"get",key:"lastChangeId",value:function lastChangeId(){return this._lastChangeId}},{kind:"set",key:"lastChangeId",value:function lastChangeId(e){return this._lastChangeId=e}},{kind:"get",key:"lastDataVersionId",value:function lastDataVersionId(){return this._lastDataVersionId}},{kind:"get",decorators:[Object(re.Jb)()],key:"ignoreFilters",value:function ignoreFilters(){return this._ignoreFilters}},{kind:"set",key:"ignoreFilters",value:function ignoreFilters(e){this._ignoreFilters=e}},{kind:"method",static:!0,key:"fromTrelloCard",value:function fromTrelloCard(e,t,r){var i;let a=new CalendarCard(e.id,te.h.TrelloCard);a._isReadOnly=r.isReadOnly;let n,{description:o,extensionCardData:s}=CalendarCard._deserializeExtensionCardData(e.desc);if(s&&(a._needMigrateExtensionCardData=!0),r.cardDataCustomFieldId){var l;let t=null===(l=e.customFieldItems)||void 0===l?void 0:B()(l).call(l,(e=>e.idCustomField===r.cardDataCustomFieldId));var d;if(null!=t&&t.value)n=CalendarCard._deserializeCustomFieldCardData(null===(d=t.value)||void 0===d?void 0:d.text)}let c,u=s;if(n&&(!u||n.dataVersionId>u.dataVersionId)&&(u=n),u){if(a._lastDataVersionId=u.dataVersionId,a.recurrenceRule=u.recurrenceRule,a.exceptionDates=u.exceptionDates,a._recurrenceId=u.recurrenceId,a._originalStart=u.originalStart,a._exceptionDate=Object(re.H)(u.originalStart),a.priority=u.priority,a._customData=u.customData,a.customData.originalCardId){a.customData.originalCardId===e.id||(a.checkItemCardsData=[],a.timeRecordCardsData=[],a.links=[])}a._sourceCardId=u.recurrenceId,c=CalendarCard._correctCardData(e.due,r,u)}else c=CalendarCard._correctCardData(e.due,r);e.due&&(a._due=new Date(e.due)),c&&(a.isAllDay=c.isAllDay,a.start=c.start,a.end=c.end,a._dueLinkType=c.dueLinkType,a._dueLinkTypeAllDay=c.dueLinkTypeAllDay,a._realDue=c.realDue,a._offsetDue=c.offsetDue);let h=e.shortLink;if(!h){let t=e.shortUrl.match(/\/c\/(\w+)/);t&&(h=t[1])}return a._shortId=h,a._trelloCardNumber=e.idShort,a._boardId=e.idBoard,a._currentBoardId=t,a._listId=e.idList,a._position=e.pos,a._keywordIds=parseTrelloCardKeywords(e.idShort.toString()),a._keywords=[...a._keywordIds],a.title=e.name,a.description=o,a.isArchived=e.closed,a.isCompleted=e.dueComplete,a.isSubscribed=e.subscribed,a.labelIds=new x.a(H()(i=e.labels).call(i,(e=>e.id))),a.memberIds=new x.a(e.idMembers),a.lastChangeId=new Date(e.dateLastActivity).getTime(),a._lastCard=a._getLastCard(),a}},{kind:"method",static:!0,key:"fromGoogleEvent",value:function fromGoogleEvent(e,t){let r=new CalendarCard(getGoogleCardId(e.id,t.shortId),te.h.GoogleEvent);var i,a;(r._isReadOnly=t.isReadOnly,r._googleEventId=e.id,r._googleCalendarId=t.id,r._googleEventUrl=e.htmlLink,r.googleShowAsFree="transparent"===e.transparency,r.title=e.summary,r.description=e.description,e.start.dateTime?(r.isAllDay=!1,r.start=new Date(e.start.dateTime),r.end=new Date(e.end.dateTime)):(r.isAllDay=!0,r.start=Object(re.H)(e.start.date),r.end=Object(re.a)(Object(re.H)(e.end.date),-1)),r._timeZones={start:e.start.timeZone,end:e.end.timeZone},e.recurrence)?r._recurrenceRule=null===(i=B()(a=e.recurrence).call(a,(e=>G()(e).call(e,"RRULE:"))))||void 0===i?void 0:i.replace("RRULE:",""):e.recurringEventId&&(r._recurrenceId=getGoogleCardId(e.recurringEventId,t.shortId),r._googleRecurringEventId=e.recurringEventId,r._originalStart=e.originalStartTime.dateTime||e.originalStartTime.date,r._timeZones.originalStart=e.originalStartTime.timeZone,r._exceptionDate=Object(re.H)(r._originalStart));return r}},{kind:"method",static:!0,key:"fromICalEvent",value:function fromICalEvent(e,t,r){let i=new CalendarCard(e.id,te.h.ICalEvent);return i._iCalCalendarId=t,i._iCalType=r,i.title=e.title,i.description=e.description,i.isAllDay=e.isAllDay,i.start=e.start,i.end=e.end,i._recurrenceRule=e.recurrenceRule,i.exceptionDates=[...e.exceptionDates],i._recurrenceId=e.recurrenceId,i._exceptionDate=e.exceptionDate,i._customExpand=e.customExpand,i}},{kind:"method",static:!0,key:"getTempCard",value:function getTempCard(e,t,r={}){let i=new CalendarCard(ee.k,e);switch(i._currentBoardId=t,i.title=r.title||"",e){case te.h.TrelloCard:i._boardId=r.boardId,i._listId=r.listId,i._position=r.position;break;case te.h.GoogleEvent:i._googleCalendarId=r.googleCalendarId}return i}},{kind:"method",static:!0,key:"getPreviewCard",value:function getPreviewCard(e,t){let r=new CalendarCard(e,te.h.TrelloCard);return r._isReadOnly=!0,r._keywordIds=[],r.title=t.title,r.isAllDay=t.isAllDay,r.start=t.start,r.end=t.end,r.isCompleted=t.isCompleted||!1,r.labelIds=new x.a(t.label?[t.label]:[]),r.memberIds=new x.a,r.recurrenceRule=t.recurrenceRule,r.priority=t.priority||0,r}},{kind:"method",key:"incrementDataVersion",value:function incrementDataVersion(){this._lastDataVersionId+=1}},{kind:"method",key:"toTrelloCard",value:function toTrelloCard(e,t=[]){let r={id:this.id};if(P()(t).call(t,"cardData"))if(this._dueLinkType=void 0,this._dueLinkTypeAllDay=void 0,this._realDue=void 0,this._offsetDue=void 0,this.hasDates){if(this._dueLinkType=e.dueLinkType,this._dueLinkTypeAllDay=e.dueLinkTypeAllDay,this.isAllDay)switch(this._dueLinkTypeAllDay){case Q.e.DueStart:this._correctAllDayDueDateAsStartDate(e);break;case Q.e.DueEnd:this._correctAllDayDueDateAsEndDate(e);break;case Q.e.NotLinked:this._correctAllDayDueDateAsNotLinked()}else switch(this._dueLinkType){case Q.e.DueStart:this._correctDueDateAsStartDate();break;case Q.e.DueEnd:this._correctDueDateAsEndDate();break;case Q.e.NotLinked:this._correctDueDateAsNotLinked()}this._realDue&&(this._due=new Date(this._realDue),r.due=this.due.toISOString())}else r.due="";let i={name:()=>r.name=this.title,idBoard:()=>r.idBoard=this.boardId,idList:()=>r.idList=this.listId,pos:()=>r.pos=this.position||Q.b.Bottom,desc:()=>{e.cardDataCustomFieldId&&!this._needMigrateExtensionCardData?r.desc=this.description:P()(t).call(t,"cardData")||(r.desc=this._serializeExtensionCardData())},closed:()=>r.closed=this.isArchived,dueComplete:()=>r.dueComplete=this.isCompleted,subscribed:()=>r.subscribed=this.isSubscribed,idLabels:()=>{var e;return r.idLabels=L()(e=W()(this.labelIds)).call(e,(e=>e!==ee.k))},idMembers:()=>{var e;return r.idMembers=L()(e=W()(this.memberIds)).call(e,(e=>e!==ee.k))},idCardSource:()=>{if(this.isTempCard&&this.sourceCardId){r.idCardSource=this.sourceCardId;let e=["attachments","checklists","comments","stickers"];P()(t).call(t,"idMembers")||e.push("members"),P()(t).call(t,"idLabels")||e.push("labels"),r.keepFromSource=e}},cardData:()=>{e.cardDataCustomFieldId?(r.cardDataCustomFieldValue=this._serializeCustomFieldCardData(),this._needMigrateExtensionCardData&&(this._needMigrateExtensionCardData=!1,r.desc=this.description)):r.desc=this._serializeExtensionCardData()}};for(let e of t){let t=i[e];t&&t()}return this._lastCard=this._getLastCard(),r}},{kind:"method",key:"getTotalEstimationMs",value:function getTotalEstimationMs(e=this.dailyEstimateMinutes){return this.isAllDay&&!e?null:this.isAllDay?(Object(re.R)(this.start,this.end)+1)*e*60*1e3:Object(re.T)(this.start,this.end)}},{kind:"method",key:"addTrelloCustomFieldCard",value:function addTrelloCustomFieldCard(e){var t,r;if(this.deleteTrelloCustomFieldCard(e.id),!e.date)return;let i=new CalendarCard(e.id,te.h.TrelloCustomField);i._isReadOnly=this.isReadOnly,i._trelloCardNumber=this._trelloCardNumber,i._boardId=this.boardId,i._currentBoardId=this._currentBoardId,i._listId=this.listId,i._parentId=this.id,i._parentShortId=this.shortId,i._trelloCustomFieldId=e.customFieldId,i._keywordIds=[...this._keywordIds],i._keywords=[...this._keywordIds],i._due=e.date,i.title=this.title,i.description=this.description,i.isArchived=this.isArchived,i.isCompleted=null!==(t=e.isCompleted)&&void 0!==t&&t,i.labelIds=new x.a(this.labelIds),i.memberIds=new x.a(this.memberIds),i.isAllDay=null!==(r=e.isAllDay)&&void 0!==r?r:this.isAllDay,i.start=i.isAllDay?Object(re.O)(e.date):e.date,i.end=i.isAllDay?Object(re.O)(e.date):e.date,i.customData.defaultSortOrder=e.defaultSortOrder,i.customData.membersSortOrder=e.membersSortOrder,i.customData.calendarsSortOrder=e.calendarsSortOrder,i.customData.listsSortOrder=e.listsSortOrder,i.customData.labelsSortOrder=e.labelsSortOrder;let a=i._toCustomFieldCardData();return a&&this.customFieldCardsData.push(a),this.trelloCustomFieldCards.push(i),i}},{kind:"method",key:"addTrelloCustomFieldCardFromTrello",value:function addTrelloCustomFieldCardFromTrello(e){var t,r;let i=B()(t=this.customFieldCardsData).call(t,(t=>t.id===e.id||t.customFieldId===e.customFieldId))||{},a=null===(r=e.value)||void 0===r?void 0:r.date,n={...i,id:e.id,customFieldId:e.idCustomField,date:a&&new Date(a)};return this.addTrelloCustomFieldCard(n)}},{kind:"method",key:"updateTrelloCustomFieldCard",value:function updateTrelloCustomFieldCard(e,t){var r;let i=B()(r=this.trelloCustomFieldCards).call(r,(t=>t.id===e));if(!i)return{customFieldCardUpdated:!1};let a=!1;i.boardId===this.boardId&&i.listId===this.listId||(i.boardId=this.boardId,i.listId=this.listId,a=!0),i.title!==this.title&&(i.title=this.title,a=!0),i.description!==this.description&&(i.description=this.description,a=!0),i.isArchived!==this.isArchived&&(i.isArchived=this.isArchived,a=!0),Object(re.h)(W()(i.labelIds),W()(this.labelIds))||(i.labelIds=new x.a(this.labelIds),a=!0),Object(re.h)(W()(i.memberIds),W()(this.memberIds))||(i.memberIds=new x.a(this.memberIds),a=!0);let n=!1,o=!1;if(void 0!==t.isAllDay&&i.isAllDay!==t.isAllDay&&(i.isAllDay=t.isAllDay,o=!0),void 0!==t.date){let e=i.isAllDay?Object(re.O)(t.date):t.date;Object(re.w)(i.start,e)&&Object(re.w)(i.end,e)||(e?(i.start=e,i.end=e,i._due=t.date):(i.isAllDay=null,i.start=null,i.end=null,i._due=null),n=!0)}void 0!==t.isCompleted&&i.isCompleted!==t.isCompleted&&(i.isCompleted=t.isCompleted,o=!0),void 0!==t.defaultSortOrder&&i.defaultSortOrder!==t.defaultSortOrder&&(i.customData.defaultSortOrder=t.defaultSortOrder,o=!0),void 0!==t.membersSortOrder&&i.membersSortOrder!==t.membersSortOrder&&(i.customData.membersSortOrder=t.membersSortOrder,o=!0),void 0!==t.calendarsSortOrder&&i.calendarsSortOrder!==t.calendarsSortOrder&&(i.customData.calendarsSortOrder=t.calendarsSortOrder,o=!0),void 0!==t.listsSortOrder&&i.listsSortOrder!==t.listsSortOrder&&(i.customData.listsSortOrder=t.listsSortOrder,o=!0),void 0!==t.labelsSortOrder&&i.labelsSortOrder!==t.labelsSortOrder&&(i.customData.labelsSortOrder=t.labelsSortOrder,o=!0),this.deleteTrelloCustomFieldCard(i.id);let s=i._toCustomFieldCardData();return s&&this.customFieldCardsData.push(s),this.trelloCustomFieldCards.push(i),{customFieldCardUpdated:a||n||o,customFieldCard:i,customFieldUpdated:n,parentCardUpdated:o}}},{kind:"method",key:"updateTrelloCustomFieldCardFromTrello",value:function updateTrelloCustomFieldCardFromTrello(e,t){var r,i;let a=B()(r=this.customFieldCardsData).call(r,(r=>r.id===e||r.customFieldId===t.customFieldId))||{},n=(null===(i=t.value)||void 0===i?void 0:i.date)||"",o={...a,date:n&&new Date(n)};return this.updateTrelloCustomFieldCard(e,o)}},{kind:"method",key:"deleteTrelloCustomFieldCard",value:function deleteTrelloCustomFieldCard(e){var t,r;let i,a=O()(t=this.trelloCustomFieldCards).call(t,(t=>t.id===e));var n;-1!==a&&(i=this.trelloCustomFieldCards[a].trelloCustomFieldId,R()(n=this.trelloCustomFieldCards).call(n,a,1));this.customFieldCardsData=L()(r=this.customFieldCardsData).call(r,(t=>t.id!==e&&t.customFieldId!==i))}},{kind:"method",key:"addTrelloCheckItemCard",value:function addTrelloCheckItemCard(e,t,r){var i,a,n,o,s,l;this.deleteTrelloCheckItemCard(e.id);let d=new CalendarCard(e.id,te.h.TrelloCheckItem);if(d._isReadOnly=this.isReadOnly,d._trelloCardNumber=this._trelloCardNumber,d._boardId=this.boardId,d._currentBoardId=this._currentBoardId,d._listId=this.listId,d._parentId=this.id,d._parentShortId=this.shortId,d._keywordIds=[...this._keywordIds],d._keywords=[...this._keywordIds],d.title=e.name,d.description=this._description,d.isArchived=this.isArchived,d.isCompleted=e.isCompleted,d.labelIds=new x.a(this.labelIds),d.memberIds=new x.a(null===(i=e.memberIds)||void 0===i?void 0:L()(i).call(i,(e=>{var r;return b()(r=t.members).call(r,(t=>t.id===e))}))),d._dueLinkType=null!==(a=null!==(n=e.dueLinkType)&&void 0!==n?n:this._dueLinkType)&&void 0!==a?a:t.dueLinkType,d._dueLinkTypeAllDay=null!==(o=null!==(s=e.dueLinkTypeAllDay)&&void 0!==s?s:this._dueLinkTypeAllDay)&&void 0!==o?o:t.dueLinkTypeAllDay,e.start&&e.end){var c;d.isAllDay=null!==(c=e.isAllDay)&&void 0!==c?c:t.defaultCardIsAllDay;let r=d.isAllDay?d._dueLinkTypeAllDay:d._dueLinkType;d.start=e.start,r===Q.e.DueStart&&(d._due=d.isAllDay?Object(re.W)(d.start):d.start),d.end=e.end,r!==Q.e.DueEnd&&r!==Q.e.NotLinked||(d._due=d.isAllDay?Object(re.W)(d.end):d.end)}d._sync=null!==(l=e.sync)&&void 0!==l?l:r.syncWithTrello,d.customData.defaultSortOrder=e.defaultSortOrder,d.customData.membersSortOrder=e.membersSortOrder,d.customData.calendarsSortOrder=e.calendarsSortOrder,d.customData.listsSortOrder=e.listsSortOrder,d.customData.labelsSortOrder=e.labelsSortOrder;let u=d._toCheckItemCardData(t);return u&&this.checkItemCardsData.push(u),this.trelloCheckItemCards.push(d),d}},{kind:"method",key:"addTrelloCheckItemCardFromTrello",value:function addTrelloCheckItemCardFromTrello(e,t,r){var i;let a=B()(i=this.checkItemCardsData).call(i,(t=>t.id===e.id)),n=(!a||a.sync)&&r.syncWithTrello,o={...a,id:e.id,name:e.name,isCompleted:"complete"===e.state,sync:n};if(n){let r=CalendarCard._correctCheckItemCardData(e.due,t,a);o.isAllDay=null==r?void 0:r.isAllDay,o.start=null==r?void 0:r.start,o.end=null==r?void 0:r.end,o.dueLinkType=null==r?void 0:r.dueLinkType,o.dueLinkTypeAllDay=null==r?void 0:r.dueLinkTypeAllDay,o.memberIds=e.idMember?[e.idMember]:[]}return this.addTrelloCheckItemCard(o,t,{syncWithTrello:n})}},{kind:"method",key:"updateTrelloCheckItemCard",value:function updateTrelloCheckItemCard(e,t,r,i){var a,n,o;let s=B()(a=this.trelloCheckItemCards).call(a,(t=>t.id===e));if(!s)return{checkItemCardUpdated:!1};let l=!1;s.boardId===this.boardId&&s.listId===this.listId||(s.boardId=this.boardId,s.listId=this.listId,l=!0),s.description!==this.description&&(s.description=this.description,l=!0),s.isArchived!==this.isArchived&&(s.isArchived=this.isArchived,l=!0),Object(re.h)(W()(s.labelIds),W()(this.labelIds))||(s.labelIds=new x.a(this.labelIds),l=!0);let d=!1;void 0!==t.name&&s.title!==t.name&&(s.title=t.name,d=!0),void 0!==t.isCompleted&&s.isCompleted!==t.isCompleted&&(s.isCompleted=t.isCompleted,d=!0);let c=!1;void 0!==t.isAllDay&&s.isAllDay!==t.isAllDay&&(s.isAllDay=t.isAllDay,c=!0);let u=s.isAllDay?r.dueLinkTypeAllDay:r.dueLinkType;void 0===t.start||Object(re.w)(s.start,t.start)||(s.start=t.start,u===Q.e.DueStart&&(s._due=s.isAllDay?Object(re.W)(s.start):s.start),c=!0),void 0===t.end||Object(re.w)(s.end,t.end)||(s.end=t.end,u!==Q.e.DueEnd&&u!==Q.e.NotLinked||(s._due=s.isAllDay?Object(re.W)(s.end):s.end),c=!0);let h=null===(n=t.memberIds)||void 0===n?void 0:L()(n).call(n,(e=>{var t;return b()(t=r.members).call(t,(t=>t.id===e))}));void 0===h||Object(re.h)(L()(o=W()(s.memberIds)).call(o,(e=>e!==ee.k)),h)||(s.memberIds=new x.a(h),d=!0,c=!0),s._sync!==i.syncWithTrello&&(s._sync=i.syncWithTrello,c=!0),void 0!==t.defaultSortOrder&&s.defaultSortOrder!==t.defaultSortOrder&&(s.customData.defaultSortOrder=t.defaultSortOrder,c=!0),void 0!==t.membersSortOrder&&s.membersSortOrder!==t.membersSortOrder&&(s.customData.membersSortOrder=t.membersSortOrder,c=!0),void 0!==t.calendarsSortOrder&&s.calendarsSortOrder!==t.calendarsSortOrder&&(s.customData.calendarsSortOrder=t.calendarsSortOrder,c=!0),void 0!==t.listsSortOrder&&s.listsSortOrder!==t.listsSortOrder&&(s.customData.listsSortOrder=t.listsSortOrder,c=!0),void 0!==t.labelsSortOrder&&s.labelsSortOrder!==t.labelsSortOrder&&(s.customData.labelsSortOrder=t.labelsSortOrder,c=!0),this.deleteTrelloCheckItemCard(s.id);let _=s._toCheckItemCardData(r);return _&&this.checkItemCardsData.push(_),this.trelloCheckItemCards.push(s),{checkItemCardUpdated:l||d||c,checkItemCard:s,checkItemUpdated:d,parentCardUpdated:c}}},{kind:"method",key:"updateTrelloCheckItemCardFromTrello",value:function updateTrelloCheckItemCardFromTrello(e,t,r,i){var a;let n=B()(a=this.checkItemCardsData).call(a,(t=>t.id===e)),o=(!n||n.sync)&&i.syncWithTrello,s={...n,name:t.name,isCompleted:"complete"===t.state};if(o){var l;let e=CalendarCard._correctCheckItemCardData(t.due,r,n);s.isAllDay=null!==(l=null==e?void 0:e.isAllDay)&&void 0!==l?l:null,s.start=(null==e?void 0:e.start)||null,s.end=(null==e?void 0:e.end)||null,s.memberIds=t.idMember?[t.idMember]:[]}return this.updateTrelloCheckItemCard(e,s,r,{syncWithTrello:o})}},{kind:"method",key:"deleteTrelloCheckItemCard",value:function deleteTrelloCheckItemCard(e){var t,r;let i=O()(t=this.trelloCheckItemCards).call(t,(t=>t.id===e));var a;-1!==i&&R()(a=this.trelloCheckItemCards).call(a,i,1);this.checkItemCardsData=L()(r=this.checkItemCardsData).call(r,(t=>t.id!==e))}},{kind:"method",key:"addTrelloTimeRecordCard",value:function addTrelloTimeRecordCard(e,t){var r,i;if(this.deleteTrelloTimeRecordCard(e.id),!e.from||!e.to)return;let a=new CalendarCard(e.id,te.h.TrelloTimeRecord);switch(a._isReadOnly=this.isReadOnly,a._trelloCardNumber=this._trelloCardNumber,a._boardId=this.boardId,a._currentBoardId=this._currentBoardId,a._listId=this.listId,a._parentId=this.id,a._parentShortId=this.shortId,a._keywordIds=[...this._keywordIds],a._keywords=[...this._keywordIds],a.title=this.title,a.description=this._description,a.isArchived=this.isArchived,a.isCompleted=!1,a.labelIds=new x.a(this.labelIds),a.memberIds=new x.a(e.memberId&&b()(r=t.members).call(r,(t=>t.id===e.memberId))?[e.memberId]:[]),a.isAllDay=null===(i=e.isDuration)||void 0===i||i,a.start=e.from,a.end=e.to,a.isAllDay?this._dueLinkTypeAllDay:this._dueLinkType){case Q.e.DueStart:a._due=a.isAllDay?Object(re.W)(a.start):a.start;break;case Q.e.DueEnd:case Q.e.NotLinked:a._due=a.isAllDay?Object(re.W)(a.end):a.end}a.durationMinutes=e.durationMinutes,a.customData.defaultSortOrder=e.defaultSortOrder,a.customData.membersSortOrder=e.membersSortOrder,a.customData.calendarsSortOrder=e.calendarsSortOrder,a.customData.listsSortOrder=e.listsSortOrder,a.customData.labelsSortOrder=e.labelsSortOrder;let n=a._toTimeRecordCardData();return n&&this.timeRecordCardsData.push(n),this.trelloTimeRecordCards.push(a),a}},{kind:"method",key:"updateTrelloTimeRecordCard",value:function updateTrelloTimeRecordCard(e,t,r){var i;let a=B()(i=this.trelloTimeRecordCards).call(i,(t=>t.id===e));if(!a)return{timeRecordCardUpdated:!1};let n=!1;a.boardId===this.boardId&&a.listId===this.listId||(a.boardId=this.boardId,a.listId=this.listId,n=!0),a.description!==this.description&&(a.description=this.description,n=!0),a.isArchived!==this.isArchived&&(a.isArchived=this.isArchived,n=!0),Object(re.h)(W()(a.labelIds),W()(this.labelIds))||(a.labelIds=new x.a(this.labelIds),n=!0);let o=!1;switch(void 0!==t.isDuration&&a.isAllDay!==t.isDuration&&(a.isAllDay=t.isDuration,o=!0),void 0===t.from||Object(re.w)(a.start,t.from)||(a.start=t.from,o=!0),void 0===t.to||Object(re.w)(a.end,t.to)||(a.end=t.to,o=!0),a.isAllDay?this._dueLinkTypeAllDay:this._dueLinkType){case Q.e.DueStart:a._due=a.isAllDay?Object(re.W)(a.start):a.start;break;case Q.e.DueEnd:case Q.e.NotLinked:a._due=a.isAllDay?Object(re.W)(a.end):a.end}if(void 0!==t.durationMinutes&&a.durationMinutes!==t.durationMinutes&&(a.durationMinutes=t.durationMinutes,o=!0),void 0!==t.memberId){var s,l;let e=b()(s=r.members).call(s,(e=>e.id===t.memberId))?[t.memberId]:[];Object(re.h)(L()(l=W()(a.memberIds)).call(l,(e=>e!==ee.k)),e)||(a.memberIds=new x.a(e),o=!0)}void 0!==t.defaultSortOrder&&a.defaultSortOrder!==t.defaultSortOrder&&(a.customData.defaultSortOrder=t.defaultSortOrder,o=!0),void 0!==t.membersSortOrder&&a.membersSortOrder!==t.membersSortOrder&&(a.customData.membersSortOrder=t.membersSortOrder,o=!0),void 0!==t.calendarsSortOrder&&a.calendarsSortOrder!==t.calendarsSortOrder&&(a.customData.calendarsSortOrder=t.calendarsSortOrder,o=!0),void 0!==t.listsSortOrder&&a.listsSortOrder!==t.listsSortOrder&&(a.customData.listsSortOrder=t.listsSortOrder,o=!0),void 0!==t.labelsSortOrder&&a.labelsSortOrder!==t.labelsSortOrder&&(a.customData.labelsSortOrder=t.labelsSortOrder,o=!0),this.deleteTrelloTimeRecordCard(a.id);let d=a._toTimeRecordCardData();return d&&this.timeRecordCardsData.push(d),this.trelloTimeRecordCards.push(a),{timeRecordCardUpdated:n||o,timeRecordCard:a,timeRecordUpdated:false,parentCardUpdated:o}}},{kind:"method",key:"deleteTrelloTimeRecordCard",value:function deleteTrelloTimeRecordCard(e){var t,r;let i=O()(t=this.trelloTimeRecordCards).call(t,(t=>t.id===e));var a;-1!==i&&R()(a=this.trelloTimeRecordCards).call(a,i,1);this.timeRecordCardsData=L()(r=this.timeRecordCardsData).call(r,(t=>t.id!==e))}},{kind:"method",key:"updateByTrelloCardDelta",value:function updateByTrelloCardDelta(e,t){if(void 0!==e.desc){let r,{description:i,extensionCardData:a}=CalendarCard._deserializeExtensionCardData(e.desc);if(this.description=i,a){if(a.dataVersionId<this.lastDataVersionId)return!1;this._lastDataVersionId=a.dataVersionId,this.recurrenceRule=a.recurrenceRule,this.exceptionDates=a.exceptionDates,this._recurrenceId=a.recurrenceId,this._originalStart=a.originalStart,this._exceptionDate=Object(re.H)(a.originalStart),this.priority=a.priority,this._customData=a.customData,this._sourceCardId=a.recurrenceId,r=CalendarCard._correctCardData(e.due,t,a)}else r=CalendarCard._correctCardData(e.due,t);r?(this.isAllDay=r.isAllDay,this.start=r.start,this.end=r.end,this._dueLinkType=r.dueLinkType,this._dueLinkTypeAllDay=r.dueLinkTypeAllDay,this._realDue=r.realDue,this._offsetDue=r.offsetDue):void 0!==e.due&&(this.start=void 0,this.end=void 0,this._realDue=void 0)}else if(void 0!==e.due){let r;r=this.hasDates?CalendarCard._correctCardData(e.due,t,{version:"v4",isAllDay:this.isAllDay,start:this.start,end:this.end,dueLinkType:this._dueLinkType,dueLinkTypeAllDay:this._dueLinkTypeAllDay,offsetDue:this._offsetDue,recurrenceRule:this.recurrenceRule}):CalendarCard._correctCardData(e.due,t),r?(this.isAllDay=r.isAllDay,this.start=r.start,this.end=r.end,this._dueLinkType=r.dueLinkType,this._dueLinkTypeAllDay=r.dueLinkTypeAllDay,this._realDue=r.realDue,this._offsetDue=r.offsetDue):(this.start=void 0,this.end=void 0,this._realDue=void 0)}var r;(e.due&&this._realDue&&(this._due=new Date(e.due)),e.idBoard&&(this._boardId=e.idBoard),e.idList&&(this._listId=e.idList),e.pos&&(this._position=e.pos),e.dateLastActivity&&(this.lastChangeId=new Date(e.dateLastActivity).getTime()),e.name&&(this.title=e.name),void 0!==e.closed&&(this.isArchived=e.closed),void 0!==e.dueComplete&&(this.isCompleted=e.dueComplete),void 0!==e.subscribed&&(this.isSubscribed=e.subscribed),e.labels)&&(this.labelIds=new x.a(H()(r=e.labels).call(r,(e=>e.id))));e.idMembers&&(this.memberIds=new x.a(e.idMembers));let i=!this.equals(this._lastCard);return this._lastCard=this._getLastCard(),i}},{kind:"method",key:"updateByTrelloCustomFieldDelta",value:function updateByTrelloCustomFieldDelta(e,t){if(void 0!==e.value){var r;let i,a=CalendarCard._deserializeCustomFieldCardData(null===(r=e.value)||void 0===r?void 0:r.text);if(a){if(a.dataVersionId<this.lastDataVersionId)return!1;this._lastDataVersionId=a.dataVersionId,this.recurrenceRule=a.recurrenceRule,this.exceptionDates=a.exceptionDates,this._recurrenceId=a.recurrenceId,this._originalStart=a.originalStart,this._exceptionDate=Object(re.H)(a.originalStart),this.priority=a.priority,this._customData=a.customData,this._sourceCardId=a.recurrenceId,i=CalendarCard._correctCardData(this._realDue,t,a)}else i=CalendarCard._correctCardData(this._realDue,t);i?(this.isAllDay=i.isAllDay,this.start=i.start,this.end=i.end,this._dueLinkType=i.dueLinkType,this._dueLinkTypeAllDay=i.dueLinkTypeAllDay,this._realDue=i.realDue,this._offsetDue=i.offsetDue):(this.start=void 0,this.end=void 0,this._realDue=void 0)}let i=!this.equals(this._lastCard);return this._lastCard=this._getLastCard(),i}},{kind:"method",key:"toGoogleEvent",value:function toGoogleEvent(e,t=[]){let r={},i={summary:()=>r.summary=this.title,description:()=>r.description=this.description,start:()=>{this.isAllDay?r.start={date:Object(re.Fb)(this.start),dateTime:null}:r.start={date:null,dateTime:this.start.toISOString()},this._timeZones.start?r.start.timeZone=this._timeZones.start:(this.recurrenceRule||this.recurrenceId)&&(r.start.timeZone=e.timeZone)},end:()=>{this.isAllDay?r.end={date:Object(re.Fb)(Object(re.a)(this.end,1)),dateTime:null}:r.end={date:null,dateTime:this.end.toISOString()},this._timeZones.end?r.end.timeZone=this._timeZones.end:(this.recurrenceRule||this.recurrenceId)&&(r.end.timeZone=e.timeZone)},recurrence:()=>r.recurrence=this.recurrenceRule?[`RRULE:${this.recurrenceRule}`]:[],recurringEventId:()=>r.recurringEventId=this._googleRecurringEventId,originalStartTime:()=>{Object(re.kb)(this.originalStart)?r.originalStartTime={date:this.originalStart,dateTime:null}:r.originalStartTime={date:null,dateTime:this.originalStart},r.originalStartTime.timeZone=this._timeZones.originalStart}};for(let e of t){let t=i[e];t&&t()}return r}},{kind:"method",key:"updateBySchedulerData",value:function updateBySchedulerData(e){if(e.calendarId)switch(this.cardType){case te.h.TrelloCard:this._boardId=e.calendarId;break;case te.h.GoogleEvent:this._googleCalendarId=e.calendarId}void 0!==e.listId&&(this._listId=e.listId),e.title&&(this.title=e.title),e.description&&(this.description=e.description),void 0!==e.isArchived&&(this.isArchived=e.isArchived),void 0!==e.isCompleted&&(this.isCompleted=e.isCompleted),void 0!==e.isSubscribed&&(this.isSubscribed=e.isSubscribed),e.labelIds&&(this.labelIds=new x.a(e.labelIds)),e.members&&(this.memberIds=new x.a(e.members)),void 0!==e.cardRole&&(this.cardRole=e.cardRole),Object(re.rb)(e.start)&&Object(re.rb)(e.end)&&(this.isAllDay=!!e.isAllDay,this.start=e.start,this.end=e.end),e.recurrenceRule?this.recurrenceRule=e.recurrenceRule:e.recurrenceId&&(this._recurrenceId=e.recurrenceId,e.originalStart&&(this._originalStart=e.originalStart,this._exceptionDate=Object(re.H)(e.originalStart)),this._sourceCardId=e.recurrenceId),void 0!==e.priority&&(this.priority=e.priority),void 0!==e.defaultSortOrder&&(this.customData.defaultSortOrder=e.defaultSortOrder),void 0!==e.membersSortOrder&&(this.customData.membersSortOrder=e.membersSortOrder),void 0!==e.calendarsSortOrder&&(this.customData.calendarsSortOrder=e.calendarsSortOrder),void 0!==e.listsSortOrder&&(this.customData.listsSortOrder=e.listsSortOrder),void 0!==e.labelsSortOrder&&(this.customData.labelsSortOrder=e.labelsSortOrder),e.sourceCardId&&(this._sourceCardId=e.sourceCardId)}},{kind:"method",key:"addExceptionDate",value:function addExceptionDate(e){var t;b()(t=this.exceptionDates).call(t,(t=>Object(re.w)(t,e)))||(this.exceptionDates=[...this.exceptionDates,e])}},{kind:"method",key:"deleteExceptionDates",value:function deleteExceptionDates(e){let t=[];if(e){for(let r of this.exceptionDates)r<e&&t.push(r);let r=ne.fromString(this.recurrenceRule),i=Object(re.a)(e,-1);r.origOptions.until=this.isAllDay?Object(re.O)(i):Object(re.N)(i),r.origOptions.count=null,this._recurrenceRule=r.toString({onlyDate:this.isAllDay})}this.exceptionDates=t}},{kind:"method",key:"correctRecurrenceDates",value:function correctRecurrenceDates(){if((this.cardType===te.h.TrelloCard||this.cardType===te.h.GoogleEvent)&&this.recurrenceRule){let e=new ne({...ne.parseString(this.recurrenceRule),dtstart:new Date(this.start)}).after(this.start,!0);if(!Object(re.w)(e,this.start)){let t=Object(re.R)(this.start,e);this._start=Object(re.a)(this.start,t),this._end=Object(re.a)(this.end,t)}}}},{kind:"method",key:"duplicate",value:function duplicate(){let e=this.clone();return e._id=ee.k,e._shortId=void 0,this.recurrenceRule?e.exceptionDates=[]:this.recurrenceId&&(e._recurrenceId=void 0,e._originalStart=void 0,e._exceptionDate=void 0),e._trelloCheckItemCards=[],e.checkItemCardsData=[],e._trelloTimeRecordCards=[],e.timeRecordCardsData=[],e.links=[],e._sourceCardId=this.id,e._lastCard=e._getLastCard(),e}},{kind:"method",key:"clone",value:function clone(){var e,t,r;let i=new CalendarCard(this.id,this.cardType);return i._isReadOnly=this._isReadOnly,i._shortId=this.shortId,i._trelloCardNumber=this._trelloCardNumber,i._boardId=this.boardId,i._currentBoardId=this._currentBoardId,i._listId=this.listId,i._position=this.position,i._googleCalendarId=this.googleCalendarId,i._googleEventId=this.googleEventId,i._googleRecurringEventId=this._googleRecurringEventId,i._googleEventUrl=this._googleEventUrl,i._googleShowAsFree=this.googleShowAsFree,i._iCalCalendarId=this.iCalCalendarId,i._iCalType=this.iCalType,i._trelloCustomFieldCards=H()(e=this.trelloCustomFieldCards).call(e,(e=>e.clone())),i._trelloCheckItemCards=H()(t=this.trelloCheckItemCards).call(t,(e=>e.clone())),i._trelloTimeRecordCards=H()(r=this.trelloTimeRecordCards).call(r,(e=>e.clone())),i._parentId=this.parentId,i._parentShortId=this.parentShortId,i._trelloCustomFieldId=this.trelloCustomFieldId,this._keywordIds&&(i._keywordIds=[...this._keywordIds],i._keywords=[...this._keywordIds]),i._due=this.due,i.title=this.title,i.description=this.description,i.isArchived=this.isArchived,i.isCompleted=this.isCompleted,i.isSubscribed=this.isSubscribed,i.labelIds=new x.a(this.labelIds),i.memberIds=new x.a(this.memberIds),this.hasDates&&(i.isAllDay=this.isAllDay,i.start=this.start,i.end=this.end),i.durationMinutes=this.durationMinutes,i._dueLinkType=this._dueLinkType,i._dueLinkTypeAllDay=this._dueLinkTypeAllDay,i._realDue=this._realDue,i._offsetDue=this._offsetDue,i._sync=this._sync,i.recurrenceRule=this.recurrenceRule,i.exceptionDates=[...this.exceptionDates],i._recurrenceId=this.recurrenceId,i._originalStart=this._originalStart,i._exceptionDate=this.exceptionDate,i._timeZones={...this._timeZones},i.priority=this.priority,i._customData={...this.customData},i._sourceCardId=i.sourceCardId,i._needMigrateExtensionCardData=this._needMigrateExtensionCardData,i.lastChangeId=this.lastChangeId,i._lastDataVersionId=this.lastDataVersionId,i.ignoreFilters=this.ignoreFilters,i._lastCard=this._lastCard,i}},{kind:"method",key:"equals",value:function equals(e){if(!e)return!1;function toCardObject(e){var t,r;return{id:e.id,cardType:e.cardType,trelloCardNumber:e.trelloCardNumber,boardId:e.boardId,listId:e.listId,position:e.position,googleShowAsFree:e.googleShowAsFree,title:e.title,description:e.description,isArchived:e.isArchived,isCompleted:e.isCompleted,isSubscribed:e.isSubscribed,labelIds:v()(t=W()(e.labelIds)).call(t),memberIds:v()(r=W()(e.memberIds)).call(r),isAllDay:e.isAllDay,start:e.start,end:e.end,dueLinkType:e._dueLinkType,dueLinkTypeAllDay:e._dueLinkTypeAllDay,realDue:e._realDue,offsetDue:e._offsetDue,recurrenceRule:e.recurrenceRule,exceptionDates:e.exceptionDates,exceptionDate:e.exceptionDate,priority:e.priority,customData:e.customData}}let t=Object(re.Cb)(toCardObject(this),toCardObject(e));if(t)switch(this.cardType){case te.h.TrelloCard:var r;if(this.trelloCustomFieldCards.length!==e.trelloCustomFieldCards.length)t=!1;else t=S()(r=this.trelloCustomFieldCards).call(r,(t=>{var r;let i=B()(r=e.trelloCustomFieldCards).call(r,(e=>e.id===t.id));if(i)return t.equals(i)}))}return t}},{kind:"method",static:!0,key:"_deserializeCardData",value:function _deserializeCardData(e){P()(e).call(e,"{")||(e=q.a.inflate(atob(e),{to:"string"}));let t=JSON.parse(e);if(t){let e;var r,i,a;if(t.customData)e={...t.customData,customFieldCardsData:null===(r=t.customData.customFieldCardsData)||void 0===r?void 0:H()(r).call(r,(e=>({...e}))),checkItemCardsData:null===(i=t.customData.checkItemCardsData)||void 0===i?void 0:H()(i).call(i,(e=>{var t,r;return{...e,sync:null!==(t=e.sync)&&void 0!==t&&t,start:Object(re.H)(e.start,e.isAllDay),end:Object(re.H)(e.end,e.isAllDay),memberIds:null===(r=e.memberIds)||void 0===r?void 0:T()(r).call(r,0,1)}})),timeRecordCardsData:null===(a=t.customData.timeRecordCardsData)||void 0===a?void 0:H()(a).call(a,(e=>({...e,from:Object(re.H)(e.from,e.isDuration),to:Object(re.H)(e.to,e.isDuration)})))};return{version:t.version,dataVersionId:t.dataVersionId||0,isAllDay:t.isAllDay,start:Object(re.H)(t.start,t.isAllDay),end:Object(re.H)(t.end,t.isAllDay),dueLinkType:t.dueLinkType,dueLinkTypeAllDay:t.dueLinkTypeAllDay||t.dueLinkType,offsetDue:t.offsetDue?new Date(t.offsetDue):null,recurrenceRule:t.recurrenceRule,exceptionDates:fromCardDataRecurrenceException(t.recurrenceException,t.isAllDay),recurrenceId:t.recurrenceId,originalStart:t.originalStart,priority:t.priority,customData:e}}}},{kind:"method",key:"_serializeCardData",value:function _serializeCardData(){var e,t,r,i,a,n,o,s;this.customFieldCardsData=L()(e=this.customFieldCardsData).call(e,(e=>{var t;return b()(t=this.trelloCustomFieldCards).call(t,(t=>t.id===e.id||t.trelloCustomFieldId===e.customFieldId))})),this.checkItemCardsData=L()(t=this.checkItemCardsData).call(t,(e=>{var t;return b()(t=this.trelloCheckItemCards).call(t,(t=>t.id===e.id))})),this.timeRecordCardsData=L()(r=this.timeRecordCardsData).call(r,(e=>{var t;return b()(t=this.trelloTimeRecordCards).call(t,(t=>t.id===e.id))}));let l=function toCalendarRecurrenceException(e,t){if(e&&e.length>0)return H()(e).call(e,(e=>t?Object(re.Fb)(e):e.toISOString()))}(this.exceptionDates,this.isAllDay);if(!(this.hasDates||this._dueLinkType||this._dueLinkTypeAllDay||this._offsetDue||this.recurrenceRule||l||this.recurrenceId||this._originalStart||0!==this.priority||this.cardRole!==Q.c.Card||this.defaultSortOrder!==Number.POSITIVE_INFINITY||this.membersSortOrder!==Number.POSITIVE_INFINITY||this.calendarsSortOrder!==Number.POSITIVE_INFINITY||this.listsSortOrder!==Number.POSITIVE_INFINITY||this.labelsSortOrder!==Number.POSITIVE_INFINITY||0!==this.customFieldCardsData.length||0!==this.checkItemCardsData.length||0!==this.timeRecordCardsData.length||0!==this.links.length))return;let d={...this.customData,originalCardId:this.isTempCard?void 0:this.id,customFieldCardsData:H()(i=this.customData.customFieldCardsData).call(i,(e=>({...e}))),checkItemCardsData:H()(a=this.customData.checkItemCardsData).call(a,(e=>({...e,start:e.isAllDay?Object(re.Fb)(e.start):e.start,end:e.isAllDay?Object(re.Fb)(e.end):e.end}))),timeRecordCardsData:H()(n=this.customData.timeRecordCardsData).call(n,(e=>({...e,from:e.isDuration?Object(re.Fb)(e.from):e.from,to:e.isDuration?Object(re.Fb)(e.to):e.to}))),dailyEstimateMinutes:null!==(o=this.customData.dailyEstimateMinutes)&&void 0!==o?o:void 0,isDailyEstimateFieldShown:null!==(s=this.customData.isDailyEstimateFieldShown)&&void 0!==s?s:void 0},c={version:"v4",dataVersionId:this.lastDataVersionId,isAllDay:this.isAllDay,start:this.isAllDay?Object(re.Fb)(this.start):this.start,end:this.isAllDay?Object(re.Fb)(this.end):this.end,dueLinkType:this._dueLinkType,dueLinkTypeAllDay:this._dueLinkTypeAllDay,offsetDue:this._offsetDue,recurrenceRule:this.recurrenceRule,recurrenceException:l,recurrenceId:this.recurrenceId,originalStart:this._originalStart,priority:this.priority,customData:d},u=y()(c,((e,t)=>{if(null!==t&&t!==Number.POSITIVE_INFINITY)return t}));return btoa(q.a.deflate(u,{to:"string"}))}},{kind:"method",static:!0,key:"_deserializeExtensionCardData",value:function _deserializeExtensionCardData(e){let t=parseTrelloCardDescription(e);if(t.data)try{let e=CalendarCard._deserializeCardData(t.data);if(e)return{extensionCardData:e,description:t.description}}catch(e){}return{description:t.description}}},{kind:"method",key:"_serializeExtensionCardData",value:function _serializeExtensionCardData(){let e=this._serializeCardData();return e?`${this.description}\n\n[](Planyway_Data-DO_NOT_DELETE)[](${e})`:this.description}},{kind:"method",static:!0,key:"_deserializeCustomFieldCardData",value:function _deserializeCustomFieldCardData(e){let t=function parseTrelloCustomField(e){var t;if(e)return null===(t=e.match(/Do not edit \((.*?)\)/))||void 0===t?void 0:t[1]}(e);if(t)try{return CalendarCard._deserializeCardData(t)}catch(e){}}},{kind:"method",key:"_serializeCustomFieldCardData",value:function _serializeCustomFieldCardData(){let e=this._serializeCardData();return e?`Do not edit (${e})`:""}},{kind:"method",key:"_getLastCard",value:function _getLastCard(){let e=this.clone();return e._lastCard=void 0,e}},{kind:"method",static:!0,key:"_correctCardData",value:function _correctCardData(e,t,r){let i,a,n,o,s,l,d,c;switch("v4"===(null==r?void 0:r.version)&&(s=r.isAllDay,l=r.dueLinkType,d=r.dueLinkTypeAllDay,c=s?d:l),c){case Q.e.DueStart:case Q.e.DueEnd:if(!e)return;if(n=new Date(e),s)if(t.defaultCardIsAllDay){if(r.recurrenceRule)i=new Date(r.start),a=new Date(r.end);else{let t=Object(re.R)(r.start,r.end);c===Q.e.DueStart?(i=Object(re.O)(e),a=Object(re.a)(i,t)):(a=Object(re.O)(e),i=Object(re.a)(a,-t))}o=new Date(e)}else{let t=Object(re.R)(r.offsetDue,e);r.recurrenceRule?(i=new Date(r.start),a=new Date(r.end)):(i=Object(re.a)(r.start,t),a=Object(re.a)(r.end,t)),o=Object(re.a)(r.offsetDue,t)}else{let t=Object(re.S)(r.offsetDue,e);r.recurrenceRule?(i=new Date(r.start),a=new Date(r.end)):(i=Object(re.c)(r.start,t),a=Object(re.c)(r.end,t)),o=new Date(e)}a<i&&(c===Q.e.DueStart?a=new Date(i):i=new Date(a));break;case Q.e.NotLinked:if(null===e)return;i=new Date(r.start),a=new Date(r.end),a<i&&(i=new Date(a));break;default:if(!e)return;s=t.defaultCardIsAllDay,l=t.dueLinkType,d=t.dueLinkTypeAllDay,c=s?d:l,c===Q.e.DueStart?s?(i=Object(re.O)(e),a=Object(re.a)(i,t.defaultCardDuration-1)):(i=new Date(e),a=Object(re.c)(i,t.defaultCardDuration)):s?(a=Object(re.O)(e),i=Object(re.a)(a,1-t.defaultCardDuration)):(a=new Date(e),i=Object(re.c)(a,-t.defaultCardDuration)),n=new Date(e),c!==Q.e.NotLinked&&(o=new Date(e))}return{isAllDay:s,start:i,end:a,dueLinkType:l,dueLinkTypeAllDay:d,realDue:n,offsetDue:o}}},{kind:"method",key:"_correctDueDateAsStartDate",value:function _correctDueDateAsStartDate(){let e=this._getLastOccurrenceDate();this._realDue=new Date(e||this.start),this._offsetDue=new Date(this._realDue)}},{kind:"method",key:"_correctAllDayDueDateAsStartDate",value:function _correctAllDayDueDateAsStartDate(e){let t=this._getLastOccurrenceDate();if(e&&e.defaultCardIsAllDay||!this._lastCard||this._dueLinkTypeAllDay!==this._lastCard._dueLinkTypeAllDay||!this._lastCard.isAllDay||!this._lastCard._realDue||!this._lastCard._offsetDue||this._lastCard.recurrenceRule||t)this._realDue=Object(re.W)(t||this.start),this._offsetDue=new Date(this._realDue);else{let e=Object(re.R)(this._lastCard.start,this.start);this._realDue=Object(re.a)(this._lastCard._realDue,e),this._offsetDue=Object(re.a)(this._lastCard._offsetDue,e)}}},{kind:"method",key:"_correctDueDateAsEndDate",value:function _correctDueDateAsEndDate(){let e=this._getLastOccurrenceDate();this._realDue=new Date(e||this.end),this._offsetDue=new Date(this._realDue)}},{kind:"method",key:"_correctAllDayDueDateAsEndDate",value:function _correctAllDayDueDateAsEndDate(e){let t=this._getLastOccurrenceDate();if(e&&e.defaultCardIsAllDay||!this._lastCard||this._dueLinkTypeAllDay!==this._lastCard._dueLinkTypeAllDay||!this._lastCard.isAllDay||!this._lastCard._realDue||!this._lastCard._offsetDue||this._lastCard.recurrenceRule||t)this._realDue=Object(re.W)(t||this.end),this._offsetDue=new Date(this._realDue);else{let e=Object(re.R)(this._lastCard.end,this.end);this._realDue=Object(re.a)(this._lastCard._realDue,e),this._offsetDue=Object(re.a)(this._lastCard._offsetDue,e)}}},{kind:"method",key:"_correctDueDateAsNotLinked",value:function _correctDueDateAsNotLinked(){let e=this._getLastOccurrenceDate();(this.isTempCard||!this._lastCard||!this._lastCard.hasDates||this._lastCard.recurrenceRule&&!e)&&(this._realDue=new Date(e||this.end))}},{kind:"method",key:"_correctAllDayDueDateAsNotLinked",value:function _correctAllDayDueDateAsNotLinked(){let e=this._getLastOccurrenceDate();(this.isTempCard||!this._lastCard||!this._lastCard.hasDates||this._lastCard.recurrenceRule&&!e)&&(this._realDue=Object(re.W)(e||this.end))}},{kind:"method",key:"_toCustomFieldCardData",value:function _toCustomFieldCardData(){if(this.hasDates)return{id:this.id,customFieldId:this.trelloCustomFieldId,isAllDay:this.isAllDay,isCompleted:this.isCompleted,defaultSortOrder:this.defaultSortOrder,membersSortOrder:this.membersSortOrder,calendarsSortOrder:this.calendarsSortOrder,listsSortOrder:this.listsSortOrder,labelsSortOrder:this.labelsSortOrder}}},{kind:"method",static:!0,key:"_correctCheckItemCardData",value:function _correctCheckItemCardData(e,t,r){let i,a,n,o,s,l,d;switch(r&&(o=r.isAllDay,s=r.dueLinkType,l=r.dueLinkTypeAllDay,d=o?l:s),d){case Q.e.DueStart:case Q.e.DueEnd:if(!e)return;if(n=new Date(e),o){let t=Object(re.R)(r.start,r.end);d===Q.e.DueStart?(i=Object(re.O)(e),a=Object(re.a)(i,t)):(a=Object(re.O)(e),i=Object(re.a)(a,-t))}else{let t=Object(re.S)(r.start,r.end);d===Q.e.DueStart?(i=Object(re.Eb)(e,r.start),a=Object(re.c)(i,t)):(a=Object(re.Eb)(e,r.end),i=Object(re.c)(a,-t))}a<i&&(d===Q.e.DueStart?a=new Date(i):i=new Date(a));break;case Q.e.NotLinked:if(null===e)return;i=new Date(r.start),a=new Date(r.end),a<i&&(i=new Date(a));break;default:if(!e)return;o=t.defaultCardIsAllDay,s=t.dueLinkType,l=t.dueLinkTypeAllDay,d=o?l:s,d===Q.e.DueStart?o?(i=Object(re.O)(e),a=Object(re.a)(i,t.defaultCardDuration-1)):(i=Object(re.W)(e),a=Object(re.c)(i,t.defaultCardDuration)):o?(a=Object(re.O)(e),i=Object(re.a)(a,1-t.defaultCardDuration)):(a=Object(re.W)(e),i=Object(re.c)(a,-t.defaultCardDuration)),n=new Date(e)}return{isAllDay:o,start:i,end:a,dueLinkType:s,dueLinkTypeAllDay:l,realDue:n}}},{kind:"method",key:"_toCheckItemCardData",value:function _toCheckItemCardData(e){if(this._dueLinkType=void 0,this._dueLinkTypeAllDay=void 0,this._realDue=void 0,this.hasDates)if(this._dueLinkType=e.dueLinkType,this._dueLinkTypeAllDay=e.dueLinkTypeAllDay,this.isAllDay)switch(this._dueLinkTypeAllDay){case Q.e.DueStart:this._correctAllDayCheckItemDueDateAsStartDate(e);break;case Q.e.DueEnd:this._correctAllDayCheckItemDueDateAsEndDate(e);break;case Q.e.NotLinked:this._correctAllDayCheckItemDueDateAsNotLinked()}else switch(this._dueLinkType){case Q.e.DueStart:this._correctCheckItemDueDateAsStartDate();break;case Q.e.DueEnd:this._correctCheckItemDueDateAsEndDate();break;case Q.e.NotLinked:this._correctCheckItemDueDateAsNotLinked()}if(this._lastCard=this._getLastCard(),this.hasDates||this.hasMembers){var t;let e={id:this.id,sync:this._sync,memberIds:L()(t=W()(this.memberIds)).call(t,(e=>e!==ee.k)),defaultSortOrder:this.defaultSortOrder,membersSortOrder:this.membersSortOrder,calendarsSortOrder:this.calendarsSortOrder,listsSortOrder:this.listsSortOrder,labelsSortOrder:this.labelsSortOrder};return this.hasDates&&(e.isAllDay=this.isAllDay,e.start=this.start,e.end=this.end,e.dueLinkType=this._dueLinkType,e.dueLinkTypeAllDay=this._dueLinkTypeAllDay),e}}},{kind:"method",key:"_correctCheckItemDueDateAsStartDate",value:function _correctCheckItemDueDateAsStartDate(){this._realDue=Object(re.M)(this.start,18)}},{kind:"method",key:"_correctAllDayCheckItemDueDateAsStartDate",value:function _correctAllDayCheckItemDueDateAsStartDate(e){if(e&&e.defaultCardIsAllDay||!this._lastCard||this._dueLinkTypeAllDay!==this._lastCard._dueLinkTypeAllDay||!this._lastCard.isAllDay||!this._lastCard._realDue)this._realDue=Object(re.M)(this.start,18);else{let e=Object(re.R)(this._lastCard.start,this.start);this._realDue=Object(re.a)(this._lastCard._realDue,e)}}},{kind:"method",key:"_correctCheckItemDueDateAsEndDate",value:function _correctCheckItemDueDateAsEndDate(){this._realDue=Object(re.M)(this.end,18)}},{kind:"method",key:"_correctAllDayCheckItemDueDateAsEndDate",value:function _correctAllDayCheckItemDueDateAsEndDate(e){if(e&&e.defaultCardIsAllDay||!this._lastCard||this._dueLinkTypeAllDay!==this._lastCard._dueLinkTypeAllDay||!this._lastCard.isAllDay||!this._lastCard._realDue)this._realDue=Object(re.M)(this.end,18);else{let e=Object(re.R)(this._lastCard.end,this.end);this._realDue=Object(re.a)(this._lastCard._realDue,e)}}},{kind:"method",key:"_correctCheckItemDueDateAsNotLinked",value:function _correctCheckItemDueDateAsNotLinked(){(this.isTempCard||!this._lastCard||!this._lastCard.hasDates||!this._lastCard._sync&&this._sync)&&(this._realDue=Object(re.M)(this.end,18))}},{kind:"method",key:"_correctAllDayCheckItemDueDateAsNotLinked",value:function _correctAllDayCheckItemDueDateAsNotLinked(){(this.isTempCard||!this._lastCard||!this._lastCard.hasDates||!this._lastCard._sync&&this._sync)&&(this._realDue=Object(re.M)(this.end,18))}},{kind:"method",key:"_toTimeRecordCardData",value:function _toTimeRecordCardData(){var e;if(this.hasDates)return{id:this.id,isDuration:this.isAllDay,from:this.start,to:this.end,durationMinutes:this.durationMinutes,memberId:L()(e=W()(this.memberIds)).call(e,(e=>e!==ee.k))[0],defaultSortOrder:this.defaultSortOrder,membersSortOrder:this.membersSortOrder,calendarsSortOrder:this.calendarsSortOrder,listsSortOrder:this.listsSortOrder,labelsSortOrder:this.labelsSortOrder}}},{kind:"method",key:"_getLastOccurrenceDate",value:function _getLastOccurrenceDate(){if(!this.recurrenceRule)return;let e,t=new ne({...ne.parseString(this.recurrenceRule),dtstart:new Date(this.start)});if(e=t.origOptions.count||t.origOptions.until?t.before(t.origOptions.until||oe,!0)||this.start:new Date(oe),(this.isAllDay?this._dueLinkTypeAllDay:this._dueLinkType)!==Q.e.DueStart)if(this.isAllDay){let t=Object(re.R)(this.start,this.end);e=Object(re.a)(e,t)}else{let t=Object(re.S)(this.start,this.end);e=Object(re.c)(e,t)}return e}},{kind:"method",key:"_updateRecurrenceRule",value:function _updateRecurrenceRule(){if(this.hasDates&&(this.cardType===te.h.TrelloCard||this.cardType===te.h.GoogleEvent)&&this.recurrenceRule){let e=ne.fromString(this.recurrenceRule);e.origOptions.until&&(e.origOptions.until<=this.start?(e.origOptions.until=null,e.origOptions.count=1):e.origOptions.until=this.isAllDay?Object(re.O)(e.origOptions.until):Object(re.N)(e.origOptions.until),this._recurrenceRule=e.toString({onlyDate:this.isAllDay}))}}}]}}));function parseTrelloCardKeywords(e){var t;return e?L()(t=e.toLowerCase().split(/[\s\x21\x22\x24-\x26\x28-\x2C\x2F\x3A-\x3F\x5B-\x60\x7B-\x7F]+/)).call(t,(e=>e)):[]}function parseTrelloCardDescription(e){let t={description:e,data:"",match:""};function extractPlanywayData(e){let t=e.match(/\n*\[]\(Planyway_Data-DO_NOT_DELETE\)\[]\((.*?)\)/);return t||(t=e.match(/\n*!\[Planyway Data - DO NOT EDIT!].*?\(.*?\((.*?)\)/),t||(t=e.match(/\n*!\[Trellius Data - DO NOT EDIT!].*?\(.*?\((.*?)\)/))),t}if(e){let e;for(;e=extractPlanywayData(t.description);)t.data||(t.data=e[1],t.match=e[0]),t.description=t.description.replace(e[0],"")}return t}function toggleLabel(e,t){let r=new x.a(e.labelIds);return r.has(t)?r.delete(t):r.add(t),0===r.size?r.add(ee.k):r.size>1&&r.delete(ee.k),r}function isMultipleMembersSupported(e){switch(e.cardType){case te.h.TrelloCheckItem:case te.h.TrelloTimeRecord:return!1;default:return!0}}function isMemberRequired(e){switch(e.cardType){case te.h.TrelloTimeRecord:return!0;default:return!1}}function toggleMember(e,t){let r=new x.a(e.memberIds);return isMultipleMembersSupported(e)?r.has(t)?(!isMemberRequired(e)||r.size>1)&&r.delete(t):r.add(t):r.has(t)?isMemberRequired(e)||(r=new x.a):r=new x.a([t]),0===r.size?r.add(ee.k):r.size>1&&r.delete(ee.k),r}function fromCardDataRecurrenceException(e,t){return E()(e)?H()(e).call(e,(e=>Object(re.H)(e,t))):e?H()(r=e.split(",")).call(r,re.I):void 0;var r}function getGoogleCardId(e,t){return`${e}-${t}`}},416:function(e,t){},417:function(e,t){},435:function(e,t,r){var i={"./locale-en.json":436,"./locale-ru.json":437};function webpackContext(e){var t=webpackContextResolve(e);return r(t)}function webpackContextResolve(e){if(!r.o(i,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return i[e]}webpackContext.keys=function webpackContextKeys(){return Object.keys(i)},webpackContext.resolve=webpackContextResolve,e.exports=webpackContext,webpackContext.id=435},436:function(e){e.exports=JSON.parse('{"BUTTONS":{"ACCEPT":"Accept","ACCOUNT":"Account","ACCOUNT_SETTINGS":"Account settings","ADD":"Add","ADD_CARD":"Add card","ADD_CHECK_ITEM":"Add an item","ADD_DURATION":"Add duration","ADD_LIST":"Add list","ADD_REMINDER":"Add a reminder","ADD_TIME":"Add time","ADD_TIME_RECORD":"Log time","ALL_CARDS":"All cards","ATTACH":"Attach","BACK":"Back","BOARD":"Board","BOARDS":"Boards","CALENDAR":"Calendar","CALENDARS":"Calendars","CANCEL":"Cancel","CLOSE":"Close","COMPLETED_CARDS":"Completed cards","CONNECT":"Connect","CONNECT_BOARD":"Connect board","CONNECT_YOUR_CALENDAR":"Connect your calendar","CONNECTED_BOARDS":"Connected boards","CONNECT_WITH_GOOGLE":"Connect with Google","CONNECT_WITH_TRELLO":"Connect with Trello","CONTACT_US":"Contact us","CONTINUE":"Continue","COPY_URL":"Copy URL","CREATE":"Create","CREATE_BOARD":"Create board","CUSTOM":"Custom","DELETE":"Delete","DISCARD":"Don\'t save","DISCONNECT":"Disconnect","DONE":"Done","EDIT":"Edit","EDIT_CARD_OCCURRENCE":"This card","EDIT_CARD_SERIES":"All cards","EDIT_CARD_THIS_AND_FOLLOWING":"This and following cards","EDIT_EVENT_OCCURRENCE":"This event","EDIT_EVENT_SERIES":"All events","EDIT_EVENT_THIS_AND_FOLLOWING":"This and following events","ENABLE":"Enable","EXPORT_TO_CSV":"Export to CSV","FEWER_OPTIONS":"Fewer options","FINISH":"Finish","GOOGLE_CALENDARS":"Google calendars","GOT_IT":"Got It","GO_TO_TRELLO":"Go to Trello","HELP":"Help","HIDE_COMPLETED":"Hide completed","HOME":"Home","INCOMPLETE_CARDS":"Incomplete cards","INTEGRATIONS":"Integrations","INVITE":"Invite","LABEL":"Label","LABELS":"Labels","LAST_MONTH":"Last month","LAST_WEEK":"Last week","LIST":"List","LISTS":"Lists","LOG_IN_WITH_TRELLO":"Log in with Trello","LOG_OUT":"Log out","MEMBER":"Member","MEMBERS":"Members","MORE_OPTIONS":"More options","NEXT":"Next","NO":"No","NONE":"None","NO_THANKS":"No, thanks","OK":"OK","OPEN_CARD":"Open card","OPEN_EVENT":"Open event","OR_LEARN_MORE":"or learn more","OTHER_CALENDARS":"Other calendars","PLAN_ON_TIMELINE":"Plan on timeline","PLANYWAY":"Planyway","PUBLISH":"Publish","PREVIOUS":"Previous","RATE_US":"Rate us","RELOAD":"Reload","REMOVE":"Remove","REMOVE_MEMBER":"Remove member","REMOVE_TIME":"Remove time","RESYNC":"Restart sync","SAVE":"Save","SELECT":"Select","SEND":"Send","SEND_FEEDBACK":"Contact support","SET_DATE":"Set date","SHOW_COMPLETED":"Show completed","SHOW_ONLY_MY_CARDS":"Only cards assigned to me","SIGN_IN_WITH_TRELLO":"Sign in with Trello","SKIP":"Skip","START_FREE_TRIAL":"Start a 15-day free trial","START_FREE_TRIAL_SHORT":"Start free trial","START_WORKING":"Start working","STAY_FREE":"Stay free","SYNC":"Sync","SUBMIT":"Submit","SUPPORT_CHAT":"Support chat","TASKS_ADD_CARD":"Add a card","TASKS_ADD_CHECK_ITEM":"Add an item","TIMELINE":"Timeline","TIME_TRACKING":"Time tracking","TODAY":"Today","VIEW_ON_TIMELINE":"View on timeline","UNSYNC":"Stop sync","UPGRADE":"Upgrade","UPGRADE_NOW":"Upgrade now","USERS":"Users","YES":"Yes"},"DIALOGS":{"ADD_ATTACHMENT_TITLE":"Add an attachment","ADD_BOARD_BY_URL_TITLE":"Add public board by URL","ADD_BOARD_BY_URL_PLACEHOLDER":"Paste URL in https://trello.com/b/... or https://planyway.com/app?boardId=... format","ADD_BOARD_BY_URL_INVALID_URL":"Please enter a valid URL","ADD_BOARD_BY_URL_NOT_FOUND":"Board does not exist or is not public","ADD_CHECK_ITEM":"Add check item","ADD_CALENDARS":"Add calendars","ADD_CALENDAR_BY_URL":"Add calendar by URL","ADD_MEMBER":"Add member","ADD_MEMBERS":"Add members","ADD_NUMBER":"Add number","ADD_TEXT":"Add text","ADDED":"Added","AFTER":"After","APPEARANCE_SETTINGS_TITLE":"Card appearance","ATTACH":"Attach","ATTACH_LINK":"Attach a link","ATTACHMENTS":"Attachments","BOARD_ORGANIZATION_SUBTITLE":"All members of the {pw{organizationName}pw} team can see and edit this board","BOARD_ORGANIZATION_TITLE":"Team","BOARD_PRIVATE_SUBTITLE":"Only board members can see and edit this board","BOARD_PRIVATE_TITLE":"Private","BOARD_PUBLIC_SUBTITLE":"Anyone can see this board and leave comments. Only board members can edit","BOARD_PUBLIC_TITLE":"Public","CARD_ROLE_CARD":"Card","CARD_ROLE_CHECK_ITEM":"Check item","CARD_ROLE_CUSTOM_FIELD":"Custom field","CARD_ROLE_GOOGLE_EVENT":"Event","CARD_ROLE_ICAL_EVENT":"Other event","CARD_ROLE_MILESTONE":"Milestone","CARD_ROLE_TIME_RECORD":"Time entry","CARD_THEME":"Card theme","CHECKLIST":"Checklist","CHECKLISTS":"Checklists","CHOOSE_FILES":"Choose files","CHOOSE_OPTION":"Choose option","CHOOSE_MODE_CALENDAR_DESCRIPTION":"Visualize your team schedule and track<br>upcoming due dates","CHOOSE_MODE_CALENDAR_NAME":"Calendar","CHOOSE_MODE_SUBTITLE":"You can change this later","CHOOSE_MODE_TIME_TRACKING_DESCRIPTION":"Get deeper insights into how your<br>team\'s performing","CHOOSE_MODE_TIME_TRACKING_NAME":"Time tracking","CHOOSE_MODE_TIMELINE_DESCRIPTION":"See what everyone is working on and when,<br>manage availability and monitor overbooking","CHOOSE_MODE_TIMELINE_NAME":"Timeline","CHOOSE_MODE_TITLE":"Choose the best view for your board","COLORFUL_THEME":"Colorful","COMMENT_EDITED":"(edited {pw{shortLastEditDate}pw})","COMMENT_PLACEHOLDER":"Write a comment...","COMMENTS":"Comments","CONTACT_US_MESSAGE":"Message","CONTACT_US_TITLE":"Contact us","CONTACT_US_TEXT":"Contact our consulting team for hands-on guidance tailored to your team\'s specific needs","CONTACT_US_PLACEHOLDER":"Tell us more about the functionality you need and let us know how many of your team members need a license","CREATE_BOARD_PLACEHOLDER":"Enter board name...","CREATE_BOARD_TITLE":"Create board","CUSTOM_FIELDS":"Custom Fields","CUSTOM_FIELDS_SETTINGS_TITLE":"Custom fields","CUSTOM_RECURRENCE":"Custom recurrence","CUSTOM_FILTER_DIALOG_TITLE":"Add filter","CUSTOM_FILTERS_CUSTOM_FIELD_PLACEHOLDER":"Select custom field","CUSTOM_FILTERS_FILTER_NAME":"{pw{filterName}pw} is {pw{filterValue}pw}","CUSTOM_FILTERS_IS":"is","CUSTOM_FILTERS_CHECKED":"checked","CUSTOM_FILTERS_NOT_CHECKED":"not checked","CUSTOM_FILTERS_REMOVE_TITLE":"Remove filter","CUSTOM_FILTERS_REMOVE_TEXT":"Are you sure you want to remove filter \\"{pw{filterName}pw}\\"?","DAILY":"day","DEFAULT_CARD_DURATION":"Default card duration","DEFAULT_CARD_POSITION":"Default card position","DEFAULT_LIST":"Default list","DEFAULT_RULE_TEXT":"Does not repeat","DELETE_CHECK_ITEM_CONFIRM":"Are you sure you want to delete check item \\"{pw{name}pw}\\"? This action cannot be undone.","DELETE_CHECK_ITEM_TITLE":"Delete check item","DELETE_CHECKLIST_CONFIRM":"Are you sure you want to delete checklist \\"{pw{name}pw}\\"? This action cannot be undone.","DELETE_CHECKLIST_TITLE":"Delete checklist","DELETE_COMMENT_CONFIRM":"Are you sure you want to delete comment \\"{pw{comment}pw}\\"? This action cannot be undone.","DELETE_COMMENT_TITLE":"Delete comment","DELETE_GOOGLE_EVENT_CONFIRM":"Are you sure you want to delete selected event from Google? This action cannot be undone.","DELETE_GOOGLE_EVENT_CONFIRM_MULTIPLE":"Are you sure you want to delete {pw{cardsCount}pw} events from Google? This action cannot be undone.","DELETE_GOOGLE_EVENT_TITLE":"Delete Google event","DELETE_TIME_RECORD_CONFIRM":"Are you sure you want to delete selected time entry? This action cannot be undone.","DELETE_TIME_RECORD_TITLE":"Delete time entry","DELETE_TRELLO_CARD_CONFIRM":"Are you sure you want to delete selected card from Trello? This action cannot be undone.","DELETE_TRELLO_CARD_CONFIRM_MULTIPLE":"Are you sure you want to delete {pw{cardsCount}pw} cards from Trello? This action cannot be undone.","DELETE_TRELLO_CARD_TITLE":"Delete Trello card","DELETE_TRELLO_CHECK_ITEM_CARD_CONFIRM":"Are you sure you want to delete selected check item from Trello? This action cannot be undone.","DELETE_TRELLO_CHECK_ITEM_CARD_CONFIRM_MULTIPLE":"Are you sure you want to delete {pw{cardsCount}pw} check items from Trello? This action cannot be undone.","DELETE_TRELLO_CHECK_ITEM_CARD_TITLE":"Delete Trello check item","DELETE_TRELLO_LIST_CONFIRM":"Are you sure you want to delete selected list from Trello? This action cannot be undone.","DELETE_TRELLO_LIST_TITLE":"Delete Trello list","DELETE_TRELLO_TIME_RECORD_CARD_CONFIRM":"Are you sure you want to delete selected time entry from Trello? This action cannot be undone.","DELETE_TRELLO_TIME_RECORDS_CARD_CONFIRM_MULTIPLE":"Are you sure you want to delete {pw{cardsCount}pw} time entries from Trello? This action cannot be undone.","DELETE_TRELLO_TIME_RECORD_CARD_TITLE":"Delete time entry","DESCRIPTION":"Description","DESCRIPTION_PLACEHOLDER":"Type to add description...","DISABLE_GOOGLE_CONNECT_CONFIRM":"Are you sure you want to disconnect your Google Calendar from Planyway?","DISABLE_GOOGLE_CONNECT_TITLE":"Disconnect Google Calendar","DISABLE_NOTIFICATIONS_CONFIRM":"Are you sure you want to disable push notifications? This action will disable push notifications for all your devices.","DISABLE_NOTIFICATIONS_TITLE":"Disable notifications","DONT_ASK_AGAIN":"Don\'t ask me again","DROP_TO_ATTACH_FILE":"Drop to attach file","EDIT_ATTACHMENT_TITLE":"Edit attachment","EDIT_BOARD_TITLE":"Edit board","ENABLE_NOTIFICATIONS_TEXT":"Enable desktop notifications and stay up to date","ENDS":"Ends","END_DATE":"end date","END_TIME":"end time","FEEDBACK_EMAIL_PLACEHOLDER":"Your email","FEEDBACK_INVALID_EMAIL":"Please enter a valid email","FEEDBACK_MESSAGE_PLACEHOLDER":"Your message","FEEDBACK_MISSING_EMAIL":"Please enter your email","FEEDBACK_MISSING_MESSAGE":"Please enter your message","FEEDBACK_MISSING_NAME":"Please enter your name","FEEDBACK_NAME_PLACEHOLDER":"Your name","FIFTEEN_MINUTES":"15 minutes","FILE_NAME":"File name","FIRST":"first","FOURTH":"fourth","GOOGLE_CALENDAR":"Google calendar","GOOGLE_SYNC_RESTART_CONFIRM":"Sorry, something went wrong.","GOOGLE_SYNC_RESTART_TITLE":"Google sync error","GOOGLE_SYNC_START_AVAILABILITY":"Show events as","GOOGLE_SYNC_START_AVAILABILITY_BUSY":"busy","GOOGLE_SYNC_START_AVAILABILITY_FREE":"free","GOOGLE_SYNC_START_COMPLETED_CARDS":"Completed cards","GOOGLE_SYNC_START_COMPLETED_CARDS_EXCLUDE":"don\'t sync","GOOGLE_SYNC_START_COMPLETED_CARDS_MARK":"add ✓ to event name","GOOGLE_SYNC_START_OPTIONS_TITLE":"Sync options","GOOGLE_SYNC_START_SET_EVENT_COLORS":"Set event color in Google Calendar","GOOGLE_SYNC_START_SET_EVENT_COLORS_BY_LABEL":"same as Trello label","GOOGLE_SYNC_START_SET_EVENT_COLORS_DEFAULT":"by default","GOOGLE_SYNC_START_SYNC_CARDS":"Sync with Google Calendar","GOOGLE_SYNC_START_SYNC_CARDS_ALL_CARDS":"all cards","GOOGLE_SYNC_START_SYNC_CARDS_ONLY_MY_CARDS":"only cards assigned to me","GOOGLE_SYNC_STOP_CONFIRM":"Are you sure you want to stop Google sync?","GOOGLE_SYNC_STOP_TITLE":"Stop Google sync","HALF_HOUR":"30 minutes","HOW_TO_START_1":"Go to Trello","HOW_TO_START_2":"Open any Trello board","HOW_TO_START_3":"Click the Planyway button","HOW_TO_START_4":"Start using Timeline or Calendar","INTEGRATIONS_TITLE":"Integrations","INTEGRATIONS_GOOGLE_SYNC":"Display <b>Planyway cards</b> in Google<br>Calendar and sync future changes","INTEGRATIONS_GOOGLE_CONNECT":"Display <b>Google Calendar</b> events in Planyway and sync future changes","INTEGRATIONS_IMPORT_ICAL":"Add any calendar <b>to Planyway</b> by URL","INTEGRATIONS_EXPORT_ICAL":"Publish Planyway cards <b>to<br>any calendar</b> by URL","ICAL_EDIT_CHOOSE_COLOR":"Choose calendar color","ICAL_EDIT_PREVIEW_CARD_TEXT":"Your calendar card","ICAL_EDIT_PREVIEW_CARD_CALENDAR_TEXT":"Your calendar","ICAL_EXPORT_HOW_TO":"Where to paste URL:","ICAL_EXPORT_TITLE":"Paste this URL to your calendar","ICAL_EXPORT_WARNING":"Only share this address with those you trust to see all card details for this calendar","ICAL_IMPORT_INVALID_CALENDAR":"Calendar is not valid or cannot be loaded","ICAL_IMPORT_INVALID_URL":"Please enter a valid URL","ICAL_IMPORT_HOW_TO":"How to get calendar URL:","ICAL_IMPORT_TITLE":"Add calendar by URL","ICAL_IMPORT_URL_PLACEHOLDER":"Paste Calendar URL address here","INVALID_TOKEN":"Please enter a valid Trello token","LABELS":"Labels","LAST":"last","LIGHT_THEME":"Light","LINK":"Link","LINK_NAME_OPTIONAL":"Link name (optional)","LOADING":"Loading...","LOCALE":"Regional format","LOGIN_INVALID_TOKEN":"That Trello token doesn\'t look right. Try to get it again","MEMBER_INVITE_NOT_TEAM_MEMBER":"(not a team member)","MEMBER_INVITE_JOINED":"(joined)","MEMBER_INVITE_LINK_CREATE":"Create link","MEMBER_INVITE_LINK_DEACTIVATE":"Deactivate link","MEMBER_INVITE_LINK_SUBTITLE":"Anyone with link can join as board member.","MEMBER_INVITE_LINK_TITLE":"Invite with link","MEMBER_INVITE_NOT_FOUND":"No matching members found","MEMBER_INVITE_PLACEHOLDER":"Email address or name","MEMBER_INVITE_TITLE":"Invite members","MEMBER_MANAGE_ALL_MEMBERS_TITLE":"Members","MEMBER_MANAGE_PLACEHOLDER":"Search members by name...","MEMBER_MANAGE_REMOVE_MEMBER_ACTION":"Remove from board...","MEMBER_MANAGE_REMOVE_MEMBER_TITLE":"Remove member?","MEMBER_MANAGE_REMOVE_MEMBER_WARNING":"The member will be removed from all cards on this board. They will receive a notification.","MEMBER_MANAGE_SHOW_MEMBER_TITLE":"Member","MONTHLY":"month","MULTIBOARD_FILTERS_TITLE":"Board filters","NEVER":"Never","NEWS_FOOTER_TEXT":"For more updates check out our <a href=\\"{pw{blogUrl}pw}\\" target=\\"_blank\\" rel=\\"noopener noreferrer\\">blog</a> and <a href=\\"{pw{helpUrl}pw}\\" target=\\"_blank\\" rel=\\"noopener noreferrer\\">help</a>","NEWS_TITLE":"What\'s new in Planyway","NEW_LIST":"(new list)","NOT_LINKED":"do not link","NO_COLOR":"No color","NO_LABEL":"No label","OCCURRENCES":"occurrences","ONE_DAY":"1 day","ONE_HOUR":"1 hour","ON_DATE":"On","ON_DAY":"On day {pw{day}pw}","ON_WEEKDAY":"On the {pw{weekdayOrder}pw} {pw{weekday}pw}","PAID_FEATURE_BADGE_PRO":"Pro","PAID_FEATURE_BADGE_BUSINESS":"Business","PAID_FEATURE_CSV_REPORT_DESCRIPTION":"Export all data to a CSV file and make powerful reports","PAID_FEATURE_CSV_REPORT_TITLE":"Export to CSV","PAID_FEATURE_CUSTOM_FIELDS_DESCRIPTION":"Visualize your custom dates on the calendar","PAID_FEATURE_CUSTOM_FIELDS_TITLE":"Custom dates","PAID_FEATURE_DEPENDENCIES_DESCRIPTION":"Visualize dependent tasks on the timeline","PAID_FEATURE_DEPENDENCIES_TITLE":"Dependencies","PAID_FEATURE_FILTERS_DESCRIPTION":"Filter cards by members, labels, lists or custom fields","PAID_FEATURE_FILTERS_TITLE":"Filters","PAID_FEATURE_GOOGLE_CONNECT_DESCRIPTION":"Synchronize your Trello boards with Google Calendar","PAID_FEATURE_GOOGLE_CONNECT_TITLE":"Google connect","PAID_FEATURE_GOOGLE_SYNC_DESCRIPTION":"Synchronize your Trello boards with Google Calendar in two-ways","PAID_FEATURE_GOOGLE_SYNC_TITLE":"Google calendar sync","PAID_FEATURE_MILESTONES_DESCRIPTION":"Highlight key dates and deadlines","PAID_FEATURE_MILESTONES_TITLE":"Milestones","PAID_FEATURE_MULTIBOARD_DESCRIPTION":"Coordinate your tasks across boards","PAID_FEATURE_MULTIBOARD_TITLE":"Multi-board view","PAID_FEATURE_PUSH_NOTIFICATIONS_DESCRIPTION":"Set reminders not to miss out on tasks that matter","PAID_FEATURE_PUSH_NOTIFICATIONS_TITLE":"Reminders","PAID_FEATURE_RECURRING_CARDS_DESCRIPTION":"Plan repetitive tasks on the calendar","PAID_FEATURE_RECURRING_CARDS_TITLE":"Recurring cards","PAID_FEATURE_TIME_RECORDS_DESCRIPTION":"Track time spent on a given task on the timeline or calendar views","PAID_FEATURE_TIME_RECORDS_TITLE":"Time tracking","PAID_FEATURE_TIMELINE_DESCRIPTION":"Plan team and project schedule on the timeline","PAID_FEATURE_TIMELINE_GROUPS_DESCRIPTION":"Get a clear overview of your initiatives divided by team members, projects, status or types of work","PAID_FEATURE_TIMELINE_GROUPS_TITLE":"Timeline groups","PAID_FEATURE_TIMELINE_SCALES_DESCRIPTION":"Overview plans by weeks, months or quarters","PAID_FEATURE_TIMELINE_SCALES_TITLE":"Zoom levels","PAID_FEATURE_TIMELINE_TEAM_NOT_ENOUGH_DESCRIPTION":"Not enough seats on your current plan to add members on Timeline","PAID_FEATURE_TIMELINE_TEAM_NOT_ENOUGH_TITLE":"Oops!","PAID_FEATURE_TIMELINE_TITLE":"Timeline","PASTE_ANY_LINK_HERE":"Paste any link here...","PASTE_ANY_NAME_HERE":"Add any name here...","PASTE_TRELLO_TOKEN_HERE":"Paste your token here...","PRIORITY":"Priority","PRODUCT_TOUR_STEP_1_TITLE":"Drag and drop cards","PRODUCT_TOUR_STEP_1_TEXT":"Schedule dates and time for any card by dragging and dropping it onto your calendar.","PRODUCT_TOUR_STEP_2_TITLE":"See cards from other boards","PRODUCT_TOUR_STEP_2_TEXT":"Connect multiple boards and get them visualized on one screen.","PRODUCT_TOUR_STEP_3_TITLE":"Add your Google Calendar","PRODUCT_TOUR_STEP_3_TEXT":"Connect your Google Calendar so you can see everything in one place.","PRODUCT_TOUR_STEP_4_TITLE":"View cards from any angle","PRODUCT_TOUR_STEP_4_TEXT":"Choose the best view to plan anything you need.","PRODUCT_TOUR_TITLE":"Continue tour","RECURRENT_CARD_DELETE_CONFIRM_TITLE":"Delete recurring card","RECURRENT_CARD_EDIT_CONFIRM_TITLE":"Edit recurring card","RECURRENT_CARD_OPEN_CONFIRM_TITLE":"Open recurring card","RECURRENT_CARD_REMOVE_CONFIRM_TITLE":"Remove start/end dates from recurring card","RECURRENT_EVENT_DELETE_CONFIRM_TITLE":"Delete recurring event","RECURRENT_EVENT_EDIT_CONFIRM_TITLE":"Edit recurring event","RECURRENT_EVENT_OPEN_CONFIRM_TITLE":"Open recurring event","RECURRENT_IS_DANGEROUS":"This action cannot be undone.","REMIND_BEFORE":"before start","REMIND_BEFORE_1_DAY":"1 day before","REMIND_BEFORE_1_HOUR":"1 hour before","REMIND_BEFORE_5_MINUTES":"5 minutes before","REMIND_BEFORE_10_MINUTES":"10 minutes before","REMIND_BEFORE_15_MINUTES":"15 minutes before","REMIND_BEFORE_30_MINUTES":"30 minutes before","REMIND_BEFORE_AT":"before start at","REMIND_BEFORE_AT_1_WEEK_BEFORE_9_00":"1 week before at {pw{time}pw}","REMIND_BEFORE_AT_2_DAYS_BEFORE_9_00":"2 days before at {pw{time}pw}","REMIND_BEFORE_AT_DAY_BEFORE_9_00":"The day before at {pw{time}pw}","REMIND_BEFORE_AT_DAY_BEFORE_23_30":"The day before at {pw{time}pw}","REMIND_BEFORE_CUSTOM":"Custom","REMINDERS":"Reminders","REMOVE_ATTACHMENT_CONFIRM":"Are you sure you want to remove attachment \\"{pw{name}pw}\\"?","REMOVE_ATTACHMENT_TITLE":"Remove attachment from card","REMOVE_CARD_LINK_CONFIRM":"Are you sure you want to remove selected dependency?","REMOVE_CARD_LINK_TITLE":"Remove dependency","REMOVE_ICAL_CONFIRM":"Are you sure you want to remove \\"{pw{iCalName}pw}\\" calendar from all of your boards?","REMOVE_ICAL_TITLE":"Remove calendar","REMOVE_PUBLIC_BOARD_CONFIRM":"Are you sure you want to remove \\"{pw{boardName}pw}\\" from your boards?","REMOVE_PUBLIC_BOARD_TITLE":"Remove public board","REMOVE_TRELLO_BOARD_CONFIRM":"Are you sure you want to remove this board from Trello? This action cannot be undone.","REMOVE_TRELLO_BOARD_TITLE":"Remove Trello board","REMOVE_TRELLO_CARD_DATES_CONFIRM":"Are you sure you want to remove start/end dates from selected Trello card?","REMOVE_TRELLO_CARD_DATES_CONFIRM_MULTIPLE":"Are you sure you want to remove start/end dates from {pw{cardsCount}pw} Trello cards?","REMOVE_TRELLO_CARD_DATES_TITLE":"Remove from calendar","REMOVE_TRELLO_CHECK_ITEM_CARD_DATES_CONFIRM":"Are you sure you want to remove start/end dates from selected Trello check item?","REMOVE_TRELLO_CHECK_ITEM_CARD_DATES_CONFIRM_MULTIPLE":"Are you sure you want to remove start/end dates from {pw{cardsCount}pw} Trello check items?","REMOVE_TRELLO_CHECK_ITEM_CARD_DATES_TITLE":"Remove from calendar","REMOVE_TRELLO_CUSTOM_FIELD_CARD_DATES_CONFIRM":"Are you sure you want to remove date from selected Trello custom field?","REMOVE_TRELLO_CUSTOM_FIELD_CARD_DATES_CONFIRM_MULTIPLE":"Are you sure you want to remove date from {pw{cardsCount}pw} Trello custom fields?","REMOVE_TRELLO_CUSTOM_FIELD_CARD_DATES_TITLE":"Remove from calendar","REPEAT_EVERY":"Repeat every","REPEAT_ON":"Repeat on","REPORTS_EXPORT_ALL_CARDS":"Select date period","REPORTS_EXPORT_TIME_RECORDS":"Select date period","SAVE_NEW_CARD_CHANGES_CONFIRM":"Card will not be created if you don\'t save the changes","SAVE_NEW_CARD_CHANGES_TITLE":"Do you want to save the changes you made?","SECOND":"second","SEND_FEEDBACK_TITLE":"Contact support","SETTINGS_TITLE":"Settings","CARD_POSITION_SETTINGS_TOP":"At the top of the list","CARD_POSITION_SETTINGS_BOTTOM":"At the bottom of the list","SET_FIRST_WEEK_DAY":"Week starts on","SET_WORK_DAYS":"Work days","SET_WORK_HOURS":"Work hours","SHARE_BOARD_TITLE":"Share board","SHARE_BOARD_URL_TITLE":"Link to this board","SHORTCUTS_ARCHIVE_CARD_DESCRIPTION":"Archive card","SHORTCUTS_ASSIGN_YOURSELF_DESCRIPTION":"Assign yourself","SHORTCUTS_DELETE_CARD_DESCRIPTION":"Delete card","SHORTCUTS_DUPLICATE_CARD_DESCRIPTION":"Duplicate card","SHORTCUTS_MY_CARDS_DESCRIPTION":"My cards filter","SHORTCUTS_QUICK_ADD_LABEL_DESCRIPTION":"Label","SHORTCUTS_REMOVE_CARD_DESCRIPTION":"Remove card from calendar","SHORTCUTS_SUBTITLE":"Hover your mouse over a card or open a card editing dialog to use shortcuts","SHORTCUTS_TITLE":"Keyboard Shortcuts","SHORTCUTS_TOGGLE_LABEL_DESCRIPTION":"Add/remove labels","SHORTCUTS_TOGGLE_MEMBER_DESCRIPTION":"Add/remove members","SHORTCUTS_WATCH_DESCRIPTION":"Watch card","SHOW_CUSTOM_FIELDS_AS_CARDS":"Show custom fields as cards","SIGN_IN_REQUIRED_1":"Log in required","SIGN_IN_REQUIRED_2":"Planyway is installed but you need to log in to enable with Trello","START_DATE":"start date","START_TIME":"start time","STEP":"step","THIRD":"third","TIME":"Time","TIME_RECORD":"Time entry","TIME_RECORDS":"Time entries","TO":"to","TRIAL_EXPIRED_DIALOG_ANNUALLY":"Annual","TRIAL_EXPIRED_DIALOG_ANNUALLY_BENEFIT":"Save 30%","TRIAL_EXPIRED_DIALOG_ENTERPRISE_BUTTON_TEXT":"Contact us","TRIAL_EXPIRED_DIALOG_ENTERPRISE_FEATURE_1":"Extra security requirements","TRIAL_EXPIRED_DIALOG_ENTERPRISE_FEATURE_2":"Custom service agreement","TRIAL_EXPIRED_DIALOG_ENTERPRISE_FEATURE_3":"Priority support","TRIAL_EXPIRED_DIALOG_ENTERPRISE_FEATURE_4":"Payment by invoice","TRIAL_EXPIRED_DIALOG_ENTERPRISE_FEATURE_5":"In-depth team training","TRIAL_EXPIRED_DIALOG_ENTERPRISE_FEATURE_6":"Dedicated customer success","TRIAL_EXPIRED_DIALOG_ENTERPRISE_FEATURES_TITLE":"Business plus","TRIAL_EXPIRED_DIALOG_ENTERPRISE_TEXT":"Best for large businesses<br>and regulated industries","TRIAL_EXPIRED_DIALOG_ENTERPRISE_TITLE":"Enterprise","TRIAL_EXPIRED_DIALOG_FREE_BUTTON_TEXT":"Stay free","TRIAL_EXPIRED_DIALOG_FREE_FEATURE_1":"Calendar views","TRIAL_EXPIRED_DIALOG_FREE_FEATURE_2":"Start and end dates","TRIAL_EXPIRED_DIALOG_FREE_FEATURE_3":"Completed cards","TRIAL_EXPIRED_DIALOG_FREE_FEATURE_4":"Archived cards","TRIAL_EXPIRED_DIALOG_FREE_FEATURE_5":"Priorities","TRIAL_EXPIRED_DIALOG_FREE_FEATURE_6":"Calendar sync by URL","TRIAL_EXPIRED_DIALOG_FREE_FEATURE_7":"Checklist dates & members","TRIAL_EXPIRED_DIALOG_FREE_FEATURE_8":"Mobile apps","TRIAL_EXPIRED_DIALOG_FREE_FEATURES_TITLE":"Basic functions","TRIAL_EXPIRED_DIALOG_FREE_TEXT":"Just to get started","TRIAL_EXPIRED_DIALOG_FREE_TITLE":"Free","TRIAL_EXPIRED_DIALOG_MONTHLY":"Monthly","TRIAL_EXPIRED_DIALOG_PERIOD":"per user / month","TRIAL_EXPIRED_DIALOG_PRO_BUTTON_TEXT":"Purchase now","TRIAL_EXPIRED_DIALOG_PRO_FEATURE_1":"Multi-board view","TRIAL_EXPIRED_DIALOG_PRO_FEATURE_2":"Google Calendar 2-way sync","TRIAL_EXPIRED_DIALOG_PRO_FEATURE_3":"Timeline","TRIAL_EXPIRED_DIALOG_PRO_FEATURE_4":"Milestones","TRIAL_EXPIRED_DIALOG_PRO_FEATURE_5":"Repeating tasks","TRIAL_EXPIRED_DIALOG_PRO_FEATURE_6":"Filters","TRIAL_EXPIRED_DIALOG_PRO_FEATURE_7":"Dependencies","TRIAL_EXPIRED_DIALOG_PRO_FEATURE_8":"Reminders","TRIAL_EXPIRED_DIALOG_PRO_FEATURES_TITLE":"Free plus","TRIAL_EXPIRED_DIALOG_PRO_TITLE":"Pro","TRIAL_EXPIRED_DIALOG_RECOMMENDED":"RECOMMENDED","TRIAL_EXPIRED_DIALOG_TEAM_BUTTON_TEXT":"Purchase now","TRIAL_EXPIRED_DIALOG_TEAM_FEATURE_1":"Timeline groups","TRIAL_EXPIRED_DIALOG_TEAM_FEATURE_2":"Time tracking","TRIAL_EXPIRED_DIALOG_TEAM_FEATURE_3":"Annual view","TRIAL_EXPIRED_DIALOG_TEAM_FEATURE_4":"Custom dates","TRIAL_EXPIRED_DIALOG_TEAM_FEATURES_TITLE":"Pro plus","TRIAL_EXPIRED_DIALOG_TEAM_TITLE":"Business","TRIAL_EXPIRED_DIALOG_TEXT":"So little time, so much to do... Pick the right plan for you","TRIAL_EXPIRED_DIALOG_TITLE":"Your Planyway trial has expired","UNKNOWN_CARD":"Unknown card","USE_DUE_DATE_AS":"Link Due Date to","USE_DUE_TIME_AS":"Link Due Time to","VIEW_BOARD_NAME":"Trello board","WEEKLY":"week","WELCOME_SURVEY_GREETING":"Welcome, {pw{memberName}pw}","WELCOME_SURVEY_HOW_MANY_PEOPLE_COLLABORATE_WITH":"How many people do you want to collaborate with?","WELCOME_SURVEY_TELL_US_A_BIT_ABOUT_YOURSELF":"Tell us a bit about yourself. It will help us to make you more productive","WELCOME_SURVEY_TRIAL_TIP_CREDIT_CARD_DESCRIPTION":"<div class=\\"pw-dialog-welcome-survey__trial-tips-item-description\\">You won\'t be charged after<br>your trial period ends</div>","WELCOME_SURVEY_TRIAL_TIP_CREDIT_CARD_NAME":"No credit card required","WELCOME_SURVEY_TRIAL_TIP_FEATURES_DESCRIPTION":"<div class=\\"pw-dialog-welcome-survey__trial-tips-item-description\\">You get all the power of Planyway:<div class=\\"pw-dialog-welcome-survey__trial-tips-item-description-item\\">Team, project and portfolio timeline</div><div class=\\"pw-dialog-welcome-survey__trial-tips-item-description-item\\">Multi-board view</div><div class=\\"pw-dialog-welcome-survey__trial-tips-item-description-item\\">Time tracking</div><div class=\\"pw-dialog-welcome-survey__trial-tips-item-description-item\\">Google Calendar sync</div><div class=\\"pw-dialog-welcome-survey__trial-tips-item-description-item\\">Recurring cards</div><div class=\\"pw-dialog-welcome-survey__trial-tips-item-description-item\\">Filters</div><div class=\\"pw-dialog-welcome-survey__trial-tips-item-description-item\\">and more...</div></div>","WELCOME_SURVEY_TRIAL_TIP_FEATURES_NAME":"All premium features included","WELCOME_SURVEY_TRIAL_TIP_WHEN_ENDED_DESCRIPTION":"<div class=\\"pw-dialog-welcome-survey__trial-tips-item-description\\">Your account will be downgraded<br>to the FREE plan</div>","WELCOME_SURVEY_TRIAL_TIP_WHEN_ENDED_NAME":"What happens after 14-day trial?","WELCOME_SURVEY_TRIAL_TIPS_TITLE":"Your account includes<br>a 14-day free trial of the<br>Business plan","WELCOME_SURVEY_WHAT_COMPANY_SIZE":"What’s your company size?","WELCOME_SURVEY_WHAT_ROLE":"What\'s your role in company?","WELCOME_SURVEY_WHAT_ROLE_PLACEHOLDER":"Choose an option","WELCOME_SURVEY_WHAT_WILL_BE_USED_FOR":"What will you use Planyway for?","YEARLY":"year"},"MENU":{"ADD_BOARD_BY_URL":"Add board by URL","ADD_BOARDS":"Add boards","ADD_CARD_LINK":"Add dependency","ADD_CHECKLIST":"Add checklist","ADD_FILTER":"Add filter","ADD_ICAL_BY_URL":"Add calendar by URL","ADD_REMINDER":"Add reminder","ADD_TIME_RECORD":"Log time","ALL":"All","APPEARANCE":"Card appearance","BOARD":"Board","BOARD_EDIT":"Edit board","BOARD_REMOVE":"Remove board","BOARDS_SEARCH_PLACEHOLDER":"Find boards by name...","CARD_ARCHIVE":"Archive","CARD_COPY_URL":"Copy URL","CARD_DELETE":"Delete","CARD_DUPLICATE":"Duplicate","CARD_LINK_BLOCKS":"Blocking","CARD_LINK_IS_BLOCKED_BY":"Waiting on","CARD_MARK_COMPLETE":"Mark as complete","CARD_MARK_INCOMPLETE":"Mark as incomplete","CARD_NUMBER":"Card number","CARD_PRIORITY":"Priority","CARD_REMOVE":"Remove from calendar","CARD_UNARCHIVE":"Unarchive","CLEAR_ALL_FILTERS":"Clear all","CUSTOM_FIELDS":"Custom fields","CUSTOM_FILTERS":"Custom filters","DATE_AND_TIME":"Date and time","ENABLE_TRELLO_FILTERS":"Enable Trello filters","EXPORT_TO_CSV":"Export to CSV","FIELDS":"Fields","GROUP_BY":"Group by","HELP":"Help","HIDE_DAILY_ESTIMATE_FIELD":"Remove estimation","HIGHLIGHT_TODAY":"Highlight today","HOME":"Home","IN_BOARD":"in board","IN_CALENDAR":"in calendar","INVITE_MEMBERS":"Invite members","LABELS":"Labels","LABELS_SEARCH_PLACEHOLDER":"Find labels by name...","LISTS":"Lists","LISTS_SEARCH_PLACEHOLDER":"Find lists by name...","LIVE_CHAT":"Chat with support","LOG_OUT":"Log out","MEMBER":"Member","MEMBERS":"Members","MEMBERS_SEARCH_PLACEHOLDER":"Find members by name...","MONTH":"Month","NOTIFICATIONS_DISABLE":"Disable notifications","NOTIFICATIONS_DISABLING":"Disabling notifications...","NOTIFICATIONS_ENABLE":"Enable notifications","NOTIFICATIONS_ENABLING":"Enabling notifications...","ONE_DAY":"Day","ORGANIZATIONS_SEARCH_PLACEHOLDER":"Find teams by name...","ORIENTATION":"Orientation","ORIENTATION_BOTTOM":"Bottom","ORIENTATION_LEFT":"Left","ORIENTATION_RIGHT":"Right","ORIENTATION_TOP":"Top","PERSONAL_BOARDS":"Personal boards","PRINT":"Print","PRIORITY_HIGH":"High","PRIORITY_LOW":"Low","PRIORITY_MEDIUM":"Medium","PRIORITY_UNSET":"No priority","PRODUCT_TOUR":"Product tour","PUBLIC_BOARDS":"Public boards (read-only)","QUICK_START":"Quick start","REMINDER_UNIT_MINUTES":"minutes","REMINDER_UNIT_HOURS":"hours","REMINDER_UNIT_DAYS":"days","REMINDER_UNIT_WEEKS":"weeks","RELOAD_CALENDAR":"Refresh","SCALE_DAY":"Day","SCALE_MONTH":"Month","SCALE_QUARTER":"Quarter","SCALE_WEEK":"Week","SCALE_YEAR":"Year","SEARCH_PLACEHOLDER":"Find items by name...","SELECT_ALL":"Select all","SELECT_NONE":"Select none","SEND_FEEDBACK":"Contact support","SETTINGS":"Settings","SHORTCUTS":"Shortcuts","SHOW_ALL_CALENDARS":"Show all","SHOW_ALL_LABELS":"Show all","SHOW_ALL_LISTS":"Show all","SHOW_ALL_MEMBERS":"Show all","SHOW_ARCHIVED_CARDS":"Archived cards","SHOW_CHECK_ITEM_CARDS":"Check items","SHOW_DAILY_ESTIMATE_FIELD":"Add estimation","SHOW_MILESTONES":"Milestones","SHOW_NON_WORKING_HOURS":"Non-working hours","SHOW_ONLY_CURRENT_CALENDAR":"Show only current board","SHOW_ONLY_CURRENT_MEMBER":"Show only me","SHOW_ONLY_DEFAULT_LIST":"Show only default list","SHOW_ONLY_WITHOUT_LABELS":"Show only cards without labels","SHOW_TIME_RECORD_CARDS":"Time entries","SHOW_WEEKENDS":"Weekends","SHOW_WEEK_NUMBERS":"Week numbers","STARRED_BOARDS":"Starred boards","TIMELINE":"Timeline","THREE_DAY":"3-day","UNSCHEDULED":"Unscheduled","UNWATCH":"Stop watching","VIEW":"View","WATCH":"Watch","WEEK":"Week","WELCOME_SURVEY_HOW_MANY_PEOPLE_COLLABORATE_WITH_1":"Only me","WELCOME_SURVEY_HOW_MANY_PEOPLE_COLLABORATE_WITH_2":"2-10","WELCOME_SURVEY_HOW_MANY_PEOPLE_COLLABORATE_WITH_3":"11-50","WELCOME_SURVEY_HOW_MANY_PEOPLE_COLLABORATE_WITH_4":"51-200","WELCOME_SURVEY_HOW_MANY_PEOPLE_COLLABORATE_WITH_5":"201-500","WELCOME_SURVEY_HOW_MANY_PEOPLE_COLLABORATE_WITH_6":"500+","WELCOME_SURVEY_WHAT_COMPANY_SIZE_1":"Only me","WELCOME_SURVEY_WHAT_COMPANY_SIZE_2":"2-10","WELCOME_SURVEY_WHAT_COMPANY_SIZE_3":"11-50","WELCOME_SURVEY_WHAT_COMPANY_SIZE_4":"51-200","WELCOME_SURVEY_WHAT_COMPANY_SIZE_5":"201-500","WELCOME_SURVEY_WHAT_COMPANY_SIZE_6":"500+","WELCOME_SURVEY_WHAT_ROLE_1":"Project manager","WELCOME_SURVEY_WHAT_ROLE_2":"Team member","WELCOME_SURVEY_WHAT_ROLE_3":"Business owner","WELCOME_SURVEY_WHAT_ROLE_4":"Team leader","WELCOME_SURVEY_WHAT_ROLE_5":"Freelancer","WELCOME_SURVEY_WHAT_ROLE_6":"I\'m a director / C-level","WELCOME_SURVEY_WHAT_WILL_BE_USED_FOR_1":"Work","WELCOME_SURVEY_WHAT_WILL_BE_USED_FOR_2":"Personal","WHAT_IS_NEW":"What\'s new"},"MISC":{"ADD_COMMENT":"Add comment","ADD_DATE":"Add date","ADD_TITLE":"Add title","ALL_DAY_SECTION":"All day","ALTERNATIVE_SIGN_IN":"No account? <span class=\\"pw-link pw-link--blue pw-js-sign-in-link\\">Sign in</span> using Google, Microsoft or Apple!","AUTHORIZE_GOOGLE_LABEL":"<b>Planyway</b> needs to connect to your Google Calendar","AUTHORIZE_GOOGLE_CONSENT":"By clicking \\"{pw{btnText}pw}\\" you agree to the <a href=\\"{pw{termsOfUseUrl}pw}\\" target=\\"_blank\\" rel=\\"noreferrer\\">Terms of Use</a> and <a href=\\"{pw{privacyPolicyUrl}pw}\\" target=\\"_blank\\" rel=\\"noreferrer\\">Privacy Policy</a>","BOARD_BACKGROUND":"Background color","BOARD_NAME":"Board name","BOARD_ORGANIZATION":"Board team","BOARD_VISIBILITY":"Board visibility","CHECKLIST":"Checklist","CONNECT_TO_TRELLO_BY_TOKEN_CONSENT":"By pasting Trello token you agree to the <a href=\\"{pw{termsOfUseUrl}pw}\\" target=\\"_blank\\" rel=\\"noreferrer\\">Terms&nbsp;of&nbsp;Use</a> and <a href=\\"{pw{privacyPolicyUrl}pw}\\" target=\\"_blank\\" rel=\\"noreferrer\\">Privacy&nbsp;Policy</a>","CONNECT_TO_TRELLO_CONSENT":"By clicking \\"{pw{btnText}pw}\\" you agree to the <a href=\\"{pw{termsOfUseUrl}pw}\\" target=\\"_blank\\" rel=\\"noreferrer\\">Terms&nbsp;of&nbsp;Use</a> and <a href=\\"{pw{privacyPolicyUrl}pw}\\" target=\\"_blank\\" rel=\\"noreferrer\\">Privacy&nbsp;Policy</a>","CONNECT_TO_TRELLO_TITLE":"Hi there!","CONNECT_TO_TRELLO_WELCOME":"Planyway needs to connect with your Trello account","CUSTOM":"Custom","ENTER_CARD_TITLE":"Enter card title...","ENTER_CHECK_ITEM_TITLE":"Enter check item title...","ENTER_DAILY_ESTIMATE":"Daily estimate...","ENTER_TASK_LIST_TITLE":"Enter list title...","FEW_BOARDS_AVAILABLE":"{pw{availableBoardsCount}pw} available","GET_APPS":"Get Apps","GET_TRELLO_TOKEN_TEXT":"Get your Trello token","GET_TRELLO_TOKEN_LINK":"here","KANBAN":"Kanban","LIST":"List","LOAD_MEMBER_INFO_ERROR":"Could not connect to Trello. Planyway unavailable","MILESTONES":"Milestones","MISSING_TRELLO_TOKEN_ERROR":"Failed to get Trello token. Please close this page and try again","NO_BOARD_PLACEHOLDER":"Select a board...","NO_BOARDS":"Looks like you don\'t have any boards<br>Press \\"Create board\\" to go ahead with a new one","NO_LABEL":"No label","NO_ORGANIZATION_PLACEHOLDER":"Select an organization...","NO_TITLE":"(no title)","ONBOARDING_OPEN_BOARD":"Hooray!<br>Open any <b>Trello board</b> or create a new one and start using Planyway","ONBOARDING_SHOW_BUTTON":"Click here to open Planyway","ONBOARDING_SIGN_IN":"Hi there!<br>Firstly you need to sign in with Trello","ONBOARDING_SKIP":"Skip","OPTIONAL":"optional","PER_DAY":"per day","PLANYWAY":"Planyway","PUSH_NOTIFICATIONS_ENABLE_BANNER_TEXT":"Enable desktop notifications?","SEARCH_LINKED_CARD_PLACEHOLDER":"Search dependent card","SEARCH_PARENT_CARD_PLACEHOLDER":"Search parent card","SELECT_DATE":"Select date","SELECT_END_DATE":"Select end date","SELECT_START_DATE":"Select start date","SET_DURATION":"Set duration","TOTAL":"Total","TRELLO_BOARD":"Trello board","TRELLO_TOKEN_LABEL":"Your Trello token:","UNASSIGNED_MEMBER_FULL_NAME":"Unassigned","UNASSIGNED_MEMBER_INITIALS":"?","YOU_ARE_LOGGED_IN_AS":"You are logged in as"},"NOTIFICATIONS":{"ACCEPT_INVITE_TO_BOARD_ERROR":"Failed to accept invitation to board","ADD_CUSTOM_FILTER_ERROR":"Failed to add custom filter","ADD_MEMBER_TO_BOARD_ERROR":"Failed to add member","ATTACH_MAX_FILE_SIZE_WARNING":"Failed to attach file \\"{pw{fileName}pw}\\". File size exceeds 10MB limit.","BOARD_IS_NOT_FOUND_ERROR":"Failed to find requested board","CARD_IS_NOT_FOUND_ERROR":"Failed to find requested card","CONTACT_US_ERROR":"Failed to send message. Please try again","COPY_CARD_URL_ERROR":"Failed to copy calendar card URL","COPY_TRELLO_TOKEN_ERROR":"Failed to copy Trello token","CREATE_BOARD_ERROR":"Failed to create new board","CREATE_GOOGLE_EVENT_ERROR":"Failed to create Google event","CREATE_INVITE_LINK_ERROR":"Failed to create invite link","CREATE_TRELLO_CARD_ERROR":"Failed to create Trello card","CREATE_TRELLO_CHECK_ITEM_CARD_ERROR":"Failed to create Trello check item","CREATE_TRELLO_LABEL_ERROR":"Failed to create Trello label","CREATE_TRELLO_TIME_RECORD_CARD_ERROR":"Failed to create Trello time entry","DELETE_GOOGLE_EVENT_ERROR":"Failed to delete Google event","DELETE_INVITE_LINK_ERROR":"Failed to delete invite link","DELETE_TRELLO_CARD_ERROR":"Failed to delete Trello card","DELETE_TRELLO_CHECK_ITEM_CARD_ERROR":"Failed to delete Trello check item","DELETE_TRELLO_TIME_RECORD_CARD_ERROR":"Failed to delete Trello time entry","DUPLICATE_CARD_ERROR":"Failed to duplicate calendar card","ERROR_TITLE":"Planyway error:","FEEDBACK_FILE_LIMIT_REACHED":"Maximum number of files reached","FEEDBACK_FILE_NOT_IMAGE":"File is not an image: {pw{fileName}pw}","FEEDBACK_FILE_SIZE_LIMIT_REACHED":"Maximum file size reached","ICAL_EXPORT_DELETE_ERROR":"Failed to delete calendar URL","ICAL_EXPORT_DELETE_SUCCESS":"Calendar URL deleted successfully","ICAL_EXPORT_GET_ERROR":"Failed to get calendar URL","ICAL_EXPORT_POST_ERROR":"Failed to create new calendar URL","ICAL_EXPORT_POST_SUCCESS":"New calendar URL created successfully","INFO_TITLE":"Planyway info:","LOAD_CARDS_ERROR":"Failed to load calendar cards","LOAD_MEMBER_INFO_ERROR":"Could not connect to Trello. Planyway unavailable","LOAD_PRICING_ERROR":"Failed to load prices","LOAD_RESOURCES_ERROR":"Failed to load calendar resources","LOAD_TRELLO_COMMENTS_ERROR":"Failed to load card comments","LOAD_TRELLO_LABEL_ERROR":"Failed to load Trello label","LOCALE_CHANGED_WARNING":"Your regional format was changed. Reload the page to apply changes","LOGIN_ERROR":"Failed to log in","OPEN_CARD_ERROR":"Failed to open calendar card","PLANYWAY_ACTIVATE_TRIAL_ERROR":"Failed to activate trial license","PLANYWAY_ACTIVATE_TRIAL_ERROR_NO_REMAINING_TRIALS":"Failed to activate trial license. No remaining trial activations","PLANYWAY_ACTIVATE_TRIAL_ERROR_PAID_ALREADY_ACTIVE":"Failed to activate trial license. Paid license is already active","PLANYWAY_ACTIVATE_TRIAL_ERROR_WITH_MESSAGE":"Failed to activate trial license. {pw{message}pw}","PLANYWAY_GOOGLE_AUTH_FAILED":"Failed to authorize Google account","PLANYWAY_GOOGLE_AUTH_INITIALIZATION_FAILED":"Failed to authorize Google account. Please enable third-party cookies in your browser settings, refresh the page and try again. If this issue continues, please contact support","PLANYWAY_GOOGLE_AUTH_POPUP_BLOCKED":"Failed to authorize Google account. Please allow pop-ups for planyway.com in your browser settings","PLANYWAY_GOOGLE_CONNECT_ERROR_WITH_MESSAGE":"Failed to connect to Google Calendar. {pw{message}pw}","PLANYWAY_GOOGLE_CONNECT_FAILED":"Failed to connect to Google Calendar","PLANYWAY_GOOGLE_CONNECT_FAILED_NOT_CONNECTED":"Failed to connect to Google Calendar, Google Calendar is disconnected","PLANYWAY_GOOGLE_CONNECT_FAILED_NOT_AUTHORIZED":"Failed to connect to Google Calendar, access to your Google Calendar is not authorized","PLANYWAY_GOOGLE_CONNECT_FAILED_G_SUITE_ERROR":"Failed to connect to Google Calendar, access denied by a security policy established by the Google Apps administrator of your organization","PLANYWAY_GOOGLE_DISCONNECT_ERROR_WITH_MESSAGE":"Failed to disconnect Google Calendar. {pw{message}pw}","PLANYWAY_GOOGLE_DISCONNECT_FAILED":"Failed to disconnect Google Calendar","PLANYWAY_INITIALIZATION_ERROR":"Failed to initialize Planyway","PLANYWAY_INVITE_ERROR_TOKEN_INVALID":"Failed to process invitation. Invitation token is not valid","PLANYWAY_INVITE_ERROR_UNCONFIRMED_MEMBER":"Failed to accept invitation. Please confirm your Trello account by following the link in the verification email from Trello","PLANYWAY_INVITE_ERROR_WITH_MESSAGE":"Failed to process invitation. {pw{message}pw}","PLANYWAY_MEMBER_LICENSE_LOADING_ERROR":"Could not connect to Planyway","PLANYWAY_SYNC_GOOGLE_AUTH_ERROR":"Google sync error: Cannot access Google calendar","PLANYWAY_SYNC_GOOGLE_CALENDAR_ERROR":"Google sync error: Google calendar not found","PLANYWAY_SYNC_GOOGLE_G_SUITE_ERROR":"Google sync error: Access denied by a security policy established by the Google Apps administrator of your organization. Please contact your administrator for further assistance","PLANYWAY_SYNC_LICENSE_EXPIRED_ERROR":"Google sync error: Planyway is not licensed or your license has expired","PLANYWAY_SYNC_START_FAILED":"Failed to start Google sync","PLANYWAY_SYNC_START_FAILED_NOT_AUTHORIZED":"Failed to start Google sync, access to your Google Calendar is not authorized","PLANYWAY_SYNC_START_FAILED_NOT_LICENSED":"Failed to start Google sync, Planyway is not licensed or your license has expired","PLANYWAY_SYNC_START_FAILED_WITH_MESSAGE":"Failed to start Google sync. {pw{message}pw}","PLANYWAY_SYNC_START_GOOGLE_AUTH_ERROR":"Failed to start Google sync, cannot access Google calendar","PLANYWAY_SYNC_START_GOOGLE_CALENDAR_ERROR":"Failed to start Google sync, Google calendar not found","PLANYWAY_SYNC_START_GOOGLE_G_SUITE_ERROR":"Failed to start Google sync, access denied by a security policy established by the Google Apps administrator of your organization. Please contact your administrator for further assistance","PLANYWAY_SYNC_START_LONGER_THEN_USUAL":"It takes longer than usual to start syncing with Google. Please try again later","PLANYWAY_SYNC_START_TRELLO_AUTH_ERROR":"Failed to start Google sync, cannot access Trello board","PLANYWAY_SYNC_START_TRELLO_BOARD_ERROR":"Failed to start Google sync, Trello board not found","PLANYWAY_SYNC_STARTED":"Google sync started","PLANYWAY_SYNC_STATUS_LOADING_ERROR":"Cannot get your Google sync status at this moment...","PLANYWAY_SYNC_STATUS_LOADING_ERROR_WITH_MESSAGE":"Cannot get your Google sync status. {pw{message}pw}","PLANYWAY_SYNC_STOP_FAILED":"Failed to stop Google sync","PLANYWAY_SYNC_STOP_FAILED_WITH_MESSAGE":"Failed to stop Google sync. {pw{message}pw}","PLANYWAY_SYNC_STOP_LONGER_THEN_USUAL":"It takes longer than usual to stop syncing with Google. Please try again later","PLANYWAY_SYNC_STOPPED":"Google sync stopped","PLANYWAY_SYNC_TRELLO_AUTH_ERROR":"Google sync error: Cannot access Trello board","PLANYWAY_SYNC_TRELLO_BOARD_ERROR":"Google sync error: Trello board not found","PLANYWAY_SYNC_TRELLO_LIMIT_ERROR":"Google sync error: Trello cards limit exceeded","PLANYWAY_SYNC_UNKNOWN_ERROR":"Google sync error: unknown error, please update Planyway","PROGRESS_TITLE":"Please wait:","PUSH_NOTIFICATIONS_BLOCKED_ERROR":"Failed to enable push-notifications. Push-notifications are blocked by the browser settings","PUSH_NOTIFICATIONS_DISABLE_ERROR":"Failed to disable push-notifications. Please try again later","PUSH_NOTIFICATIONS_ENABLE_ERROR":"Failed to enable push-notifications. Please try again later. Kindly note that notifications aren\'t compatible with Trello desktop app","PUSH_NOTIFICATIONS_REGISTER_LONGER_THAN_USUAL":"Push-notifications registration is taking longer than usual. Please try again later if necessary","PUSH_NOTIFICATIONS_UNREGISTER_LONGER_THAN_USUAL":"Push-notifications cancellation is taking longer than usual. Please try again later if necessary","REMOVE_BOARD_ERROR":"Failed to remove board","REMOVE_CARD_ERROR":"Failed to remove calendar card","REMOVE_CUSTOM_FILTER_ERROR":"Failed to remove custom filter","REMOVE_MEMBER_FROM_BOARD_ERROR":"Failed to remove member","REMOVE_TRELLO_CARD_ERROR":"Failed to remove start/end dates from Trello card","REMOVE_TRELLO_CUSTOM_FIELD_CARD_ERROR":"Failed to remove date from Trello custom field","REMOVE_TRELLO_CHECK_ITEM_CARD_ERROR":"Failed to remove start/end dates from Trello check item","REPORT_ERROR":"Failed to build report","SEND_FEEDBACK_ERROR":"Failed to send support request","SEND_FEEDBACK_SUCCESS":"Your support request has been sent","SUCCESS_TITLE":"Planyway success:","TASK_LIST_CREATE_ERROR":"Failed to create list","TASK_LIST_DELETE_ERROR":"Failed to delete list","TASK_LIST_UPDATE_ERROR":"Failed to update list","TEAMPLANNER_DROP_MEMBER_NOT_EXIST_WARNING":"Only members from \\"{pw{boardName}pw}\\" can be assigned","TIME_ZONE_CHANGED":"We detected timezone change. Please reload Planyway to apply changes","TRELLO_CARD_DROP_ERROR":"Failed to drag card from Trello","TRELLO_TOKEN_COPIED_TO_CLIPBOARD":"Trello token copied to clipboard. You may close this page","UPDATE_BOARD_ERROR":"Failed to update board","UPDATE_BOARD_PERMISSION_ERROR":"Failed to update board share permission","UPDATE_CARD_ERROR":"Failed to update calendar card","UPDATE_RECURRING_CARD_ERROR":"Failed to update recurring card","URL_COPIED_TO_CLIPBOARD":"URL copied to clipboard","WARNING_TITLE":"Planyway warning:"},"TOOLTIPS":{"ADD_ATTACHMENT_OR_DROP_FILES":"Add attachments or drop files","ADD_CARD_LINK":"Add dependency","ADD_CHECK_ITEM":"Add check item","ADD_LIST":"Add list","ADD_REMINDER":"Add reminder","ADD_TIME_RECORD":"Log time","ASSIGN":"Assign this item","BOARD":"Board","BOARDS":"Boards","BOARD_ACTIONS":"Board actions","CALENDAR":"Calendar","CALENDAR_HIDE":"Hide Planyway","CALENDAR_SHOW":"Show Planyway","CALENDAR_UNAVAILABLE_LOADING":"Planyway loading...","CARD_LINK_ERROR_LINKS_DISABLED":"Dependent card cannot have dependencies","CARD_LINK_ERROR_NO_CARD":"Dependent card is not loaded","CARD_LINK_ERROR_NO_LINK":"Dependency has been removed from the dependent card","CARD_LINKS":"Dependencies","CARD_MENU":"Card menu","CHECK_ITEM":"Check item","CLEAR":"Clear","COPY_TO_CLIPBOARD":"Copy to clipboard","CUSTOM_FIELD":"Custom field","DATE":"Date","DATES":"Dates","DAY_BACKWARD":"Scroll day backward","DAY_FORWARD":"Scroll day forward","DELETE":"Delete","DELETE_ITEM":"Delete item","DESCRIPTION":"Description","DURATION":"Duration","EDIT":"Edit","EDIT_ICAL":"Edit calendar","DAILY_ESTIMATE":"Daily estimate","EXPAND_CHECK_ITEMS":"Expand check items","FILTER_CARDS":"Filter cards","FULLSCREEN":"Fullscreen","HELP":"Help","HIDE":"Hide","HIDE_CHAT_WINDOW":"Hide chat window","HIDE_DAILY_ESTIMATE_FIELD":"Remove estimation","HIDE_SIDEBAR":"Hide main menu","ICAL_EXPORT_DELETE":"Delete URL","ICAL_EXPORT_RESET":"Reset URL","IN_BOARD":"in board","IN_CALENDAR":"in calendar","IN_CARD":"in card","IN_CHECKLIST":"in checklist","IN_LIST":"in list","LABELS":"Labels","LIST":"List","MARK_COMPLETE":"Mark as complete","MARK_INCOMPLETE":"Mark as incomplete","MEMBER":"Member","MEMBERS":"Members","MILESTONES":"Milestones","MONTH_BACKWARD":"Scroll month backward","MONTH_FORWARD":"Scroll month forward","NOTIFICATIONS_ARE_DISABLED":"Desktop notifications are disabled now. Click to turn them on","QUARTER_BACKWARD":"Scroll quarter backward","QUARTER_FORWARD":"Scroll quarter forward","PARENT_CARD":"Parent card","PRIORITY":"Priority","RECURRENT_RULE":"Recurrent rule","REMOVE":"Remove","REMOVE_DATE":"Remove date","REMOVE_DATES":"Remove dates","REMOVE_FROM_CALENDAR":"Remove from calendar","REPLY":"Reply","SCALE_IN":"Scale in timeline","SCALE_OUT":"Scale out timeline","SETTINGS":"Settings","SET_DATES":"Set dates","SHARE_BOARD":"Share board","SHOW_CHAT_WINDOW":"Show chat window","SHOW_DAILY_ESTIMATE_FIELD":"Add estimation","SHOW_MULTIBOARD_FILTER_MENU":"Filter cards from this board","SHOW_SIDEBAR":"Show main menu","SYNC_ALL_CARDS":"all","SYNC_AVAILABILITY":"Show as","SYNC_AVAILABILITY_BUSY":"busy","SYNC_AVAILABILITY_FREE":"free","SYNC_COMPLETED_CARDS":"Show completed","SYNC_EXCLUDE_COMPLETED_CARDS":"no","SYNC_MARK_COMPLETED_CARDS":"yes","SYNC_ONLY_MY_CARDS":"only assigned to me","SYNC_OPTIONS_TITLE":"Current sync options:","SYNC_SET_EVENT_COLORS":"Event color","SYNC_SET_EVENT_COLORS_BY_LABEL":"same as Trello label","SYNC_SET_EVENT_COLORS_DEFAULT":"default","SYNC_WITH_GOOGLE_CALENDAR":"Cards","TASK_LIST_HIDE":"Hide card list","TASK_LIST_SHOW":"Show card list","UNWATCH":"Stop watching","WATCH":"Watch","WEEK_BACKWARD":"Scroll week backward","WEEK_FORWARD":"Scroll week forward","YEAR_BACKWARD":"Scroll year backward","YEAR_FORWARD":"Scroll year forward"}}')},437:function(e){e.exports=JSON.parse('{"BUTTONS":{"ACCEPT":"Применить","ACCOUNT":"Аккаунт","ACCOUNT_SETTINGS":"Настройки аккаунта","ADD":"Добавить","ADD_CARD":"Добавить","ADD_CHECK_ITEM":"Добавить элемент","ADD_DURATION":"Добавить длительность","ADD_LIST":"Добавить","ADD_REMINDER":"Добавить напоминание","ADD_TIME":"Добавить время","ADD_TIME_RECORD":"Записать время","ALL_CARDS":"Все карточки","ATTACH":"Прикрепить","BACK":"Назад","BOARD":"Доска","BOARDS":"Доски","CALENDAR":"Календарь","CALENDARS":"Календари","CANCEL":"Отмена","CLOSE":"Закрыть","COMPLETED_CARDS":"Завершенные карточки","CONNECT":"Подключить","CONNECT_BOARD":"Подключить доску","CONNECT_YOUR_CALENDAR":"Подключить календарь","CONNECTED_BOARDS":"Подключенные доски","CONNECT_WITH_GOOGLE":"Подключить к Google","CONNECT_WITH_TRELLO":"Подключить к Trello","CONTINUE":"Продолжить","CREATE":"Создать","CREATE_BOARD":"Создать доску","CUSTOM":"Пользовательские","DELETE":"Удалить","DISCARD":"Не сохранять","DISCONNECT":"Отключить","EDIT":"Изменить","EDIT_CARD_OCCURRENCE":"Только эта карточка","EDIT_CARD_SERIES":"Все карточки","EDIT_CARD_THIS_AND_FOLLOWING":"Эта и последующие карточки","EDIT_EVENT_OCCURRENCE":"Только это событие","EDIT_EVENT_SERIES":"Все события","EDIT_EVENT_THIS_AND_FOLLOWING":"Это и последующие события","ENABLE":"Включить","EXPORT_TO_CSV":"Экспорт в CSV","FINISH":"Закончить","FEWER_OPTIONS":"Меньше параметров","GOOGLE_CALENDARS":"Календари Google","GOT_IT":"Понятно","GO_TO_TRELLO":"Перейти в Trello","HELP":"Справка","HIDE_COMPLETED":"Скрыть завершенные","HOME":"Домашняя страница","INCOMPLETE_CARDS":"Незавершенные карточки","INVITE":"Пригласить","LABEL":"Метка","LABELS":"Метки","LAST_MONTH":"Последний месяц","LAST_WEEK":"Последняя неделя","LIST":"Список","LISTS":"Списки","LOG_IN_WITH_TRELLO":"Войти через Trello","LOG_OUT":"Выйти","MEMBER":"Участник","MEMBERS":"Участники","MORE_OPTIONS":"Больше параметров","NEXT":"Вперёд","NO":"Нет","NONE":"Не выбрана","NO_THANKS":"Нет, спасибо","OK":"ОК","OPEN_CARD":"Открыть карточку","OPEN_EVENT":"Открыть событие","OTHER_CALENDARS":"Другие календари","PLAN_ON_TIMELINE":"Планировать на календаре","PLANYWAY":"Planyway","PREVIOUS":"Назад","RATE_US":"Оценить","RELOAD":"Обновить","REMOVE":"Удалить","REMOVE_MEMBER":"Удалить участника","REMOVE_TIME":"Удалить время","RESYNC":"Перезапустить","SAVE":"Сохранить","SEND":"Отправить","SEND_FEEDBACK":"Техподдержка","SELECT":"Выбрать","SET_DATE":"Задать дату","SHOW_COMPLETED":"Показывать завершенные","SHOW_ONLY_MY_CARDS":"Только карточки, назначенные на меня","SIGN_IN_WITH_TRELLO":"Войти с помощью Trello","SKIP":"Пропустить","START_FREE_TRIAL":"Бесплатная 15-дневная пробная версия","START_FREE_TRIAL_SHORT":"Попробовать бесплатно","SUPPORT_CHAT":"Чат техподдержки","SYNC":"Синхронизировать","TASKS_ADD_CARD":"Добавить карточку","TASKS_ADD_CHECK_ITEM":"Добавить элемент","TIMELINE":"Таймлайн","TIME_TRACKING":"Учёт времени","TODAY":"Сегодня","VIEW_ON_TIMELINE":"Перейти в календарь","UNSYNC":"Остановить","UPGRADE":"Купить","UPGRADE_NOW":"Купить","USERS":"Пользователи","YES":"Да"},"DIALOGS":{"ADD_ATTACHMENT_TITLE":"Добавить вложение","ADD_BOARD_BY_URL_TITLE":"Добавить публичную доску по ссылке","ADD_BOARD_BY_URL_PLACEHOLDER":"Вставьте ссылку в формате https://trello.com/b/... или https://planyway.com/app?boardId=...","ADD_BOARD_BY_URL_INVALID_URL":"Пожалуйста, введите корректную ссылку","ADD_BOARD_BY_URL_NOT_FOUND":"Доска не существует или не является публичной","ADD_CHECK_ITEM":"Добавить элемент чек-листа","ADD_CALENDARS":"Добавить календари","ADD_CALENDAR_BY_URL":"Добавить календарь по ссылке","ADD_MEMBER":"Добавить пользователя","ADD_MEMBERS":"Добавить пользователей","ADD_NUMBER":"Добавить число","ADD_TEXT":"Добавить текст","ADDED":"Добавлено","AFTER":"После","APPEARANCE_SETTINGS_TITLE":"Внешний вид карточек","ATTACH":"Прикрепить","ATTACH_LINK":"Прикрепить ссылку","ATTACHMENTS":"Вложения","BOARD_ORGANIZATION_SUBTITLE":"Просматривать и изменять эту доску могут все участники команды \\"{pw{organizationName}pw}\\"","BOARD_ORGANIZATION_TITLE":"Командная","BOARD_PRIVATE_SUBTITLE":"Просматривать и изменять эту доску могут только добавленные на неё участники","BOARD_PRIVATE_TITLE":"Приватная","BOARD_PUBLIC_SUBTITLE":"Просматривать эту доску и оставлять комментарии могут все. Изменять её могут только добавленные на неё участники","BOARD_PUBLIC_TITLE":"Публичная","CARD_ROLE_CARD":"Карточка","CARD_ROLE_CHECK_ITEM":"Элемент чек-листа","CARD_ROLE_CUSTOM_FIELD":"Пользовательское поле","CARD_ROLE_GOOGLE_EVENT":"Событие","CARD_ROLE_ICAL_EVENT":"Другое событие","CARD_ROLE_MILESTONE":"Веха","CARD_ROLE_TIME_RECORD":"Запись времени","CARD_THEME":"Тема карточек","CHECKLIST":"Чек-лист","CHECKLISTS":"Чек-листы","CHOOSE_FILES":"Выбрать файлы","CHOOSE_OPTION":"Выбрать вариант","COLORFUL_THEME":"Цветная","COMMENT_EDITED":"(изменён {pw{shortLastEditDate}pw})","COMMENT_PLACEHOLDER":"Напишите комментарий...","COMMENTS":"Комментарии","CREATE_BOARD_PLACEHOLDER":"Введите название доски...","CREATE_BOARD_TITLE":"Создать доску","CUSTOM_RECURRENCE":"Правило повторения","CUSTOM_FIELDS":"Поля пользователя","CUSTOM_FIELDS_SETTINGS_TITLE":"Поля пользователя","CUSTOM_FILTER_DIALOG_TITLE":"Добавить фильтр","CUSTOM_FILTERS_CUSTOM_FIELD_PLACEHOLDER":"Выберите пользовательское поле","CUSTOM_FILTERS_FILTER_NAME":"{pw{filterName}pw} {pw{filterValue}pw}","CUSTOM_FILTERS_IS":"","CUSTOM_FILTERS_CHECKED":"отмечено","CUSTOM_FILTERS_NOT_CHECKED":"не отмечено","CUSTOM_FILTERS_REMOVE_TITLE":"Удалить фильтр","CUSTOM_FILTERS_REMOVE_TEXT":"Вы уверены, что хотите удалить фильтр \\"{pw{filterName}pw}\\"?","DAILY":"день","DEFAULT_CARD_DURATION":"Продолжительность по умолчанию","DEFAULT_CARD_POSITION":"Позиция карточки по умолчанию","DEFAULT_LIST":"Список по умолчанию","DEFAULT_RULE_TEXT":"Не повторять","DELETE_CHECK_ITEM_CONFIRM":"Вы уверены, что хотите удалить элемент чек-листа \\"{pw{name}pw}\\"? Это действие нельзя будет отменить.","DELETE_CHECK_ITEM_TITLE":"Удалить элемент чек-листа","DELETE_CHECKLIST_CONFIRM":"Вы уверены, что хотите удалить чек-лист \\"{pw{name}pw}\\"? Это действие нельзя будет отменить.","DELETE_CHECKLIST_TITLE":"Удалить чек-лист","DELETE_COMMENT_CONFIRM":"Вы уверены, что хотите удалить комментарий \\"{pw{comment}pw}\\"? Это действие нельзя будет отменить.","DELETE_COMMENT_TITLE":"Удалить комментарий","DELETE_GOOGLE_EVENT_CONFIRM":"Вы уверены, что хотите удалить это событие из Google? Это действие нельзя будет отменить.","DELETE_GOOGLE_EVENT_CONFIRM_MULTIPLE":"Вы уверены, что хотите удалить {pw{cardsCount}pw} событий из Google? Это действие нельзя будет отменить.","DELETE_GOOGLE_EVENT_TITLE":"Удалить событие Google","DELETE_TIME_RECORD_CONFIRM":"Вы уверены, что хотите удалить эту запись времени? Это действие нельзя будет отменить.","DELETE_TIME_RECORD_TITLE":"Удалить запись времени","DELETE_TRELLO_CARD_CONFIRM":"Вы уверены, что хотите удалить эту карточку из Trello? Это действие нельзя будет отменить.","DELETE_TRELLO_CARD_CONFIRM_MULTIPLE":"Вы уверены, что хотите удалить {pw{cardsCount}pw} карточек из Trello? Это действие нельзя будет отменить.","DELETE_TRELLO_CARD_TITLE":"Удалить карточку Trello","DELETE_TRELLO_CHECK_ITEM_CARD_CONFIRM":"Вы уверены, что хотите удалить этот элемент чек-листа из Trello? Это действие нельзя будет отменить.","DELETE_TRELLO_CHECK_ITEM_CARD_CONFIRM_MULTIPLE":"Вы уверены, что хотите удалить {pw{cardsCount}pw} элементов чек-листов из Trello? Это действие нельзя будет отменить.","DELETE_TRELLO_CHECK_ITEM_CARD_TITLE":"Удалить элемент чек-листа Trello","DELETE_TRELLO_LIST_CONFIRM":"Вы уверены, что хотите удалить этот список из Trello? Это действие нельзя отменить.","DELETE_TRELLO_LIST_TITLE":"Удалить список Trello","DELETE_TRELLO_TIME_RECORD_CARD_CONFIRM":"Вы уверены, что хотите удалить этот запись времени из Trello? Это действие нельзя будет отменить.","DELETE_TRELLO_TIME_RECORDS_CARD_CONFIRM_MULTIPLE":"ы уверены, что хотите удалить {pw{cardsCount}pw} записей времени из Trello? Это действие нельзя будет отменить.","DELETE_TRELLO_TIME_RECORD_CARD_TITLE":"Удалить запись времени Trello","DESCRIPTION":"Описание","DESCRIPTION_PLACEHOLDER":"Добавить описание...","DISABLE_GOOGLE_CONNECT_CONFIRM":"Вы уверены, что хотите отключить ваш Google Calendar от Planyway?","DISABLE_GOOGLE_CONNECT_TITLE":"Отключить Google Calendar","DISABLE_NOTIFICATIONS_CONFIRM":"Вы уверены, что хотите отключить push-уведомления? Это действие отключит push-уведомления на всех ваших устройствах.","DISABLE_NOTIFICATIONS_TITLE":"Отключить уведомления","DONT_ASK_AGAIN":"Не спрашивать снова","DROP_TO_ATTACH_FILE":"Перетяните файлы, чтобы прикрепить","EDIT_ATTACHMENT_TITLE":"Редактировать вложение","EDIT_BOARD_TITLE":"Изменить доску","ENABLE_NOTIFICATIONS_TEXT":"Включите уведомления рабочего стола и всегда будьте в курсе своих задач","ENDS":"Окончание","END_DATE":"датой окончания","END_TIME":"временем окончания","FEEDBACK_EMAIL_PLACEHOLDER":"Email","FEEDBACK_INVALID_EMAIL":"Пожалуйста, введите корректный email","FEEDBACK_MESSAGE_PLACEHOLDER":"Текст сообщения","FEEDBACK_MISSING_EMAIL":"Пожалуйста, введите свой email","FEEDBACK_MISSING_MESSAGE":"Пожалуйста, введите ваше сообщение","FEEDBACK_MISSING_NAME":"Пожалуйста, введите своё имя","FEEDBACK_NAME_PLACEHOLDER":"Имя","FIFTEEN_MINUTES":"15 минут","FILE_NAME":"Название файла","FIRST":"первый","FOURTH":"четвёртый","GOOGLE_CALENDAR":"Google календарь","GOOGLE_SYNC_RESTART_CONFIRM":"Извините, но что-то пошло не так.","GOOGLE_SYNC_RESTART_TITLE":"Ошибка синхронизации с Google","GOOGLE_SYNC_START_AVAILABILITY":"Показывать события как","GOOGLE_SYNC_START_AVAILABILITY_BUSY":"занят","GOOGLE_SYNC_START_AVAILABILITY_FREE":"свободен","GOOGLE_SYNC_START_COMPLETED_CARDS":"Завершённые карточки","GOOGLE_SYNC_START_COMPLETED_CARDS_EXCLUDE":"не синхронизировать","GOOGLE_SYNC_START_COMPLETED_CARDS_MARK":"добавить ✓ к названию события","GOOGLE_SYNC_START_OPTIONS_TITLE":"Настройки синхронизации","GOOGLE_SYNC_START_SET_EVENT_COLORS":"Цвет события в Google Calendar","GOOGLE_SYNC_START_SET_EVENT_COLORS_BY_LABEL":"такой же, как цвет метки в Trello","GOOGLE_SYNC_START_SET_EVENT_COLORS_DEFAULT":"по умолчанию","GOOGLE_SYNC_START_SYNC_CARDS":"Синхронизировать с Google Calendar","GOOGLE_SYNC_START_SYNC_CARDS_ALL_CARDS":"все карточки","GOOGLE_SYNC_START_SYNC_CARDS_ONLY_MY_CARDS":"только карточки, назначенные на меня","GOOGLE_SYNC_STOP_CONFIRM":"Вы уверены, что хотите остановить синхронизацию с Google?","GOOGLE_SYNC_STOP_TITLE":"Остановить синхронизацию с Google","HALF_HOUR":"30 минут","HOW_TO_START_1":"Перейдите в Trello","HOW_TO_START_2":"Откройте любую доску","HOW_TO_START_3":"Нажмите на кнопку Planyway","HOW_TO_START_4":"Начните планировать","ICAL_EDIT_CHOOSE_COLOR":"Выбрать цвет календаря","ICAL_EDIT_PREVIEW_CARD_TEXT":"Карточка вашего календаря","ICAL_EDIT_PREVIEW_CARD_CALENDAR_TEXT":"Название календаря","ICAL_EXPORT_HOW_TO":"Вставьте данную ссылку в Ваш календарь согласно инструкции:","ICAL_EXPORT_TITLE":"Экспортировать календарь","ICAL_EXPORT_WARNING":"Закрытый адрес позволяет посмотреть всю информацию о карточках календаря. Делитесь им только с теми, кому доверяете","ICAL_IMPORT_INVALID_CALENDAR":"Календарь указан неверно или не может быть загружен","ICAL_IMPORT_INVALID_URL":"Пожалуйста, введите корректную ссылку","ICAL_IMPORT_HOW_TO":"Узнайте как получить ссылку на Ваш календарь:","ICAL_IMPORT_TITLE":"Добавить календарь","ICAL_IMPORT_URL_PLACEHOLDER":"Вставьте ссылку на календарь здесь","INVALID_TOKEN":"Пожалуйста, введите корректный токен Trello","LABELS":"Метки","LAST":"последний","LIGHT_THEME":"Светлая","LINK":"Ссылка","LINK_NAME_OPTIONAL":"Название ссылки (необязательно)","LOADING":"Загрузка...","LOCALE":"Региональные настройки","LOGIN_INVALID_TOKEN":"Похоже, что токен Trello не подходит. Попробуйте получить его ещё раз","MEMBER_INVITE_NOT_TEAM_MEMBER":"(не член команды)","MEMBER_INVITE_JOINED":"(присоединился)","MEMBER_INVITE_LINK_CREATE":"Создать ссылку","MEMBER_INVITE_LINK_DEACTIVATE":"Отключить ссылку","MEMBER_INVITE_LINK_SUBTITLE":"Любой, у кого есть ссылка, может присоединиться как участник доски.","MEMBER_INVITE_LINK_TITLE":"Пригласить с помощью ссылки","MEMBER_INVITE_NOT_FOUND":"Подходящих участников не найдено","MEMBER_INVITE_PLACEHOLDER":"Адрес электронной почты или имя","MEMBER_INVITE_TITLE":"Пригласить участников","MEMBER_MANAGE_ALL_MEMBERS_TITLE":"Участники","MEMBER_MANAGE_PLACEHOLDER":"Поиск участников по имени...","MEMBER_MANAGE_REMOVE_MEMBER_ACTION":"Удалить с доски...","MEMBER_MANAGE_REMOVE_MEMBER_TITLE":"Удалить участника?","MEMBER_MANAGE_REMOVE_MEMBER_WARNING":"Участник будет удалён со всех карточек этой доски. Он получит уведомление об этом.","MEMBER_MANAGE_SHOW_MEMBER_TITLE":"Участник","MONTHLY":"месяц","MULTIBOARD_FILTERS_TITLE":"Фильтры доски","NEVER":"Никогда","NEW_LIST":"(новый список)","NOT_LINKED":"не связывать","NO_COLOR":"Без цвета","NO_LABEL":"Без метки","OCCURRENCES":"повторов","ONE_DAY":"1 день","ONE_HOUR":"1 час","ON_DATE":"Дата","ON_DAY":"Каждый {pw{day}pw} день","ON_WEEKDAY":"Каждый {pw{weekdayOrder}pw} {pw{weekday}pw}","PASTE_ANY_LINK_HERE":"Введите ссылку...","PASTE_ANY_NAME_HERE":"Введите название...","PASTE_TRELLO_TOKEN_HERE":"Вставьте ваш токен сюда...","PRIORITY":"Приоритет","RECURRENT_CARD_DELETE_CONFIRM_TITLE":"Удалить повторяющуюся карточку","RECURRENT_CARD_EDIT_CONFIRM_TITLE":"Изменить повторяющуюся карточку","RECURRENT_CARD_OPEN_CONFIRM_TITLE":"Открыть повторяющуюся карточку","RECURRENT_CARD_REMOVE_CONFIRM_TITLE":"Удалить даты начала/окончания у повторяющейся карточки","RECURRENT_EVENT_DELETE_CONFIRM_TITLE":"Удалить повторяющееся событие","RECURRENT_EVENT_EDIT_CONFIRM_TITLE":"Изменить повторяющееся событие","RECURRENT_EVENT_OPEN_CONFIRM_TITLE":"Открыть повторяющееся событие","RECURRENT_IS_DANGEROUS":"Это действие нельзя будет отменить.","REMIND_BEFORE":"до начала","REMIND_BEFORE_1_DAY":"За 1 день до начала","REMIND_BEFORE_1_HOUR":"За 1 час до начала","REMIND_BEFORE_5_MINUTES":"За 5 минут до начала","REMIND_BEFORE_10_MINUTES":"За 10 минут до начала","REMIND_BEFORE_15_MINUTES":"За 15 минут до начала","REMIND_BEFORE_30_MINUTES":"За 30 минут до начала","REMIND_BEFORE_AT":"до начала в","REMIND_BEFORE_AT_1_WEEK_BEFORE_9_00":"За неделю в {pw{time}pw}","REMIND_BEFORE_AT_2_DAYS_BEFORE_9_00":"За 2 дня в {pw{time}pw}","REMIND_BEFORE_AT_DAY_BEFORE_9_00":"За день в {pw{time}pw}","REMIND_BEFORE_AT_DAY_BEFORE_23_30":"За день в {pw{time}pw}","REMIND_BEFORE_CUSTOM":"Другое","REMINDERS":"Напоминания","REMOVE_ATTACHMENT_CONFIRM":"Вы уверены, что хотите удалить вложение \\"{pw{name}pw}\\"?","REMOVE_ATTACHMENT_TITLE":"Удалить вложение из карточки","REMOVE_CARD_LINK_CONFIRM":"Вы уверены, что хотите удалить выбранную зависимость?","REMOVE_CARD_LINK_TITLE":"Удалить зависимость","REMOVE_ICAL_CONFIRM":"Вы уверены, что хотите удалить календарь \\"{pw{iCalName}pw}\\" из всех своих досок?","REMOVE_ICAL_TITLE":"Удалить календарь","REMOVE_PUBLIC_BOARD_CONFIRM":"Вы уверены, что хотите удалить доску \\"{pw{boardName}pw}\\" из своих досок?","REMOVE_PUBLIC_BOARD_TITLE":"Удалить общую доску","REMOVE_TRELLO_BOARD_CONFIRM":"Вы уверены, что хотите удалить эту доску из Trello? Это действие нельзя отменить.","REMOVE_TRELLO_BOARD_TITLE":"Удалить доску Trello","REMOVE_TRELLO_CARD_DATES_CONFIRM":"Вы уверены, что хотите удалить даты начала/окончания у выбранной карточки Trello?","REMOVE_TRELLO_CARD_DATES_CONFIRM_MULTIPLE":"Вы уверены, что хотите удалить даты начала/окончания у {pw{cardsCount}pw} карточек Trello?","REMOVE_TRELLO_CARD_DATES_TITLE":"Удалить из календаря","REMOVE_TRELLO_CHECK_ITEM_CARD_DATES_CONFIRM":"Вы уверены, что хотите удалить даты начала/окончания у выбранного элемента чек-листа Trello?","REMOVE_TRELLO_CHECK_ITEM_CARD_DATES_CONFIRM_MULTIPLE":"Вы уверены, что хотите удалить даты начала/окончания у {pw{cardsCount}pw} элементов чек-листов Trello?","REMOVE_TRELLO_CHECK_ITEM_CARD_DATES_TITLE":"Удалить из календаря","REMOVE_TRELLO_CUSTOM_FIELD_CARD_DATES_CONFIRM":"Вы уверены, что хотите удалить дату у выбранного пользовательского поля Trello?","REMOVE_TRELLO_CUSTOM_FIELD_CARD_DATES_CONFIRM_MULTIPLE":"Вы уверены, что хотите удалить дату у {pw{cardsCount}pw} пользовательских полей Trello?","REMOVE_TRELLO_CUSTOM_FIELD_CARD_DATES_TITLE":"Удалить из календаря","REPEAT_EVERY":"Повторять с интервалом","REPEAT_ON":"Дни повторения","REPORTS_EXPORT_ALL_CARDS":"Выберите интервал дат","REPORTS_EXPORT_TIME_RECORDS":"Выберите интервал дат","SAVE_NEW_CARD_CHANGES_CONFIRM":"Карточка не будет создана, если вы не сохраните изменения","SAVE_NEW_CARD_CHANGES_TITLE":"Сохранить изменения, внесённые в карточку?","SECOND":"второй","SEND_FEEDBACK_TITLE":"Запрос в техподдержку","SETTINGS_TITLE":"Настройки","CARD_POSITION_SETTINGS_TOP":"В начале списка задач","CARD_POSITION_SETTINGS_BOTTOM":"В конце списка задач","SET_FIRST_WEEK_DAY":"Первый день недели","SET_WORK_DAYS":"Рабочие дни","SET_WORK_HOURS":"Рабочие часы","SHARE_BOARD_TITLE":"Доступ к доске","SHARE_BOARD_URL_TITLE":"Ссылка на доску","SHORTCUTS_ARCHIVE_CARD_DESCRIPTION":"Архивировать карточку","SHORTCUTS_ASSIGN_YOURSELF_DESCRIPTION":"Назначить на себя","SHORTCUTS_DELETE_CARD_DESCRIPTION":"Удалить карточку","SHORTCUTS_DUPLICATE_CARD_DESCRIPTION":"Создать копию карточки","SHORTCUTS_MY_CARDS_DESCRIPTION":"Отфильтровать свои карточки","SHORTCUTS_QUICK_ADD_LABEL_DESCRIPTION":"Метка","SHORTCUTS_REMOVE_CARD_DESCRIPTION":"Удалить карточку из календаря","SHORTCUTS_SUBTITLE":"Наведите указатель мыши на карточку или откройте диалог редактирования карточки, чтобы использовать горячие клавиши","SHORTCUTS_TITLE":"Горячие клавиши","SHORTCUTS_TOGGLE_LABEL_DESCRIPTION":"Добавить/удалить метку","SHORTCUTS_TOGGLE_MEMBER_DESCRIPTION":"Добавить/удалить участника","SHORTCUTS_WATCH_DESCRIPTION":"Отслеживать","SHOW_CUSTOM_FIELDS_AS_CARDS":"Показывать поля пользователя как карточки","SIGN_IN_REQUIRED_1":"Необходима авторизация","SIGN_IN_REQUIRED_2":"Planyway установлен. Необходимо авторизоваться с помощью аккаунта Trello","START_DATE":"датой начала","START_TIME":"временем начала","STEP":"шаг","THIRD":"третий","TIME":"Время","TIME_RECORD":"Запись времени","TIME_RECORDS":"Записи времени","TO":"до","UNKNOWN_CARD":"Неизвестная карточка","USE_DUE_DATE_AS":"Связывать дату карточки с","USE_DUE_TIME_AS":"Связывать время карточки с","VIEW_BOARD_NAME":"Доска Trello","WEEKLY":"неделя","YEARLY":"год"},"MENU":{"ADD_BOARD_BY_URL":"Добавить доску по ссылке","ADD_BOARDS":"Добавить доски","ADD_CARD_LINK":"Добавить зависимость","ADD_CHECKLIST":"Добавить чек-лист","ADD_FILTER":"Добавить фильтр","ADD_ICAL_BY_URL":"Добавить календарь по ссылке","ADD_REMINDER":"Добавить напоминание","ADD_TIME_RECORD":"Записать время","ALL":"Все","APPEARANCE":"Внешний вид карточек","BOARD":"Доска","BOARD_EDIT":"Редактировать доску","BOARD_REMOVE":"Удалить доску","BOARDS_SEARCH_PLACEHOLDER":"Найти доску по названию...","CARD_ARCHIVE":"Архивировать","CARD_COPY_URL":"Копировать ссылку","CARD_DELETE":"Удалить","CARD_DUPLICATE":"Создать копию","CARD_LINK_BLOCKS":"Блокирует","CARD_LINK_IS_BLOCKED_BY":"Ожидает","CARD_MARK_COMPLETE":"Отметить как завершённую","CARD_MARK_INCOMPLETE":"Отметить как незавершённую","CARD_NUMBER":"Номер карточки","CARD_PRIORITY":"Приоритет","CARD_REMOVE":"Удалить из календаря","CARD_UNARCHIVE":"Разархивировать","CLEAR_ALL_FILTERS":"Очистить все","COPY_URL":"Копировать ссылку","CUSTOM_FIELDS":"Поля пользователя","CUSTOM_FILTERS":"Пользовательские фильтры","DATE_AND_TIME":"Дата и время","ENABLE_TRELLO_FILTERS":"Использовать фильтры Trello","EXPORT_TO_CSV":"Экспорт в CSV","FIELDS":"Поля","GROUP_BY":"Группировка","HELP":"Справка","HIDE_DAILY_ESTIMATE_FIELD":"Удалить оценку","HIGHLIGHT_TODAY":"Выделять текущий день","HOME":"Домашняя страница","IN_BOARD":"в доске","IN_CALENDAR":"в календаре","INVITE_MEMBERS":"Добавить участников","LABELS":"Метки","LABELS_SEARCH_PLACEHOLDER":"Найти метку по названию...","LISTS":"Списки","LISTS_SEARCH_PLACEHOLDER":"Найти список по названию...","LIVE_CHAT":"Чат с техподдержкой","LOG_OUT":"Выйти","MEMBER":"Участник","MEMBERS":"Участники","MEMBERS_SEARCH_PLACEHOLDER":"Найти участника по имени...","MONTH":"Месяц","NOTIFICATIONS_DISABLE":"Отключить уведомления","NOTIFICATIONS_DISABLING":"Уведомления отключаются...","NOTIFICATIONS_ENABLE":"Включить уведомления","NOTIFICATIONS_ENABLING":"Уведомления включаются...","ONE_DAY":"День","ORGANIZATIONS_SEARCH_PLACEHOLDER":"Найти команды по названию...","ORIENTATION":"Ориентация","ORIENTATION_BOTTOM":"Снизу","ORIENTATION_LEFT":"Слева","ORIENTATION_RIGHT":"Справа","ORIENTATION_TOP":"Вверху","PERSONAL_BOARDS":"Персональные доски","PRINT":"Печать","PRIORITY_HIGH":"Высокий","PRIORITY_LOW":"Низкий","PRIORITY_MEDIUM":"Средний","PRIORITY_UNSET":"Нет приоритета","PUBLIC_BOARDS":"Общие доски (только чтение)","QUICK_START":"Быстрый старт","RELOAD_CALENDAR":"Обновить","REMINDER_UNIT_MINUTES":"минуты","REMINDER_UNIT_HOURS":"часы","REMINDER_UNIT_DAYS":"дни","REMINDER_UNIT_WEEKS":"недели","SCALE_DAY":"День","SCALE_MONTH":"Месяц","SCALE_QUARTER":"Квартал","SCALE_WEEK":"Неделя","SCALE_YEAR":"Год","SELECT_ALL":"Выбрать все","SELECT_NONE":"Снять выделение","SEND_FEEDBACK":"Запрос в техподдержку","SHORTCUTS":"Горячие клавиши","SEARCH_PLACEHOLDER":"Найти по названию...","SETTINGS":"Настройки","SHOW_ALL_CALENDARS":"Показать все","SHOW_ALL_LABELS":"Показать все","SHOW_ALL_LISTS":"Показать все","SHOW_ALL_MEMBERS":"Показать всех","SHOW_ARCHIVED_CARDS":"Архивные карточки","SHOW_CHECK_ITEM_CARDS":"Элементы чек-листа","SHOW_DAILY_ESTIMATE_FIELD":"Добавить оценку","SHOW_MILESTONES":"Вехи","SHOW_NON_WORKING_HOURS":"Нерабочие часы","SHOW_ONLY_CURRENT_MEMBER":"Показать только меня","SHOW_ONLY_CURRENT_CALENDAR":"Показать только текущую доску","SHOW_ONLY_DEFAULT_LIST":"Показать только список по умолчанию","SHOW_ONLY_WITHOUT_LABELS":"Показать только карточки без меток","SHOW_TIME_RECORD_CARDS":"Записи времени","SHOW_WEEKENDS":"Выходные","SHOW_WEEK_NUMBERS":"Номера недель","STARRED_BOARDS":"Избранные доски","TIMELINE":"Таймлайн","THREE_DAY":"3 дня","TOUR":"Обзор продукта","UNSCHEDULED":"Незапланированные","UNWATCH":"Отписаться","VIEW":"Вид","WATCH":"Подписаться","WEEK":"Неделя"},"MISC":{"ADD_COMMENT":"Добавить комментарий","ADD_DATE":"Добавить дату","ADD_TITLE":"Добавить название","ALL_DAY_SECTION":"Весь день","ALTERNATIVE_SIGN_IN":"Нет аккаунта? <span class=\\"pw-link pw-link--blue pw-js-sign-in-link\\">Войти</span> через Google, Microsoft или Apple!","AUTHORIZE_GOOGLE_LABEL":"Необходимо разрешить <b>Planyway</b> работать с вашим Google Calendar","AUTHORIZE_GOOGLE_CONSENT":"Нажимая «{pw{btnText}pw}» вы соглашаетесь с <a href=\\"{pw{termsOfUseUrl}pw}\\" target=\\"_blank\\" rel=\\"noreferrer\\">Условиями использования</a> и <a href=\\"{pw{privacyPolicyUrl}pw}\\" target=\\"_blank\\" rel=\\"noreferrer\\">Политикой конфиденциальности</a>","BOARD_BACKGROUND":"Цвет фона доски","BOARD_NAME":"Название доски","BOARD_ORGANIZATION":"Команда доски","BOARD_VISIBILITY":"Видимость доски","CHECKLIST":"Чек-лист","CONNECT_TO_TRELLO_BY_TOKEN_CONSENT":"Предоставляя токен Trello вы соглашаетесь с <a href=\\"{pw{termsOfUseUrl}pw}\\" target=\\"_blank\\" rel=\\"noreferrer\\">Условиями&nbsp;использования</a> и <a href=\\"{pw{privacyPolicyUrl}pw}\\" target=\\"_blank\\" rel=\\"noreferrer\\">Политикой&nbsp;конфиденциальности</a>","CONNECT_TO_TRELLO_CONSENT":"Нажимая «{pw{btnText}pw}» вы соглашаетесь с <a href=\\"{pw{termsOfUseUrl}pw}\\" target=\\"_blank\\" rel=\\"noreferrer\\">Условиями&nbsp;использования</a> и <a href=\\"{pw{privacyPolicyUrl}pw}\\" target=\\"_blank\\" rel=\\"noreferrer\\">Политикой&nbsp;конфиденциальности</a>","CONNECT_TO_TRELLO_TITLE":"Привет!","CONNECT_TO_TRELLO_WELCOME":"Необходимо подключить Planyway к вашему аккаунту Trello","CUSTOM":"Другое...","ENTER_CARD_TITLE":"Введите название карточки...","ENTER_CHECK_ITEM_TITLE":"Введите название элемента...","ENTER_DAILY_ESTIMATE":"Суточная оценка...","ENTER_TASK_LIST_TITLE":"Введите название списка...","FEW_BOARDS_AVAILABLE":"Доступно: {pw{availableBoardsCount}pw}","GET_APPS":"Приложения","GET_TRELLO_TOKEN_TEXT":"Возьмите ваш токен Trello","GET_TRELLO_TOKEN_LINK":"здесь","KANBAN":"В виде канбан","LIST":"В виде списка","LOAD_MEMBER_INFO_ERROR":"Не удалось подключиться к Trello. Planyway недоступен","MILESTONES":"Вехи","MISSING_TRELLO_TOKEN_ERROR":"Не удалось получить токен Trello. Пожалуйста, закройте эту страницу и попробуйте ещё раз","NO_BOARD_PLACEHOLDER":"Выберите доску...","NO_BOARDS":"Похоже, у вас ещё нет ни одной доски<br>Нажмите \\"Создать доску\\", чтобы продолжить работу с новой доской","NO_LABEL":"Без метки","NO_ORGANIZATION_PLACEHOLDER":"Выберите организацию...","NO_TITLE":"(без названия)","ONBOARDING_SHOW_BUTTON":"Нажмите здесь, чтобы открыть Planyway","ONBOARDING_SKIP":"Пропустить","ONBOARDING_OPEN_BOARD":"Привет!<br>Открой любую <b>доску Trello</b> и начни использовать Planyway","ONBOARDING_SIGN_IN":"Привет!<br>Для начала нужно авторизоваться в Trello","OPTIONAL":"необязательно","PER_DAY":"в день","PLANYWAY":"Planyway","PUSH_NOTIFICATIONS_ENABLE_BANNER_TEXT":"Включить уведомления для рабочего стола?","SEARCH_LINKED_CARD_PLACEHOLDER":"Найти зависимую карточку","SEARCH_PARENT_CARD_PLACEHOLDER":"Найти родительскую карточку","SELECT_DATE":"Выберите дату","SELECT_END_DATE":"Выберите дату окончания","SELECT_START_DATE":"Выберите дату начала","SET_DURATION":"Введите длительность","TOTAL":"Общее время","TRELLO_BOARD":"Доска Trello","TRELLO_TOKEN_LABEL":"Ваш токен Trello:","UNASSIGNED_MEMBER_FULL_NAME":"Нет участников","UNASSIGNED_MEMBER_INITIALS":"?","YOU_ARE_LOGGED_IN_AS":"Вы вошли как"},"NOTIFICATIONS":{"ACCEPT_INVITE_TO_BOARD_ERROR":"Не удалось принять приглашение на добавление в доску","ADD_CUSTOM_FILTER_ERROR":"Не удалось добавить пользовательский фильтр","ADD_MEMBER_TO_BOARD_ERROR":"Не удалось добавить участника","ATTACH_MAX_FILE_SIZE_WARNING":"Не удалось прикрепить файл \\"{pw{fileName}pw}\\". Превышен максимальный размер файла 10 МБ.","BOARD_IS_NOT_FOUND_ERROR":"Не удалось найти запрашиваемую доску","CARD_IS_NOT_FOUND_ERROR":"Не удалось найти запрашиваемую карточку","CONTACT_US_ERROR":"Не удалось отправить сообщение. Пожалуйста, попробуйте ещё раз","COPY_CARD_URL_ERROR":"Не удалось скопировать адрес карточки","COPY_TRELLO_TOKEN_ERROR":"Не удалось скопировать токен Trello","CREATE_BOARD_ERROR":"Не удалось создать новую доску","CREATE_GOOGLE_EVENT_ERROR":"Не удалось создать событие Google","CREATE_TRELLO_CARD_ERROR":"Не удалось создать карточку Trello","CREATE_INVITE_LINK_ERROR":"Не удалось создать ссылку для приглашения участников","CREATE_TRELLO_CHECK_ITEM_CARD_ERROR":"Не удалось создать элемент чек-листа Trello","CREATE_TRELLO_TIME_RECORD_CARD_ERROR":"Не удалось создать запись времени Trello","DELETE_GOOGLE_EVENT_ERROR":"Не удалось удалить событие Google","DELETE_INVITE_LINK_ERROR":"Не удалось удалить ссылку для приглашения участников","DELETE_TRELLO_CARD_ERROR":"Не удалось удалить карточку Trello","DELETE_TRELLO_CHECK_ITEM_CARD_ERROR":"Не удалось удалить элемент чек-листа Trello","CREATE_TRELLO_LABEL_ERROR":"Не удалось создать метку Trello","DELETE_TRELLO_TIME_RECORD_CARD_ERROR":"Не удалось удалить запись времени","DUPLICATE_CARD_ERROR":"Не удалось создать копию карточки","ERROR_TITLE":"Ошибка Planyway:","FEEDBACK_FILE_LIMIT_REACHED":"Добавлено максимально возможное количество файлов","FEEDBACK_FILE_NOT_IMAGE":"Файл не является изображением: {pw{fileName}pw}","FEEDBACK_FILE_SIZE_LIMIT_REACHED":"Достигнут максимальный размер файлов","ICAL_EXPORT_DELETE_ERROR":"Не удалось удалить ссылку на календарь","ICAL_EXPORT_DELETE_SUCCESS":"Ссылка на календарь успешно удалена","ICAL_EXPORT_GET_ERROR":"Не удалось получить ссылку на календарь","ICAL_EXPORT_POST_ERROR":"Не удалось создать ссылку на новый календарь","ICAL_EXPORT_POST_SUCCESS":"Новая ссылка на календарь успешно создана","INFO_TITLE":"Уведомление Planyway:","LOAD_CARDS_ERROR":"Не удалось загрузить карточки календаря","LOAD_MEMBER_INFO_ERROR":"Не удалось подключиться к Trello. Planyway недоступен","LOAD_PRICING_ERROR":"Не удалось загрузить цены","LOAD_RESOURCES_ERROR":"Не удалось загрузить ресурсы календаря","LOAD_TRELLO_COMMENTS_ERROR":"Не удалось загрузить комментарии","LOAD_TRELLO_LABEL_ERROR":"Не удалось загрузить метку Trello","LOCALE_CHANGED_WARNING":"Ваши региональные настройки были изменены. Обновите страницу, чтобы увидеть изменения","OPEN_CARD_ERROR":"Не удалось открыть карточку календаря","PLANYWAY_ACTIVATE_TRIAL_ERROR":"Не удалось активировать пробную версию","PLANYWAY_ACTIVATE_TRIAL_ERROR_NO_REMAINING_TRIALS":"Не удалось активировать пробную версию. Не осталось доступных активаций","PLANYWAY_ACTIVATE_TRIAL_ERROR_PAID_ALREADY_ACTIVE":"Не удалось активировать пробную версию. Платная лицензия уже активна","PLANYWAY_ACTIVATE_TRIAL_ERROR_WITH_MESSAGE":"Не удалось активировать пробную версию. {pw{message}pw}","PLANYWAY_GOOGLE_AUTH_FAILED":"Не удалось авторизовать аккаунт Google","PLANYWAY_GOOGLE_AUTH_INITIALIZATION_FAILED":"Не удалось авторизовать аккаунт Google. Пожалуйста, отключите блокировку сторонних файлов cookie в настройках браузера, обновите страницу и попробуйте снова. В случае повторного возникновения ошибки, пожалуйста, сообщите об этом нам","PLANYWAY_GOOGLE_AUTH_POPUP_BLOCKED":"Не удалось авторизовать аккаунт Google. Пожалуйста, разрешите показ всплывающих окон для сайта planyway.com в настройках браузера","PLANYWAY_GOOGLE_CONNECT_ERROR_WITH_MESSAGE":"Не удалось подключить аккаунт Google Calendar. {pw{message}pw}","PLANYWAY_GOOGLE_CONNECT_FAILED":"Не удалось подключить аккаунт Google Calendar","PLANYWAY_GOOGLE_CONNECT_FAILED_NOT_CONNECTED":"Не удалось подключить аккаунт Google Calendar, Google Calendar отключен","PLANYWAY_GOOGLE_CONNECT_FAILED_NOT_AUTHORIZED":"Не удалось подключить аккаунт Google Calendar, доступ к вашему Google календарю не разрешен","PLANYWAY_GOOGLE_CONNECT_FAILED_G_SUITE_ERROR":"Не удалось подключить аккаунт Google Calendar, доступ к приложениям Google ограничен политикой безопасности вашей организации. Пожалуйста, обратитесь к вашему системному администратору за помощью","PLANYWAY_GOOGLE_DISCONNECT_ERROR_WITH_MESSAGE":"Не удалось отключить аккаунт Google Calendar. {pw{message}pw}","PLANYWAY_GOOGLE_DISCONNECT_FAILED":"Не удалось отключить аккаунт Google Calendar","PLANYWAY_INITIALIZATION_ERROR":"Не удалось запустить Planyway","PLANYWAY_INVITE_ERROR_TOKEN_INVALID":"Не удалось обработать приглашение. Токен приглашения недействителен","PLANYWAY_INVITE_ERROR_UNCONFIRMED_MEMBER":"Не удалось принять приглашение. Подтвердите Ваш аккаунт Trello, перейдя по ссылке из письма, которое Вам прислал Trello при регистрации","PLANYWAY_INVITE_ERROR_WITH_MESSAGE":"Не удалось обработать приглашение. {pw{message}pw}","PLANYWAY_MEMBER_LICENSE_LOADING_ERROR":"Не удалось подключиться к Planyway","PLANYWAY_SYNC_GOOGLE_AUTH_ERROR":"Ошибка синхронизации с Google: Календарь Google недоступен","PLANYWAY_SYNC_GOOGLE_CALENDAR_ERROR":"Ошибка синхронизации с Google: Календарь Google не найден","PLANYWAY_SYNC_GOOGLE_G_SUITE_ERROR":"Ошибка синхронизации с Google: Доступ к приложениям Google ограничен политикой безопасности вашей организации. Пожалуйста, обратитесь к вашему системному администратору за помощью","PLANYWAY_SYNC_LICENSE_EXPIRED_ERROR":"Ошибка синхронизации с Google: Отсутствует или истекла лицензия Planyway","PLANYWAY_SYNC_START_FAILED":"Не удалось запустить синхронизацию с Google","PLANYWAY_SYNC_START_FAILED_NOT_AUTHORIZED":"Не удалось запустить синхронизацию с Google, доступ к вашему Google календарю не разрешен","PLANYWAY_SYNC_START_FAILED_NOT_LICENSED":"Не удалось запустить синхронизацию с Google, отсутствует или истекла лицензия Planyway","PLANYWAY_SYNC_START_FAILED_WITH_MESSAGE":"Не удалось запустить синхронизацию с Google. {pw{message}pw}","PLANYWAY_SYNC_START_GOOGLE_AUTH_ERROR":"Не удалось запустить синхронизацию с Google, календарь Google недоступен","PLANYWAY_SYNC_START_GOOGLE_CALENDAR_ERROR":"Не удалось запустить синхронизацию с Google, календарь Google не найден","PLANYWAY_SYNC_START_GOOGLE_G_SUITE_ERROR":"Не удалось запустить синхронизацию с Google, доступ к приложениям Google ограничен политикой безопасности вашей организации. Пожалуйста, обратитесь к вашему системному администратору за помощью","PLANYWAY_SYNC_START_LONGER_THEN_USUAL":"Запуск синхронизации с Google занимает больше времени, чем обычно. Пожалуйста, попробуйте позже, если это необходимо","PLANYWAY_SYNC_START_TRELLO_AUTH_ERROR":"Не удалось запустить синхронизацию с Google, нет доступа к доске Trello","PLANYWAY_SYNC_START_TRELLO_BOARD_ERROR":"Не удалось запустить синхронизацию с Google, доска Trello не найдена","PLANYWAY_SYNC_STARTED":"Синхронизация с Google запущена","PLANYWAY_SYNC_STATUS_LOADING_ERROR":"В настоящий момент не удаётся проверить статус синхронизации с Google...","PLANYWAY_SYNC_STATUS_LOADING_ERROR_WITH_MESSAGE":"Не удаётся проверить статус синхронизации с Google. {pw{message}pw}","PLANYWAY_SYNC_STOP_FAILED":"Не удалось остановить синхронизацию с Google","PLANYWAY_SYNC_STOP_FAILED_WITH_MESSAGE":"Не удалось остановить синхронизацию с Google. {pw{message}pw}","PLANYWAY_SYNC_STOP_LONGER_THEN_USUAL":"Остановка синхронизации с Google занимает больше времени, чем обычно. Пожалуйста, попробуйте позже, если это необходимо","PLANYWAY_SYNC_STOPPED":"Синхронизация с Google остановлена","PLANYWAY_SYNC_TRELLO_AUTH_ERROR":"Ошибка синхронизации с Google: Нет доступа к доске Trello","PLANYWAY_SYNC_TRELLO_BOARD_ERROR":"Ошибка синхронизации с Google: Доска Trello не найдена","PLANYWAY_SYNC_TRELLO_LIMIT_ERROR":"Ошибка синхронизации с Google: Превышено количество карточек Trello","PLANYWAY_SYNC_UNKNOWN_ERROR":"Ошибка синхронизации с Google: Неизвестная ошибка, пожалуйста обновите Planyway","PROGRESS_TITLE":"Пожалуйста подождите:","PUSH_NOTIFICATIONS_BLOCKED_ERROR":"Не удалось включить push-уведомления так как они заблокированы настройками браузера","PUSH_NOTIFICATIONS_DISABLE_ERROR":"Не удалось отключить push-уведомления. Пожалуйста, попробуйте позже","PUSH_NOTIFICATIONS_ENABLE_ERROR":"Не удалось включить push-уведомления. Пожалуйста, попробуйте позже","PUSH_NOTIFICATIONS_REGISTER_LONGER_THAN_USUAL":"Регистрация подписки на push-уведомления занимает больше времени, чем обычно. Пожалуйста, попробуйте позже, если это необходимо","PUSH_NOTIFICATIONS_UNREGISTER_LONGER_THAN_USUAL":"Отмена регистрации подписки на push-уведомления занимает больше времени, чем обычно. Пожалуйста, попробуйте позже, если это необходимо","REMOVE_BOARD_ERROR":"Не удалось удалить доску","REMOVE_CARD_ERROR":"Не удалось удалить карточку из календаря","REMOVE_CUSTOM_FILTER_ERROR":"Не удалось удалить пользовательский фильтр","REMOVE_MEMBER_FROM_BOARD_ERROR":"Не удалось удалить участника","REMOVE_TRELLO_CARD_ERROR":"Не удалось удалить даты начала/окончания у карточки Trello","REMOVE_TRELLO_CUSTOM_FIELD_CARD_ERROR":"Не удалось удалить даты начала/окончания у элемента чек-листа Trello","REMOVE_TRELLO_CHECK_ITEM_CARD_ERROR":"Не удалось удалить дату у пользовательского поля Trello","REPORT_ERROR":"Не удалось построить отчёт","SEND_FEEDBACK_ERROR":"Не удалось отправить запрос в техподдержку","SEND_FEEDBACK_SUCCESS":"Ваш запрос отправлен","SUCCESS_TITLE":"Успешно выполнено:","TASK_LIST_CREATE_ERROR":"Не удалось создать новый список","TASK_LIST_DELETE_ERROR":"Не удалось удалить список","TASK_LIST_UPDATE_ERROR":"Не удалось обновить список","TEAMPLANNER_DROP_MEMBER_NOT_EXIST_WARNING":"Только участники доски \\"{pw{boardName}pw}\\" могут быть назначены","TIME_ZONE_CHANGED":"Мы заметили, что вы изменили часовой пояс. Пожалуйста, обновите Planyway, чтобы изменения вступили в силу","TRELLO_CARD_DROP_ERROR":"Не удалось перенести карточку из Trello","TRELLO_TOKEN_COPIED_TO_CLIPBOARD":"Токен Trello скопирован в буфер обмена. Можете закрыть эту страницу","UPDATE_BOARD_ERROR":"Не удалось обновить доску","UPDATE_BOARD_PERMISSION_ERROR":"Не удалось обновить настройки доступа к доске","UPDATE_CARD_ERROR":"Не удалось обновить карточку в календаре","UPDATE_RECURRING_CARD_ERROR":"Не удалось обновить повторяющуюся карточку","URL_COPIED_TO_CLIPBOARD":"Ссылка скопирована в буфер обмена","WARNING_TITLE":"Предупреждение Planyway:"},"TOOLTIPS":{"ADD_ATTACHMENT_OR_DROP_FILES":"Добавить вложение или перетащить файлы","ADD_CARD_LINK":"Добавить зависимость","ADD_CHECK_ITEM":"Добавить элемент чек-листа","ADD_LIST":"Добавить список","ADD_REMINDER":"Добавить напоминание","ADD_TIME_RECORD":"Записать время","ASSIGN":"Добавить участника","BOARD":"Доска","BOARDS":"Доски","BOARD_ACTIONS":"Действия с доской","CALENDAR":"Календарь","CALENDAR_HIDE":"Скрыть Planyway","CALENDAR_SHOW":"Показать Planyway","CALENDAR_UNAVAILABLE_LOADING":"Planyway загружается...","CARD_LINK_ERROR_LINKS_DISABLED":"Зависимая карточка не может иметь зависимостей","CARD_LINK_ERROR_NO_CARD":"Зависимая карточка не загружена","CARD_LINK_ERROR_NO_LINK":"Зависимость была удалена из зависимой карточки","CARD_LINKS":"Зависимости","CARD_MENU":"Меню карточки","CHECK_ITEM":"Элемент чек-листа","CLEAR":"Очистить","COPY_TO_CLIPBOARD":"Скопировать в буфер обмена","CUSTOM_FIELD":"Пользовательское поле","DAY_BACKWARD":"Предыдущий день","DAY_FORWARD":"Следующий день","DATE":"Дата","DATES":"Даты","DELETE":"Удалить","DELETE_ITEM":"Удалить элемент","DESCRIPTION":"Описание","DURATION":"Длительность","EDIT":"Редактировать","EDIT_ICAL":"Редактировать календарь","DAILY_ESTIMATE":"Суточная оценка","EXPAND_CHECK_ITEMS":"Развернуть элементы чек-листов","FILTER_CARDS":"Фильтровать карточки","FULLSCREEN":"На весь экран","HELP":"Справка","HIDE":"Скрыть","HIDE_CHAT_WINDOW":"Скрыть окно чата","HIDE_DAILY_ESTIMATE_FIELD":"Удалить оценку","HIDE_SIDEBAR":"Скрыть главное меню","ICAL_EXPORT_DELETE":"Удалить ссылку","ICAL_EXPORT_RESET":"Сбросить ссылку","IN_BOARD":"в доске","IN_CALENDAR":"в календаре","IN_CARD":"в карточке","IN_CHECKLIST":"в чек-листе","IN_LIST":"в списке","LABELS":"Метки","LIST":"Список","MARK_COMPLETE":"Отметить как завершённую","MARK_INCOMPLETE":"Отметить как незавершённую","MEMBER":"Участник","MEMBERS":"Участники","MILESTONES":"Вехи","MONTH_BACKWARD":"Предыдущий месяц","MONTH_FORWARD":"Следующий месяц","NOTIFICATIONS_ARE_DISABLED":"Уведомления для рабочего стола сейчас отключены. Нажмите, чтобы включить","QUARTER_BACKWARD":"Предыдущий квартал","QUARTER_FORWARD":"Следующий квартал","PARENT_CARD":"Родительская карточка","PRIORITY":"Приоритет","RECURRENT_RULE":"Правило повторения","REMOVE":"Удалить","REMOVE_DATE":"Удалить дату","REMOVE_DATES":"Удалить даты","REMOVE_FROM_CALENDAR":"Удалить из календаря","REPLY":"Ответить","SCALE_IN":"Увеличить масштаб","SCALE_OUT":"Уменьшить масштаб","SETTINGS":"Настройки","SET_DATES":"Задать даты","SHARE_BOARD":"Доступ к доске","SHOW_DAILY_ESTIMATE_FIELD":"Добавить оценку","SHOW_CHAT_WINDOW":"Показать окно чата","SHOW_MULTIBOARD_FILTER_MENU":"Фильтровать карточки из текущей доски","SHOW_SIDEBAR":"Показать главное меню","SYNC_ALL_CARDS":"все","SYNC_AVAILABILITY":"Показать как","SYNC_AVAILABILITY_BUSY":"занято","SYNC_AVAILABILITY_FREE":"доступно","SYNC_COMPLETED_CARDS":"Показать завершённые","SYNC_EXCLUDE_COMPLETED_CARDS":"нет","SYNC_MARK_COMPLETED_CARDS":"да","SYNC_ONLY_MY_CARDS":"только назначенные на меня","SYNC_OPTIONS_TITLE":"Настройки текущей синхронизации:","SYNC_SET_EVENT_COLORS":"Цвет события","SYNC_SET_EVENT_COLORS_BY_LABEL":"как в Trello","SYNC_SET_EVENT_COLORS_DEFAULT":"по умолчанию","SYNC_WITH_GOOGLE_CALENDAR":"Карточки","TASK_LIST_HIDE":"Скрыть список карточек","TASK_LIST_SHOW":"Показать список карточек","UNWATCH":"Отписаться","WATCH":"Подписаться","WEEK_BACKWARD":"Предыдущая неделя","WEEK_FORWARD":"Следующая неделя","YEAR_BACKWARD":"Предыдущий год","YEAR_FORWARD":"Следующий год"}}')},588:function(e,t){},589:function(e,t){},599:function(e,t){},600:function(e,t){},620:function(e,t){},622:function(e,t){},623:function(e,t){},624:function(e,t){},625:function(e,t){},633:function(e,t){},639:function(e,t){},642:function(e,t){},7:function(e,t,r){"use strict";r.d(t,"S",(function(){return i})),r.d(t,"B",(function(){return a})),r.d(t,"R",(function(){return n})),r.d(t,"T",(function(){return o})),r.d(t,"p",(function(){return s})),r.d(t,"a",(function(){return l})),r.d(t,"b",(function(){return d})),r.d(t,"l",(function(){return c})),r.d(t,"G",(function(){return u})),r.d(t,"N",(function(){return h})),r.d(t,"c",(function(){return _})),r.d(t,"x",(function(){return m})),r.d(t,"Q",(function(){return p})),r.d(t,"o",(function(){return E})),r.d(t,"q",(function(){return f})),r.d(t,"I",(function(){return y})),r.d(t,"y",(function(){return C})),r.d(t,"W",(function(){return T})),r.d(t,"J",(function(){return g})),r.d(t,"L",(function(){return S})),r.d(t,"E",(function(){return D})),r.d(t,"F",(function(){return v})),r.d(t,"C",(function(){return A})),r.d(t,"d",(function(){return b})),r.d(t,"P",(function(){return I})),r.d(t,"D",(function(){return R})),r.d(t,"g",(function(){return k})),r.d(t,"s",(function(){return O})),r.d(t,"r",(function(){return w})),r.d(t,"e",(function(){return L})),r.d(t,"f",(function(){return N})),r.d(t,"K",(function(){return P})),r.d(t,"V",(function(){return M})),r.d(t,"O",(function(){return B})),r.d(t,"u",(function(){return F})),r.d(t,"t",(function(){return G})),r.d(t,"i",(function(){return U})),r.d(t,"k",(function(){return H})),r.d(t,"A",(function(){return Y})),r.d(t,"H",(function(){return W})),r.d(t,"M",(function(){return $})),r.d(t,"v",(function(){return z})),r.d(t,"j",(function(){return V})),r.d(t,"h",(function(){return x})),r.d(t,"U",(function(){return j})),r.d(t,"z",(function(){return K})),r.d(t,"w",(function(){return X})),r.d(t,"n",(function(){return q})),r.d(t,"m",(function(){return J}));const i="Planyway Calendar",a="Planyway",n="c05e9168828198b995a2175af18e5686",o="https://trello-logos.s3.amazonaws.com",s="442776835437-hdtlsqk5d7vudej196jqomact0p2onj8.apps.googleusercontent.com",l="7b125b529ffb0de07329e198d3b3cbde",d="25649807-3376-4c5d-ae98-0d2bf8dd4a5a",c="https://export.planyway.com",u="https://planyway.com/api/p",h="https://planyway.com/api/s",_="https://planyway.com/api/b",m="https://planyway.com/api/n",p="https://planyway.com/api/t",E="https://www.googleapis.com/calendar/v3",f="https://www.googleapis.com/oauth2/v3",y="-----BEGIN PUBLIC KEY-----\nMIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEAzHr6/s9kR3hn1ei03DC6\nA4BkWxD7ZeOUUD9FioRbPyYcaE5k6RopsaDGPw+Z8aDR3P6GCPe51QhtilyqWULv\nET4+Xqji4cJ2EjsDEZHOB1mfqs/dmTMVoDGNlsmEXBHOjPxNl6Krg7LK1edveN95\nYeV520wmDOIvPH5QYVKZzqZ7t26gi7zBTJpUzQ0gWM6MYoozgz8HIGad+wbHmHez\n4EIzVN00gbRnfsh+rshbbogEZ7RlNWadbgl0LJtcQRFmOgZrDIDhxd9wghG5FC4h\nY54M3JE1YXOXasJlwtUEMlFFsQGCMgtMzSpvNFWhHgwa/7Ntoa1HCjh4D1103jvY\nBQIDAQAB\n-----END PUBLIC KEY-----",C="-----BEGIN PUBLIC KEY-----\nMIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEAn9KMm0FMa+yf5J5b/bIW\n5ktSpmJTduVDYOxxU39HUGFUDBFbSApBjL/dStEjtm3I8emeVvrC7G5go5ca2xd0\nbFUyOUygRCHvZU/g3vPby4r+paPouul0P37T+IWkNAoa91Zk0XswRtge/+3cSU+i\n+vH6JCKkdKK0IqqivYQ979ObDomc4re6kzWJd9Ee4rU0J0naME1+Ffj1RbJO43Kg\n4PkZZTAVhmbgAzkcTmHs/GMDBrXtHACCkYLctY1N8QtfExI5Lr1RFQN9cuDFZaV6\nT/hgkp08WpnkGjqstR8sgazHs5zZvlHF5Qe6MeuR3dHirGCSbnkZmdjvCF8T+xeq\n1QIDAQAB\n-----END PUBLIC KEY-----",T="BMtojXzd4NIHuVPeQRNc5KxFfi1ald8vaPAeX14AUpu6-b0JpZCVyA-TxquggLgPR1afbrJSSn6y8G3LdaHzino",g="https://planyway.com",S="https://planyway.com/app",D=`${g}/profile?tab=billing`,v=`${g}/profile?tab=users`,A=`${g}/pricing`,b=`${g}/blog`,I=`${g}/legal/terms-of-use`,R=`${g}/legal/privacy-policy`,k=`${g}/app-changelog/app-changelog.json`,O=`${g}/help`,w=`${O}/getting-started`,L="boardId",N="cardId",P="source",M="type",B="teams",F="inviteToken",G="pw_ignored_rejection",U="pwDraggableCard",H="000000000000000000000000",Y="pwPersonalBoards",W="pwPublicBoards",$="pwStarredBoards",z="pwMilestones",V="pwDummyResource",x="customField_",j=16384,K="?planyway=onboarding",X="aae61b93-6bb0-4886-85b4-ce4a4353f4cb",q="https://wchat.freshchat.com",J="29ef6cd6-8424-4d56-975c-fc43d60bdcda"},88:function(e,t,r){"use strict";r.d(t,"a",(function(){return ObservableMap}));var i=r(29),a=r.n(i),n=r(33),o=r.n(n),s=r(22),l=r.n(s),d=r(20),c=r.n(d),u=r(5),h=r.n(u),_=r(2),m=r.n(_),p=r(27),E=r.n(p),f=r(16),y=r.n(f),C=r(19),T=r.n(C);class ObservableMap{constructor(e){this._keyName=e,this._innerMap=new T.a,this._cardsListeners={added:new y.a,updated:new y.a,deleted:new y.a,cleared:new y.a}}addEventListener(e,t){let r=this._cardsListeners[e];if(!r)throw new Error(`Unsupported event type: ${e}`);r.add(t)}removeEventListener(e,t){let r=this._cardsListeners[e];if(!r)throw new Error(`Unsupported event type: ${e}`);r.delete(t)}add(e,t={}){var r;let i=e[this._keyName];if(!i)throw new Error(`Cannot find key "${this._keyName}" on object:\n${E()(e,null,4)}`);this._innerMap.set(i,e),m()(r=this._cardsListeners.added).call(r,(r=>r(e,t)))}update(e,t={}){var r;let i=e[this._keyName];if(!i)throw new Error(`Cannot find key "${this._keyName}" on object:\n${E()(e,null,4)}`);let a=this._innerMap.get(i);a&&a.clone&&(a=a.clone()),this._innerMap.set(i,e),m()(r=this._cardsListeners.updated).call(r,(r=>r(e,{...t,oldValue:a})))}delete(e,t={}){var r;let i=e[this._keyName];i||(i=e);let a=this._innerMap.get(i);this._innerMap.delete(i)&&m()(r=this._cardsListeners.deleted).call(r,(e=>e(a,t)))}clear(){var e;this._innerMap.clear(),m()(e=this._cardsListeners.cleared).call(e,(e=>e()))}get(e){return this._innerMap.get(e)}has(e){return this._innerMap.has(e)}find(e){var t;return h()(t=this._innerMap).call(t,(t=>e(t)))}some(e){var t;return c()(t=this._innerMap).call(t,(t=>e(t)))}keys(){var e;return l()(o()(e=this._innerMap).call(e))}values(){var e;return l()(a()(e=this._innerMap).call(e))}}}});